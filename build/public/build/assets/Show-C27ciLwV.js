import{d as A,s as C,c as d,a as s,u as e,h as F,w as c,b as n,i as S,j as u,t,o as l,e as o,F as j,r as P,f as y}from"./app-B-wLZQl0.js";import{_ as E}from"./PageShell.vue_vue_type_script_setup_true_lang-CS74Goxj.js";import{_ as h}from"./index-D8JUok4n.js";import{_ as g,a as x}from"./CardContent.vue_vue_type_script_setup_true_lang-f-xi8uWj.js";import{_ as w}from"./CardHeader.vue_vue_type_script_setup_true_lang-Cn7HWfaF.js";import{_ as $}from"./CardTitle.vue_vue_type_script_setup_true_lang-DXA8XANX.js";import{_ as U}from"./index-a73qSWOM.js";import{_ as D}from"./Separator.vue_vue_type_script_setup_true_lang-8_dGzQCj.js";import{u as M,z,b as H,c as O,d as G,e as k}from"./AppSidebarHeader.vue_vue_type_script_setup_true_lang-DKxjvTPB.js";import{S as I}from"./send-C-rqTrkv.js";import{c as J}from"./createLucideIcon-CbxkoCx6.js";import{S as N}from"./square-pen-DZtT9kbx.js";import{A as K}from"./arrow-left-DSX0n2_N.js";import{E as Q}from"./ellipsis-DRk1q4ie.js";import{C as R}from"./copy-CrT76hP_.js";import{T as W}from"./trash-2-BxVbfljz.js";import"./AppLayout.vue_vue_type_script_setup_true_lang-CAfRB85X.js";import"./loader-circle-BSwxCoSE.js";import"./info-_qQ0Rbsf.js";import"./circle-check-YKnAkXoj.js";import"./useForwardExpose-Ca12vFmR.js";import"./VisuallyHidden-BZkMfMV2.js";import"./PopperContent-BDPRX1DE.js";import"./handleAndDispatchCustomEvent-ChOKVcqp.js";import"./Collection-DN_gmv-a.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./RovingFocusGroup-ChUfgJPy.js";import"./building-2-DLYGST8U.js";import"./plus-C63jdNg7.js";import"./check-DogY6QNG.js";import"./index-Buy61MQA.js";import"./settings-B8OaYlkV.js";import"./file-text-CFHWSPvd.js";import"./users-CkYIFvpU.js";import"./calendar-B0yi2zLg.js";import"./Label.vue_vue_type_script_setup_true_lang-By03EcqK.js";import"./VisuallyHiddenInput-CgZzfdZ2.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=J("DownloadIcon",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Y={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},Z={class:"lg:col-span-2 space-y-6"},ee={class:"flex justify-between items-start mb-6"},te={class:"text-2xl font-bold"},ie={class:"text-muted-foreground"},ne={class:"text-muted-foreground"},se={key:0,class:"text-destructive font-medium"},ae={class:"grid grid-cols-2 gap-6"},ce={class:"font-semibold mb-2"},oe={class:"font-medium"},le={key:0},de={key:1},ue={class:"text-right"},re={key:0,class:"mb-1"},me={class:"font-medium"},ve={key:1,class:"mb-1"},fe={class:"font-medium"},ye={class:"space-y-4"},he={class:"grid grid-cols-12 gap-2 text-sm font-medium text-muted-foreground pb-2 border-b"},_e={class:"col-span-6"},be={class:"col-span-2 text-right"},ge={class:"col-span-2 text-right"},xe={class:"col-span-2 text-right"},we={class:"col-span-6"},$e={class:"col-span-2 text-right"},ke={class:"col-span-2 text-right"},pe={class:"col-span-2 text-right"},Ce={key:0},Se={class:"font-medium"},je={class:"text-sm"},De={key:1},Ie={class:"font-medium"},Ne={class:"text-sm"},Te={class:"space-y-6"},Be={class:"flex justify-between text-sm"},Le={key:0,class:"flex justify-between text-sm"},Ve={key:1,class:"flex justify-between text-sm"},qe={class:"flex justify-between font-bold"},Ae={class:"flex justify-between text-sm"},Fe={class:"flex justify-between font-bold text-lg"},Pe={class:"flex justify-between text-sm"},Ee={key:0,class:"flex justify-between text-sm"},Ue={key:1,class:"flex justify-between text-sm"},Me={key:2,class:"flex justify-between text-sm"},Ct=A({__name:"Show",props:{company:{},invoice:{}},setup(i){const r=i,{t:a}=M(),T=C(()=>[{title:a("dashboard"),href:"/dashboard"},{title:r.company.name,href:`/${r.company.slug}`},{title:a("invoices"),href:`/${r.company.slug}/invoices`},{title:r.invoice.invoice_number}]),B=b=>{switch(b){case"draft":return"secondary";case"sent":return"default";case"paid":return"success";case"overdue":return"destructive";case"cancelled":return"outline";default:return"secondary"}},f=(b,m)=>new Intl.NumberFormat("en-US",{style:"currency",currency:m||"USD"}).format(b),_=b=>new Date(b).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),L=C(()=>r.invoice.status!=="paid"&&r.invoice.status!=="cancelled"&&new Date(r.invoice.due_date)<new Date),p=()=>{y.post(`/${r.company.slug}/invoices/${r.invoice.id}/send`)},V=()=>{y.post(`/${r.company.slug}/invoices/${r.invoice.id}/duplicate`)},q=()=>{confirm("Are you sure you want to void this invoice?")&&y.post(`/${r.company.slug}/invoices/${r.invoice.id}/void`)};return(b,m)=>(l(),d(j,null,[s(e(F),{title:`${e(a)("invoices")} ${i.invoice.invoice_number}`},null,8,["title"]),s(E,{title:`${e(a)("invoices")} ${i.invoice.invoice_number}`,breadcrumbs:T.value},{actions:c(()=>[s(e(h),{variant:"outline",onClick:m[0]||(m[0]=v=>e(y).get(`/${i.company.slug}/invoices`))},{default:c(()=>[s(e(K),{class:"mr-2 h-4 w-4"}),o(" "+t(e(a)("back")),1)]),_:1}),s(e(H),null,{default:c(()=>[s(e(O),{asChild:""},{default:c(()=>[s(e(h),{variant:"outline"},{default:c(()=>[s(e(Q),{class:"mr-2 h-4 w-4"}),m[4]||(m[4]=o(" More ",-1))]),_:1})]),_:1}),s(e(G),{align:"end"},{default:c(()=>[s(e(k),{onClick:m[1]||(m[1]=v=>e(y).get(`/${i.company.slug}/invoices/${i.invoice.id}/edit`))},{default:c(()=>[s(e(N),{class:"mr-2 h-4 w-4"}),o(" "+t(e(a)("edit")),1)]),_:1}),s(e(k),{onClick:V},{default:c(()=>[s(e(R),{class:"mr-2 h-4 w-4"}),o(" "+t(e(a)("duplicate")),1)]),_:1}),s(e(k),{onClick:q},{default:c(()=>[s(e(W),{class:"mr-2 h-4 w-4"}),o(" "+t(e(a)("void")),1)]),_:1})]),_:1})]),_:1}),s(e(h),{onClick:p,disabled:["paid","cancelled","void"].includes(i.invoice.status)},{default:c(()=>[s(e(I),{class:"mr-2 h-4 w-4"}),o(" "+t(e(a)("markAsSent")),1)]),_:1},8,["disabled"])]),default:c(()=>[n("div",Y,[n("div",Z,[s(e(g),null,{default:c(()=>[s(e(x),{class:"pt-6"},{default:c(()=>[n("div",ee,[n("div",null,[n("h1",te,t(e(a)("invoices"))+" "+t(i.invoice.invoice_number),1),n("p",ie,t(e(a)("invoiceDate"))+": "+t(_(i.invoice.invoice_date)),1),n("p",ne,t(e(a)("dueDate"))+": "+t(_(i.invoice.due_date)),1),L.value?(l(),d("p",se,t(e(a)("overdue")),1)):u("",!0)]),s(e(U),{variant:B(i.invoice.status),class:"text-sm"},{default:c(()=>[o(t(i.invoice.status),1)]),_:1},8,["variant"])]),n("div",ae,[n("div",null,[n("h3",ce,t(e(a)("whoIsThisFor")),1),n("div",null,[n("p",oe,t(i.invoice.customer.name),1),i.invoice.customer.email?(l(),d("p",le,t(i.invoice.customer.email),1)):u("",!0),i.invoice.customer.phone?(l(),d("p",de,t(i.invoice.customer.phone),1)):u("",!0)])]),n("div",ue,[i.invoice.reference?(l(),d("p",re,[n("span",me,t(e(a)("reference"))+":",1),o(" "+t(i.invoice.reference),1)])):u("",!0),i.invoice.payment_terms?(l(),d("p",ve,[n("span",fe,t(e(a)("paymentTerms"))+":",1),o(" "+t(i.invoice.payment_terms)+" days ",1)])):u("",!0)])])]),_:1})]),_:1}),s(e(g),null,{default:c(()=>[s(e(w),null,{default:c(()=>[s(e($),null,{default:c(()=>[o(t(e(a)("items")),1)]),_:1})]),_:1}),s(e(x),null,{default:c(()=>[n("div",ye,[n("div",he,[n("div",_e,t(e(a)("description")),1),n("div",be,t(e(a)("quantity")),1),n("div",ge,t(e(a)("unitPrice")),1),n("div",xe,t(e(a)("total")),1)]),(l(!0),d(j,null,P(i.invoice.line_items,v=>(l(),d("div",{key:v.id,class:"grid grid-cols-12 gap-2 py-2"},[n("div",we,t(v.description),1),n("div",$e,t(v.quantity),1),n("div",ke,t(f(v.unit_price,i.invoice.currency)),1),n("div",pe,t(f(v.total,i.invoice.currency)),1)]))),128))])]),_:1})]),_:1}),i.invoice.description||i.invoice.notes?(l(),S(e(g),{key:0},{default:c(()=>[s(e(w),null,{default:c(()=>[s(e($),null,{default:c(()=>[o(t(e(a)("notes")),1)]),_:1})]),_:1}),s(e(x),{class:"space-y-3"},{default:c(()=>[i.invoice.description?(l(),d("div",Ce,[n("h4",Se,t(e(a)("description")),1),n("p",je,t(i.invoice.description),1)])):u("",!0),i.invoice.notes?(l(),d("div",De,[n("h4",Ie,t(e(a)("customerNotes")),1),n("p",Ne,t(i.invoice.notes),1)])):u("",!0)]),_:1})]),_:1})):u("",!0)]),n("div",Te,[s(e(g),null,{default:c(()=>[s(e(w),null,{default:c(()=>[s(e($),null,{default:c(()=>[o(t(e(a)("amountSummary")),1)]),_:1})]),_:1}),s(e(x),{class:"space-y-3"},{default:c(()=>[n("div",Be,[n("span",null,t(e(a)("subtotal"))+":",1),n("span",null,t(f(i.invoice.subtotal,i.invoice.currency)),1)]),i.invoice.discount_amount>0?(l(),d("div",Le,[n("span",null,t(e(a)("discount"))+":",1),n("span",null,"-"+t(f(i.invoice.discount_amount,i.invoice.currency)),1)])):u("",!0),i.invoice.tax_amount>0?(l(),d("div",Ve,[n("span",null,t(e(a)("tax"))+":",1),n("span",null,t(f(i.invoice.tax_amount,i.invoice.currency)),1)])):u("",!0),s(e(D)),n("div",qe,[n("span",null,t(e(a)("total"))+":",1),n("span",null,t(f(i.invoice.total_amount,i.invoice.currency)),1)]),n("div",Ae,[n("span",null,t(e(a)("paid"))+":",1),n("span",null,t(f(i.invoice.paid_amount,i.invoice.currency)),1)]),s(e(D)),n("div",Fe,[n("span",null,t(e(a)("balanceDue"))+":",1),n("span",null,t(f(i.invoice.balance,i.invoice.currency)),1)])]),_:1})]),_:1}),s(e(g),null,{default:c(()=>[s(e(w),null,{default:c(()=>[s(e($),null,{default:c(()=>[o(t(e(a)("statusTimeline")),1)]),_:1})]),_:1}),s(e(x),{class:"space-y-3"},{default:c(()=>[n("div",Pe,[n("span",null,t(e(a)("created"))+":",1),n("span",null,t(_(i.invoice.created_at)),1)]),i.invoice.sent_at?(l(),d("div",Ee,[n("span",null,t(e(a)("sent"))+":",1),n("span",null,t(_(i.invoice.sent_at)),1)])):u("",!0),i.invoice.viewed_at?(l(),d("div",Ue,[n("span",null,t(e(a)("viewed"))+":",1),n("span",null,t(_(i.invoice.viewed_at)),1)])):u("",!0),i.invoice.paid_at?(l(),d("div",Me,[n("span",null,t(e(a)("paid"))+":",1),n("span",null,t(_(i.invoice.paid_at)),1)])):u("",!0)]),_:1})]),_:1}),s(e(g),null,{default:c(()=>[s(e(w),null,{default:c(()=>[s(e($),null,{default:c(()=>[o(t(e(a)("actions")),1)]),_:1})]),_:1}),s(e(x),{class:"space-y-2"},{default:c(()=>[i.invoice.balance>0&&!["paid","cancelled","void"].includes(i.invoice.status)?(l(),S(e(h),{key:0,class:"w-full",onClick:m[2]||(m[2]=v=>e(y).get(`/${i.company.slug}/payments/create?customer_id=${i.invoice.customer.id}&invoice_id=${i.invoice.id}`))},{default:c(()=>[s(e(z),{class:"mr-2 h-4 w-4"}),o(" "+t(e(a)("recordPayment")),1)]),_:1})):u("",!0),s(e(h),{class:"w-full",variant:"outline",onClick:p,disabled:i.invoice.status==="paid"||i.invoice.status==="cancelled"},{default:c(()=>[s(e(I),{class:"mr-2 h-4 w-4"}),o(" "+t(e(a)("sendInvoice")),1)]),_:1},8,["disabled"]),s(e(h),{class:"w-full",variant:"outline"},{default:c(()=>[s(e(X),{class:"mr-2 h-4 w-4"}),o(" "+t(e(a)("downloadPdf")),1)]),_:1}),s(e(h),{class:"w-full",variant:"outline",onClick:m[3]||(m[3]=v=>e(y).get(`/${i.company.slug}/invoices/${i.invoice.id}/edit`)),disabled:i.invoice.status==="paid"},{default:c(()=>[s(e(N),{class:"mr-2 h-4 w-4"}),o(" "+t(e(a)("edit"))+" "+t(e(a)("invoices")),1)]),_:1},8,["disabled"])]),_:1})]),_:1})])])]),_:1},8,["title","breadcrumbs"])],64))}});export{Ct as default};
