import{d as H,q as A,c as _,a,u as t,h as J,w as n,j as K,b as r,e as s,o as u,F as $,r as B,i as y,t as m,B as O,A as Q,y as W,f as g}from"./app-B-wLZQl0.js";import{_ as Y}from"./PageShell.vue_vue_type_script_setup_true_lang-CS74Goxj.js";import{_ as k}from"./index-D8JUok4n.js";import{_ as Z}from"./index-a73qSWOM.js";import{_ as D,a as N}from"./CardContent.vue_vue_type_script_setup_true_lang-f-xi8uWj.js";import{_ as F,a as R,b as I,c as P,d}from"./SelectValue.vue_vue_type_script_setup_true_lang-QDn6lJI8.js";import{_ as U}from"./Label.vue_vue_type_script_setup_true_lang-By03EcqK.js";import{_ as h,a as tt,b as E,c as f,d as et,e as p}from"./TableHeader.vue_vue_type_script_setup_true_lang-r2CqmNXq.js";import{s as L}from"./AppSidebarHeader.vue_vue_type_script_setup_true_lang-DKxjvTPB.js";import{C as j}from"./circle-plus-Cwyhw5NW.js";import{E as at}from"./eye-pMepw5BK.js";import{C as nt}from"./clock-9a58COAh.js";import{C as lt}from"./circle-x-BCtaKtUS.js";import{C as st}from"./circle-check-YKnAkXoj.js";import"./AppLayout.vue_vue_type_script_setup_true_lang-CAfRB85X.js";import"./loader-circle-BSwxCoSE.js";import"./createLucideIcon-CbxkoCx6.js";import"./info-_qQ0Rbsf.js";import"./useForwardExpose-Ca12vFmR.js";import"./VisuallyHidden-BZkMfMV2.js";import"./Collection-DN_gmv-a.js";import"./PopperContent-BDPRX1DE.js";import"./handleAndDispatchCustomEvent-ChOKVcqp.js";import"./check-DogY6QNG.js";import"./ohash.D__AXeF1-C-E83dC9.js";import"./nullish-CHIgUVhi.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./RovingFocusGroup-ChUfgJPy.js";import"./building-2-DLYGST8U.js";import"./plus-C63jdNg7.js";import"./index-Buy61MQA.js";import"./settings-B8OaYlkV.js";import"./file-text-CFHWSPvd.js";import"./users-CkYIFvpU.js";import"./calendar-B0yi2zLg.js";import"./VisuallyHiddenInput-CgZzfdZ2.js";const it={class:"flex flex-wrap gap-4 items-end"},ot={class:"space-y-2 min-w-[200px]"},rt={class:"space-y-2 min-w-[150px]"},ut={key:0,class:"text-center py-12 text-muted-foreground"},mt={class:"font-medium"},ct={class:"text-xs text-muted-foreground"},dt={key:0,class:"mt-6 flex justify-center gap-2"},ft={class:"flex items-center px-4 text-sm text-muted-foreground"},x="__all",Wt=H({__name:"Index",props:{company:{},reconciliations:{},bankAccounts:{},filters:{}},setup(i){const c=i,z=[{title:"Dashboard",href:`/${c.company.slug}`},{title:"Banking",href:`/${c.company.slug}/banking/accounts`},{title:"Reconciliation",href:`/${c.company.slug}/banking/reconciliation`}],b=A(c.filters.bank_account_id||"__all"),v=A(c.filters.status||"__all"),M={in_progress:"In Progress",completed:"Completed",cancelled:"Cancelled"},q={in_progress:"default",completed:"secondary",cancelled:"destructive"},C=(o,e)=>new Intl.NumberFormat("en-US",{style:"currency",currency:e}).format(o),T=o=>o?new Date(o).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"â€”",w=()=>{g.get(`/${c.company.slug}/banking/reconciliation`,{bank_account_id:b.value===x?"":b.value,status:v.value===x?"":v.value},{preserveState:!0})},S=()=>{g.get(`/${c.company.slug}/banking/reconciliation/start`)},V=o=>{g.get(`/${c.company.slug}/banking/reconciliation/${o}`)},X=o=>{switch(o){case"completed":return st;case"cancelled":return lt;default:return nt}};return(o,e)=>(u(),_($,null,[a(t(J),{title:"Bank Reconciliation"}),a(Y,{title:"Bank Reconciliation",breadcrumbs:z,icon:t(L)},{actions:n(()=>[a(t(k),{onClick:S},{default:n(()=>[a(t(j),{class:"mr-2 h-4 w-4"}),e[4]||(e[4]=s(" Start Reconciliation ",-1))]),_:1})]),default:n(()=>[a(t(D),{class:"mb-6"},{default:n(()=>[a(t(N),{class:"pt-6"},{default:n(()=>[r("div",it,[r("div",ot,[a(t(U),null,{default:n(()=>[...e[5]||(e[5]=[s("Bank Account",-1)])]),_:1}),a(t(F),{modelValue:b.value,"onUpdate:modelValue":[e[0]||(e[0]=l=>b.value=l),w]},{default:n(()=>[a(t(R),null,{default:n(()=>[a(t(I),{placeholder:"All accounts"})]),_:1}),a(t(P),null,{default:n(()=>[a(t(d),{value:x},{default:n(()=>[...e[6]||(e[6]=[s("All accounts",-1)])]),_:1}),(u(!0),_($,null,B(i.bankAccounts,l=>(u(),y(t(d),{key:l.id,value:l.id},{default:n(()=>[s(m(l.account_name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),r("div",rt,[a(t(U),null,{default:n(()=>[...e[7]||(e[7]=[s("Status",-1)])]),_:1}),a(t(F),{modelValue:v.value,"onUpdate:modelValue":[e[1]||(e[1]=l=>v.value=l),w]},{default:n(()=>[a(t(R),null,{default:n(()=>[a(t(I),{placeholder:"All statuses"})]),_:1}),a(t(P),null,{default:n(()=>[a(t(d),{value:x},{default:n(()=>[...e[8]||(e[8]=[s("All statuses",-1)])]),_:1}),a(t(d),{value:"in_progress"},{default:n(()=>[...e[9]||(e[9]=[s("In Progress",-1)])]),_:1}),a(t(d),{value:"completed"},{default:n(()=>[...e[10]||(e[10]=[s("Completed",-1)])]),_:1}),a(t(d),{value:"cancelled"},{default:n(()=>[...e[11]||(e[11]=[s("Cancelled",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])])])]),_:1})]),_:1}),a(t(D),null,{default:n(()=>[a(t(N),{class:"pt-6"},{default:n(()=>[i.reconciliations.data.length===0?(u(),_("div",ut,[a(t(L),{class:"mx-auto h-12 w-12 mb-4 opacity-50"}),e[13]||(e[13]=r("p",{class:"text-lg font-medium"},"No reconciliations found",-1)),e[14]||(e[14]=r("p",{class:"text-sm mb-4"},"Start a new reconciliation to balance your accounts",-1)),a(t(k),{onClick:S},{default:n(()=>[a(t(j),{class:"mr-2 h-4 w-4"}),e[12]||(e[12]=s(" Start Reconciliation ",-1))]),_:1})])):(u(),y(t(h),{key:1},{default:n(()=>[a(t(tt),null,{default:n(()=>[a(t(E),null,{default:n(()=>[a(t(f),null,{default:n(()=>[...e[15]||(e[15]=[s("Bank Account",-1)])]),_:1}),a(t(f),null,{default:n(()=>[...e[16]||(e[16]=[s("Statement Date",-1)])]),_:1}),a(t(f),{class:"text-right"},{default:n(()=>[...e[17]||(e[17]=[s("Statement Balance",-1)])]),_:1}),a(t(f),{class:"text-right"},{default:n(()=>[...e[18]||(e[18]=[s("Difference",-1)])]),_:1}),a(t(f),null,{default:n(()=>[...e[19]||(e[19]=[s("Status",-1)])]),_:1}),a(t(f),{class:"text-right"},{default:n(()=>[...e[20]||(e[20]=[s("Actions",-1)])]),_:1})]),_:1})]),_:1}),a(t(et),null,{default:n(()=>[(u(!0),_($,null,B(i.reconciliations.data,l=>(u(),y(t(E),{key:l.id,class:"cursor-pointer hover:bg-muted/50",onClick:G=>V(l.id)},{default:n(()=>[a(t(p),null,{default:n(()=>[r("div",null,[r("p",mt,m(l.bank_account.account_name),1),r("p",ct,m(l.bank_account.account_number),1)])]),_:2},1024),a(t(p),null,{default:n(()=>[s(m(T(l.statement_date)),1)]),_:2},1024),a(t(p),{class:"text-right font-mono"},{default:n(()=>[s(m(C(l.statement_ending_balance,l.bank_account.currency)),1)]),_:2},1024),a(t(p),{class:O(["text-right font-mono",Math.abs(l.difference)<.01?"text-green-600":"text-red-600"])},{default:n(()=>[s(m(C(l.difference,l.bank_account.currency)),1)]),_:2},1032,["class"]),a(t(p),null,{default:n(()=>[a(t(Z),{variant:q[l.status]},{default:n(()=>[(u(),y(Q(X(l.status)),{class:"mr-1 h-3 w-3"})),s(" "+m(M[l.status]),1)]),_:2},1032,["variant"])]),_:2},1024),a(t(p),{class:"text-right"},{default:n(()=>[a(t(k),{variant:"ghost",size:"sm",onClick:W(G=>V(l.id),["stop"])},{default:n(()=>[a(t(at),{class:"h-4 w-4"})]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1}))]),_:1})]),_:1}),i.reconciliations.last_page>1?(u(),_("div",dt,[a(t(k),{variant:"outline",disabled:i.reconciliations.current_page===1,onClick:e[2]||(e[2]=l=>t(g).get(`/${i.company.slug}/banking/reconciliation`,{page:i.reconciliations.current_page-1,...i.filters}))},{default:n(()=>[...e[21]||(e[21]=[s(" Previous ",-1)])]),_:1},8,["disabled"]),r("span",ft," Page "+m(i.reconciliations.current_page)+" of "+m(i.reconciliations.last_page),1),a(t(k),{variant:"outline",disabled:i.reconciliations.current_page===i.reconciliations.last_page,onClick:e[3]||(e[3]=l=>t(g).get(`/${i.company.slug}/banking/reconciliation`,{page:i.reconciliations.current_page+1,...i.filters}))},{default:n(()=>[...e[22]||(e[22]=[s(" Next ",-1)])]),_:1},8,["disabled"])])):K("",!0)]),_:1},8,["icon"])],64))}});export{Wt as default};
