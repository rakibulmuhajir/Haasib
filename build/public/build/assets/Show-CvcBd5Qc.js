import{d as S,s as V,c as m,a as n,u as e,h as P,w as a,b as t,o as d,t as s,e as o,j as b,F as N,r as T,i as p,B as U,f as x}from"./app-B-wLZQl0.js";import{_ as I}from"./PageShell.vue_vue_type_script_setup_true_lang-CS74Goxj.js";import{_ as B}from"./index-a73qSWOM.js";import{_ as y}from"./index-D8JUok4n.js";import{_ as v,a as g}from"./CardContent.vue_vue_type_script_setup_true_lang-f-xi8uWj.js";import{_ as L}from"./CardDescription.vue_vue_type_script_setup_true_lang-D23jLuEj.js";import{_ as $}from"./CardHeader.vue_vue_type_script_setup_true_lang-Cn7HWfaF.js";import{_ as w}from"./CardTitle.vue_vue_type_script_setup_true_lang-DXA8XANX.js";import{_ as k}from"./Separator.vue_vue_type_script_setup_true_lang-8_dGzQCj.js";import{u as q}from"./AppSidebarHeader.vue_vue_type_script_setup_true_lang-DKxjvTPB.js";import{B as A}from"./building-YkSJqe0l.js";import{P as z}from"./pencil-R0Fiz8Cs.js";import{T as E}from"./trash-2-BxVbfljz.js";import{F as M}from"./file-text-CFHWSPvd.js";import"./AppLayout.vue_vue_type_script_setup_true_lang-CAfRB85X.js";import"./loader-circle-BSwxCoSE.js";import"./createLucideIcon-CbxkoCx6.js";import"./info-_qQ0Rbsf.js";import"./circle-check-YKnAkXoj.js";import"./useForwardExpose-Ca12vFmR.js";import"./VisuallyHidden-BZkMfMV2.js";import"./PopperContent-BDPRX1DE.js";import"./handleAndDispatchCustomEvent-ChOKVcqp.js";import"./Collection-DN_gmv-a.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./RovingFocusGroup-ChUfgJPy.js";import"./building-2-DLYGST8U.js";import"./plus-C63jdNg7.js";import"./check-DogY6QNG.js";import"./index-Buy61MQA.js";import"./settings-B8OaYlkV.js";import"./users-CkYIFvpU.js";import"./calendar-B0yi2zLg.js";import"./Label.vue_vue_type_script_setup_true_lang-By03EcqK.js";import"./VisuallyHiddenInput-CgZzfdZ2.js";const R={class:"flex gap-2"},G={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},H={class:"lg:col-span-2 space-y-6"},J={class:"mb-4 pb-4 border-b"},K={class:"flex items-center gap-4"},O={key:0,class:"flex-shrink-0"},Q=["src","alt"],W={key:1,class:"flex-shrink-0"},X={class:"h-16 w-16 rounded-lg bg-primary/10 flex items-center justify-center"},Y={class:"text-xl font-semibold"},Z={class:"text-sm text-muted-foreground"},tt={class:"flex items-center justify-between"},et={class:"text-sm font-medium text-muted-foreground mb-2"},st={class:"text-lg font-semibold"},lt={class:"text-lg font-semibold mb-4"},it={class:"space-y-3"},nt={class:"flex justify-between items-start mb-2"},at={class:"font-medium"},ot={class:"font-semibold"},dt={class:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm text-muted-foreground"},ct={class:"font-medium"},ut={class:"font-medium"},rt={key:0},mt={class:"font-medium"},ft={key:1},bt={class:"font-medium"},_t={class:"space-y-3"},ht={class:"flex justify-between text-sm"},xt={class:"text-muted-foreground"},yt={class:"font-medium"},vt={key:0,class:"flex justify-between text-sm"},gt={class:"text-muted-foreground"},$t={class:"font-medium"},wt={key:1,class:"flex justify-between text-sm"},kt={class:"text-muted-foreground"},jt={class:"font-medium text-destructive"},pt={class:"flex justify-between text-lg font-bold"},Dt={key:0,class:"pt-4 border-t"},Nt={class:"text-sm font-medium text-muted-foreground mb-2"},Bt={class:"text-sm"},Ct={class:"space-y-6"},Ft={class:"space-y-2"},St={class:"flex justify-between text-sm"},Vt={class:"text-muted-foreground"},Pt={class:"font-medium"},Tt={class:"flex justify-between text-sm"},Ut={class:"text-muted-foreground"},It={class:"font-medium"},Lt={class:"flex justify-between text-base font-semibold"},qt={class:"space-y-2"},At={class:"flex justify-between"},zt={class:"text-muted-foreground"},Et={class:"font-medium"},Mt={class:"flex justify-between"},Rt={class:"text-muted-foreground"},Gt={class:"font-medium"},Ht={class:"flex justify-between"},Jt={class:"text-muted-foreground"},Kt={class:"font-medium"},Ot={class:"flex justify-between"},Qt={class:"text-muted-foreground"},Wt={class:"font-medium"},Xt={class:"flex justify-between"},Yt={class:"text-muted-foreground"},Zt={class:"text-sm text-muted-foreground"},Ue=S({__name:"Show",props:{company:{},bill:{}},setup(l){const _=l,{t:i}=q(),C=V(()=>[{title:i("dashboard"),href:`/${_.company.slug}`},{title:i("bills"),href:`/${_.company.slug}/bills`},{title:_.bill.bill_number,href:`/${_.company.slug}/bills/${_.bill.id}`}]),f=(c,r)=>new Intl.NumberFormat("en-US",{style:"currency",currency:r||"USD"}).format(c),j=(c,r=2)=>new Intl.NumberFormat("en-US",{minimumFractionDigits:r,maximumFractionDigits:r}).format(c),h=c=>new Date(c).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),D=c=>c==="draft"?"secondary":c==="received"?"default":c==="partial"?"outline":c==="paid"?"default":c==="overdue"?"destructive":"secondary",F=()=>{confirm(i("confirmDeleteBill"))&&x.delete(`/${_.company.slug}/bills/${_.bill.id}`)};return(c,r)=>(d(),m(N,null,[n(e(P),{title:`${e(i)("bills")} ${l.bill.bill_number}`},null,8,["title"]),n(I,{title:`${e(i)("bills")} ${l.bill.bill_number}`,breadcrumbs:C.value,icon:e(M)},{actions:a(()=>[t("div",R,[n(e(y),{variant:"outline",onClick:r[0]||(r[0]=u=>e(x).get(`/${l.company.slug}/bills/${l.bill.id}/edit`))},{default:a(()=>[n(e(z),{class:"mr-2 h-4 w-4"}),o(" "+s(e(i)("edit")),1)]),_:1}),n(e(y),{variant:"destructive",onClick:F},{default:a(()=>[n(e(E),{class:"mr-2 h-4 w-4"}),o(" "+s(e(i)("delete")),1)]),_:1})])]),default:a(()=>[t("div",G,[t("div",H,[n(e(v),null,{default:a(()=>[n(e($),null,{default:a(()=>[t("div",J,[t("div",K,[l.bill.vendor?.logo_url?(d(),m("div",O,[t("img",{src:l.bill.vendor.logo_url,alt:`${l.bill.vendor.name} logo`,class:"h-16 w-auto object-contain"},null,8,Q)])):(d(),m("div",W,[t("div",X,[n(e(A),{class:"h-8 w-8 text-primary"})])])),t("div",null,[t("h2",Y,s(l.bill.vendor?.name??e(i)("vendor")),1),t("p",Z,s(e(i)("vendor")),1)])])]),t("div",tt,[t("div",null,[n(e(w),null,{default:a(()=>[o(s(l.bill.bill_number),1)]),_:1}),n(e(L),null,{default:a(()=>[o(s(h(l.bill.bill_date)),1)]),_:1})]),n(e(B),{variant:D(l.bill.status),class:"text-base px-4 py-1"},{default:a(()=>[o(s(l.bill.status),1)]),_:1},8,["variant"])])]),_:1}),n(e(g),{class:"space-y-6"},{default:a(()=>[t("div",null,[t("h3",et,s(e(i)("dueDate")),1),t("p",st,s(h(l.bill.due_date)),1)]),n(e(k)),t("div",null,[t("h3",lt,s(e(i)("lineItems")),1),t("div",it,[(d(!0),m(N,null,T(l.bill.line_items,u=>(d(),m("div",{key:u.id,class:"p-4 border rounded-lg"},[t("div",nt,[t("h4",at,s(u.description),1),t("span",ot,s(f(u.total,l.bill.currency)),1)]),t("div",dt,[t("div",null,[t("span",ct,s(e(i)("quantity"))+":",1),o(" "+s(j(u.quantity)),1)]),t("div",null,[t("span",ut,s(e(i)("price"))+":",1),o(" "+s(f(u.unit_price,l.bill.currency)),1)]),u.tax_rate>0?(d(),m("div",rt,[t("span",mt,s(e(i)("tax"))+":",1),o(" "+s(j(u.tax_rate))+"% ",1)])):b("",!0),u.discount_rate>0?(d(),m("div",ft,[t("span",bt,s(e(i)("discount"))+":",1),o(" "+s(j(u.discount_rate))+"% ",1)])):b("",!0)])]))),128))])]),n(e(k)),t("div",_t,[t("div",ht,[t("span",xt,s(e(i)("subtotal")),1),t("span",yt,s(f(l.bill.subtotal,l.bill.currency)),1)]),l.bill.tax_amount>0?(d(),m("div",vt,[t("span",gt,s(e(i)("tax")),1),t("span",$t,s(f(l.bill.tax_amount,l.bill.currency)),1)])):b("",!0),l.bill.discount_amount>0?(d(),m("div",wt,[t("span",kt,s(e(i)("discount")),1),t("span",jt,"-"+s(f(l.bill.discount_amount,l.bill.currency)),1)])):b("",!0),n(e(k)),t("div",pt,[t("span",null,s(e(i)("total")),1),t("span",null,s(f(l.bill.total_amount,l.bill.currency)),1)])]),l.bill.notes?(d(),m("div",Dt,[t("h4",Nt,s(e(i)("notes")),1),t("p",Bt,s(l.bill.notes),1)])):b("",!0)]),_:1})]),_:1})]),t("div",Ct,[n(e(v),null,{default:a(()=>[n(e($),null,{default:a(()=>[n(e(w),null,{default:a(()=>[o(s(e(i)("paymentSummary")),1)]),_:1})]),_:1}),n(e(g),{class:"space-y-4"},{default:a(()=>[t("div",Ft,[t("div",St,[t("span",Vt,s(e(i)("billAmount")),1),t("span",Pt,s(f(l.bill.total_amount,l.bill.currency)),1)]),t("div",Tt,[t("span",Ut,s(e(i)("amountPaid")),1),t("span",It,s(f(l.bill.paid_amount,l.bill.currency)),1)]),n(e(k)),t("div",Lt,[t("span",null,s(e(i)("balanceDue")),1),t("span",{class:U(l.bill.balance>0?"text-destructive":"text-green-600")},s(f(l.bill.balance,l.bill.currency)),3)])]),t("div",qt,[l.bill.status==="draft"?(d(),p(e(y),{key:0,class:"w-full",onClick:r[1]||(r[1]=u=>e(x).post(`/${l.company.slug}/bills/${l.bill.id}/receive`))},{default:a(()=>[o(s(e(i)("markAsReceived")),1)]),_:1})):b("",!0),l.bill.balance>0&&l.bill.status==="received"?(d(),p(e(y),{key:1,class:"w-full",onClick:r[2]||(r[2]=u=>e(x).get(`/${l.company.slug}/bill-payments/create?bill_id=${l.bill.id}`))},{default:a(()=>[o(s(e(i)("recordPayment")),1)]),_:1})):b("",!0)])]),_:1})]),_:1}),n(e(v),null,{default:a(()=>[n(e($),null,{default:a(()=>[n(e(w),null,{default:a(()=>[o(s(e(i)("details")),1)]),_:1})]),_:1}),n(e(g),{class:"space-y-3 text-sm"},{default:a(()=>[t("div",At,[t("span",zt,s(e(i)("billNumber")),1),t("span",Et,s(l.bill.bill_number),1)]),t("div",Mt,[t("span",Rt,s(e(i)("billDate")),1),t("span",Gt,s(h(l.bill.bill_date)),1)]),t("div",Ht,[t("span",Jt,s(e(i)("dueDate")),1),t("span",Kt,s(h(l.bill.due_date)),1)]),t("div",Ot,[t("span",Qt,s(e(i)("currency")),1),t("span",Wt,s(l.bill.currency),1)]),t("div",Xt,[t("span",Yt,s(e(i)("status")),1),n(e(B),{variant:D(l.bill.status)},{default:a(()=>[o(s(l.bill.status),1)]),_:1},8,["variant"])])]),_:1})]),_:1}),l.bill.internal_notes?(d(),p(e(v),{key:0},{default:a(()=>[n(e($),null,{default:a(()=>[n(e(w),{class:"text-sm"},{default:a(()=>[o(s(e(i)("internalNotes")),1)]),_:1})]),_:1}),n(e(g),null,{default:a(()=>[t("p",Zt,s(l.bill.internal_notes),1)]),_:1})]),_:1})):b("",!0)])])]),_:1},8,["title","breadcrumbs","icon"])],64))}});export{Ue as default};
