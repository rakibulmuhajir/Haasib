import{d as D,q as C,s as E,c as p,a as t,u as o,h as w,w as i,b as a,N as A,e as v,o as f,f as _,j as g,y as r,t as c,F as I}from"./app-B-wLZQl0.js";import{S as P,_ as T}from"./PageShell.vue_vue_type_script_setup_true_lang-CS74Goxj.js";import{_ as j}from"./DataTable.vue_vue_type_script_setup_true_lang-BQW8AXQk.js";import{_ as F}from"./EmptyState.vue_vue_type_script_setup_true_lang-CrAvLLsO.js";import{_ as u}from"./index-D8JUok4n.js";import{_ as K}from"./Input.vue_vue_type_script_setup_true_lang-E2jwtM0f.js";import{_ as R,a as U,b as q,c as M,d as V}from"./SelectValue.vue_vue_type_script_setup_true_lang-QDn6lJI8.js";import{E as G}from"./eye-pMepw5BK.js";import{P as H}from"./pencil-R0Fiz8Cs.js";import{T as J}from"./trash-2-BxVbfljz.js";import{P as L}from"./plus-C63jdNg7.js";import{B as O}from"./building-2-DLYGST8U.js";import"./AppLayout.vue_vue_type_script_setup_true_lang-CAfRB85X.js";import"./AppSidebarHeader.vue_vue_type_script_setup_true_lang-DKxjvTPB.js";import"./useForwardExpose-Ca12vFmR.js";import"./VisuallyHidden-BZkMfMV2.js";import"./PopperContent-BDPRX1DE.js";import"./handleAndDispatchCustomEvent-ChOKVcqp.js";import"./Collection-DN_gmv-a.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./RovingFocusGroup-ChUfgJPy.js";import"./createLucideIcon-CbxkoCx6.js";import"./check-DogY6QNG.js";import"./index-Buy61MQA.js";import"./settings-B8OaYlkV.js";import"./file-text-CFHWSPvd.js";import"./users-CkYIFvpU.js";import"./calendar-B0yi2zLg.js";import"./Label.vue_vue_type_script_setup_true_lang-By03EcqK.js";import"./VisuallyHiddenInput-CgZzfdZ2.js";import"./loader-circle-BSwxCoSE.js";import"./info-_qQ0Rbsf.js";import"./circle-check-YKnAkXoj.js";import"./index-a73qSWOM.js";import"./ohash.D__AXeF1-C-E83dC9.js";import"./nullish-CHIgUVhi.js";const Q={class:"mb-4 grid gap-3 md:grid-cols-3"},W={class:"relative md:col-span-2"},X={key:0},Y={key:1},Z=["onClick"],ee=["onClick"],te={class:"flex items-center gap-1"},oe={class:"p-4 space-y-3 border-b"},se={class:"flex justify-between items-start"},ie=["onClick"],ne={class:"text-sm text-muted-foreground mt-1"},ae=["onClick"],re={key:0,class:"text-sm text-muted-foreground"},le={key:1,class:"text-sm text-muted-foreground"},de={class:"text-right"},me={class:"text-sm font-medium"},ce={key:0,class:"text-xs text-red-500"},ue={class:"flex gap-2 pt-2"},Qe=D({__name:"Index",props:{company:{},vendors:{},filters:{}},setup(y){const l=y,h=C(l.filters.search??""),k=C(!!l.filters.include_inactive),N=[{title:"Dashboard",href:`/${l.company.slug}`},{title:"Vendors",href:`/${l.company.slug}/vendors`}],z=[{key:"vendor_number",label:"Vendor #"},{key:"name",label:"Name"},{key:"currency",label:"Currency"},{key:"actions",label:"Actions"}],S=E(()=>l.vendors.data.map(n=>({...n,id:n.id,vendor_number:n.vendor_number,name:n.name,currency:n.base_currency,_original:n}))),m=n=>{_.get(`/${l.company.slug}/vendors/${n}`)},$=n=>{_.get(`/${l.company.slug}/vendors/${n}/edit`)},b=n=>{confirm("Are you sure you want to delete this vendor?")&&_.delete(`/${l.company.slug}/vendors/${n}`)},B=n=>{m(n.id)},x=()=>{_.get(`/${l.company.slug}/vendors`,{search:h.value,include_inactive:k.value?1:""},{preserveState:!0})};return(n,s)=>(f(),p(I,null,[t(o(w),{title:"Vendors"}),t(T,{title:"Vendors",breadcrumbs:N,icon:o(O)},{actions:i(()=>[t(o(u),{onClick:s[0]||(s[0]=e=>o(_).get(`/${y.company.slug}/vendors/create`))},{default:i(()=>[t(o(L),{class:"mr-2 h-4 w-4"}),s[4]||(s[4]=v(" New Vendor ",-1))]),_:1})]),default:i(()=>[a("div",Q,[a("div",W,[t(o(P),{class:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),t(o(K),{modelValue:h.value,"onUpdate:modelValue":s[1]||(s[1]=e=>h.value=e),placeholder:"Search vendors...",class:"pl-10",onKeyup:A(x,["enter"])},null,8,["modelValue"])]),t(o(R),{modelValue:k.value,"onUpdate:modelValue":[s[2]||(s[2]=e=>k.value=e),x]},{default:i(()=>[t(o(U),null,{default:i(()=>[t(o(q),{placeholder:"Active only"})]),_:1}),t(o(M),null,{default:i(()=>[t(o(V),{value:!1},{default:i(()=>[...s[5]||(s[5]=[v("Active only",-1)])]),_:1}),t(o(V),{value:!0},{default:i(()=>[...s[6]||(s[6]=[v("Include inactive",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),y.vendors.data.length?(f(),p("div",Y,[t(j,{columns:z,data:S.value,pagination:y.vendors,clickable:"",hoverable:"",onRowClick:B},{vendor_number:i(({row:e})=>[a("button",{class:"font-medium text-primary hover:text-primary/80 transition-colors",onClick:r(d=>m(e.id),["stop"])},c(e.vendor_number),9,Z)]),name:i(({row:e})=>[a("button",{class:"font-medium text-primary hover:text-primary/80 transition-colors",onClick:r(d=>m(e.id),["stop"])},c(e.name),9,ee)]),"cell-actions":i(({row:e})=>[a("div",te,[t(o(u),{variant:"ghost",size:"icon",class:"h-8 w-8",onClick:r(d=>m(e.id),["stop"]),title:"View"},{default:i(()=>[t(o(G),{class:"h-4 w-4"})]),_:1},8,["onClick"]),t(o(u),{variant:"ghost",size:"icon",class:"h-8 w-8",onClick:r(d=>$(e.id),["stop"]),title:"Edit"},{default:i(()=>[t(o(H),{class:"h-4 w-4"})]),_:1},8,["onClick"]),t(o(u),{variant:"ghost",size:"icon",class:"h-8 w-8 text-destructive hover:text-destructive",onClick:r(d=>b(e.id),["stop"]),title:"Delete"},{default:i(()=>[t(o(J),{class:"h-4 w-4"})]),_:1},8,["onClick"])])]),"mobile-card":i(({row:e})=>[a("div",oe,[a("div",se,[a("div",null,[a("button",{class:"font-semibold text-primary hover:text-primary/80 transition-colors",onClick:r(d=>m(e.id),["stop"])},c(e.vendor_number),9,ie),a("div",ne,[a("button",{class:"font-medium text-primary hover:text-primary/80 transition-colors",onClick:r(d=>m(e.id),["stop"])},c(e.name),9,ae)]),e.email?(f(),p("div",re,c(e.email),1)):g("",!0),e.phone?(f(),p("div",le,c(e.phone),1)):g("",!0)]),a("div",de,[a("div",me,c(e.currency),1),e.is_active?g("",!0):(f(),p("div",ce,"Inactive"))])]),a("div",ue,[t(o(u),{size:"sm",onClick:r(d=>m(e.id),["stop"])},{default:i(()=>[...s[7]||(s[7]=[v("View",-1)])]),_:1},8,["onClick"]),t(o(u),{size:"sm",variant:"outline",onClick:r(d=>$(e.id),["stop"])},{default:i(()=>[...s[8]||(s[8]=[v("Edit",-1)])]),_:1},8,["onClick"]),t(o(u),{size:"sm",variant:"destructive",onClick:r(d=>b(e.id),["stop"])},{default:i(()=>[...s[9]||(s[9]=[v("Delete",-1)])]),_:1},8,["onClick"])])])]),_:1},8,["data","pagination"])])):(f(),p("div",X,[t(F,{title:"No vendors yet",description:"Create your first vendor to start tracking bills.","cta-text":"Create Vendor",onClick:s[3]||(s[3]=e=>o(_).get(`/${y.company.slug}/vendors/create`))})]))]),_:1},8,["icon"])],64))}});export{Qe as default};
