import{d as I,q as M,x as h,s as N,c as u,a as s,u as e,h as T,w as a,b as i,y as F,e as l,j as c,B as x,o as n,F as y,r as $,i as q,t as d}from"./app-B-wLZQl0.js";import{_ as L}from"./PageShell.vue_vue_type_script_setup_true_lang-CS74Goxj.js";import{_ as g}from"./index-D8JUok4n.js";import{_ as A}from"./Input.vue_vue_type_script_setup_true_lang-E2jwtM0f.js";import{_ as m}from"./Label.vue_vue_type_script_setup_true_lang-By03EcqK.js";import{_ as O}from"./Textarea.vue_vue_type_script_setup_true_lang-DrbQ2zws.js";import{_ as V,a as k,b as w,c as b,d as j}from"./SelectValue.vue_vue_type_script_setup_true_lang-QDn6lJI8.js";import{_ as P,a as R}from"./CardContent.vue_vue_type_script_setup_true_lang-f-xi8uWj.js";import{_ as z}from"./CardDescription.vue_vue_type_script_setup_true_lang-D23jLuEj.js";import{_ as E}from"./CardHeader.vue_vue_type_script_setup_true_lang-Cn7HWfaF.js";import{_ as Q}from"./CardTitle.vue_vue_type_script_setup_true_lang-DXA8XANX.js";import{_ as W,a as C}from"./RadioGroupItem.vue_vue_type_script_setup_true_lang-66yTst-t.js";import{P as G}from"./plus-C63jdNg7.js";import{c as H}from"./createLucideIcon-CbxkoCx6.js";import{S as J}from"./save-CBmuHaqJ.js";import{A as K}from"./arrow-left-DSX0n2_N.js";import"./AppLayout.vue_vue_type_script_setup_true_lang-CAfRB85X.js";import"./AppSidebarHeader.vue_vue_type_script_setup_true_lang-DKxjvTPB.js";import"./useForwardExpose-Ca12vFmR.js";import"./VisuallyHidden-BZkMfMV2.js";import"./PopperContent-BDPRX1DE.js";import"./handleAndDispatchCustomEvent-ChOKVcqp.js";import"./Collection-DN_gmv-a.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./RovingFocusGroup-ChUfgJPy.js";import"./building-2-DLYGST8U.js";import"./check-DogY6QNG.js";import"./index-Buy61MQA.js";import"./settings-B8OaYlkV.js";import"./file-text-CFHWSPvd.js";import"./users-CkYIFvpU.js";import"./calendar-B0yi2zLg.js";import"./VisuallyHiddenInput-CgZzfdZ2.js";import"./loader-circle-BSwxCoSE.js";import"./info-_qQ0Rbsf.js";import"./circle-check-YKnAkXoj.js";import"./index-a73qSWOM.js";import"./ohash.D__AXeF1-C-E83dC9.js";import"./nullish-CHIgUVhi.js";import"./RovingFocusItem-PDr5bOed.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=H("MinusIcon",[["path",{d:"M5 12h14",key:"1ays0h"}]]),Y={class:"space-y-2"},Z={key:0,class:"text-sm text-destructive"},ee={class:"space-y-2"},te={key:0,class:"text-sm text-destructive"},se={class:"space-y-3"},ae={class:"flex items-center space-x-2"},oe={class:"flex items-center space-x-2"},re={class:"space-y-2"},le={class:"flex items-center gap-2"},ie={key:0,class:"text-muted-foreground"},ne={key:0,class:"text-sm text-destructive"},de={class:"space-y-2"},me={class:"space-y-2"},ue={class:"space-y-2"},fe={class:"flex justify-end gap-4"},Ze=I({__name:"Adjustment",props:{company:{},warehouses:{},items:{}},setup(p){const _=p,D=[{title:"Dashboard",href:`/${_.company.slug}`},{title:"Stock Levels",href:`/${_.company.slug}/stock`},{title:"Adjustment",href:`/${_.company.slug}/stock/adjustment`}],v=M("increase"),r=h({warehouse_id:"",item_id:"",quantity:0,reason:"",notes:"",movement_date:new Date().toISOString().split("T")[0]}),S=N(()=>_.items.find(f=>f.id===r.item_id)),U=()=>{const f=v.value==="decrease"?-Math.abs(r.quantity):Math.abs(r.quantity);r.transform(t=>({...t,quantity:f})).post(`/${_.company.slug}/stock/adjustment`)},B=["Physical count adjustment","Damaged goods","Theft/loss","Found inventory","Opening balance","Other"];return(f,t)=>(n(),u(y,null,[s(e(T),{title:"Stock Adjustment"}),s(L,{title:"Stock Adjustment",breadcrumbs:D},{actions:a(()=>[s(e(g),{variant:"outline",onClick:t[0]||(t[0]=o=>f.$inertia.get(`/${p.company.slug}/stock`))},{default:a(()=>[s(e(K),{class:"mr-2 h-4 w-4"}),t[9]||(t[9]=l(" Back ",-1))]),_:1})]),default:a(()=>[i("form",{onSubmit:F(U,["prevent"]),class:"space-y-6 max-w-2xl"},[s(e(P),null,{default:a(()=>[s(e(E),null,{default:a(()=>[s(e(Q),null,{default:a(()=>[...t[10]||(t[10]=[l("Adjustment Details",-1)])]),_:1}),s(e(z),null,{default:a(()=>[...t[11]||(t[11]=[l("Record a stock adjustment",-1)])]),_:1})]),_:1}),s(e(R),{class:"space-y-6"},{default:a(()=>[i("div",Y,[s(e(m),{for:"warehouse"},{default:a(()=>[...t[12]||(t[12]=[l("Warehouse *",-1)])]),_:1}),s(e(V),{modelValue:e(r).warehouse_id,"onUpdate:modelValue":t[1]||(t[1]=o=>e(r).warehouse_id=o)},{default:a(()=>[s(e(k),{class:x({"border-destructive":e(r).errors.warehouse_id})},{default:a(()=>[s(e(w),{placeholder:"Select warehouse"})]),_:1},8,["class"]),s(e(b),null,{default:a(()=>[(n(!0),u(y,null,$(p.warehouses,o=>(n(),q(e(j),{key:o.id,value:o.id},{default:a(()=>[l(d(o.name)+" ("+d(o.code)+") ",1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),e(r).errors.warehouse_id?(n(),u("p",Z,d(e(r).errors.warehouse_id),1)):c("",!0)]),i("div",ee,[s(e(m),{for:"item"},{default:a(()=>[...t[13]||(t[13]=[l("Item *",-1)])]),_:1}),s(e(V),{modelValue:e(r).item_id,"onUpdate:modelValue":t[2]||(t[2]=o=>e(r).item_id=o)},{default:a(()=>[s(e(k),{class:x({"border-destructive":e(r).errors.item_id})},{default:a(()=>[s(e(w),{placeholder:"Select item"})]),_:1},8,["class"]),s(e(b),null,{default:a(()=>[(n(!0),u(y,null,$(p.items,o=>(n(),q(e(j),{key:o.id,value:o.id},{default:a(()=>[l(d(o.sku)+" - "+d(o.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),e(r).errors.item_id?(n(),u("p",te,d(e(r).errors.item_id),1)):c("",!0)]),i("div",se,[s(e(m),null,{default:a(()=>[...t[14]||(t[14]=[l("Adjustment Type *",-1)])]),_:1}),s(e(W),{modelValue:v.value,"onUpdate:modelValue":t[3]||(t[3]=o=>v.value=o),class:"flex gap-4"},{default:a(()=>[i("div",ae,[s(e(C),{value:"increase",id:"increase"}),s(e(m),{for:"increase",class:"flex items-center gap-1 cursor-pointer"},{default:a(()=>[s(e(G),{class:"h-4 w-4 text-green-600"}),t[15]||(t[15]=l(" Increase ",-1))]),_:1})]),i("div",oe,[s(e(C),{value:"decrease",id:"decrease"}),s(e(m),{for:"decrease",class:"flex items-center gap-1 cursor-pointer"},{default:a(()=>[s(e(X),{class:"h-4 w-4 text-red-600"}),t[16]||(t[16]=l(" Decrease ",-1))]),_:1})])]),_:1},8,["modelValue"])]),i("div",re,[s(e(m),{for:"quantity"},{default:a(()=>[...t[17]||(t[17]=[l("Quantity *",-1)])]),_:1}),i("div",le,[s(e(A),{id:"quantity",modelValue:e(r).quantity,"onUpdate:modelValue":t[4]||(t[4]=o=>e(r).quantity=o),type:"number",step:"0.001",min:"0",class:x(["max-w-[200px]",{"border-destructive":e(r).errors.quantity}])},null,8,["modelValue","class"]),S.value?(n(),u("span",ie,d(S.value.unit_of_measure),1)):c("",!0)]),e(r).errors.quantity?(n(),u("p",ne,d(e(r).errors.quantity),1)):c("",!0)]),i("div",de,[s(e(m),{for:"movement_date"},{default:a(()=>[...t[18]||(t[18]=[l("Date",-1)])]),_:1}),s(e(A),{id:"movement_date",modelValue:e(r).movement_date,"onUpdate:modelValue":t[5]||(t[5]=o=>e(r).movement_date=o),type:"date",class:"max-w-[200px]"},null,8,["modelValue"])]),i("div",me,[s(e(m),{for:"reason"},{default:a(()=>[...t[19]||(t[19]=[l("Reason",-1)])]),_:1}),s(e(V),{modelValue:e(r).reason,"onUpdate:modelValue":t[6]||(t[6]=o=>e(r).reason=o)},{default:a(()=>[s(e(k),null,{default:a(()=>[s(e(w),{placeholder:"Select reason"})]),_:1}),s(e(b),null,{default:a(()=>[(n(),u(y,null,$(B,o=>s(e(j),{key:o,value:o},{default:a(()=>[l(d(o),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1},8,["modelValue"])]),i("div",ue,[s(e(m),{for:"notes"},{default:a(()=>[...t[20]||(t[20]=[l("Notes",-1)])]),_:1}),s(e(O),{id:"notes",modelValue:e(r).notes,"onUpdate:modelValue":t[7]||(t[7]=o=>e(r).notes=o),placeholder:"Additional notes",rows:"3"},null,8,["modelValue"])])]),_:1})]),_:1}),i("div",fe,[s(e(g),{variant:"outline",type:"button",onClick:t[8]||(t[8]=o=>f.$inertia.get(`/${p.company.slug}/stock`))},{default:a(()=>[...t[21]||(t[21]=[l(" Cancel ",-1)])]),_:1}),s(e(g),{type:"submit",disabled:e(r).processing},{default:a(()=>[s(e(J),{class:"mr-2 h-4 w-4"}),l(" "+d(e(r).processing?"Saving...":"Save Adjustment"),1)]),_:1},8,["disabled"])])],32)]),_:1})],64))}});export{Ze as default};
