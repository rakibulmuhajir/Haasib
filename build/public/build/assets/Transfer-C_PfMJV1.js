import{d as A,x as F,s as v,c as m,a as s,u as e,h as W,w as a,b as d,y as j,e as i,j as f,B as y,o as n,F as w,r as g,i as k,t as l}from"./app-B-wLZQl0.js";import{_ as I}from"./PageShell.vue_vue_type_script_setup_true_lang-CS74Goxj.js";import{_ as x}from"./index-D8JUok4n.js";import{_ as B}from"./Input.vue_vue_type_script_setup_true_lang-E2jwtM0f.js";import{_ as p}from"./Label.vue_vue_type_script_setup_true_lang-By03EcqK.js";import{_ as L}from"./Textarea.vue_vue_type_script_setup_true_lang-DrbQ2zws.js";import{_ as $,a as b,b as V,c as h,d as S}from"./SelectValue.vue_vue_type_script_setup_true_lang-QDn6lJI8.js";import{_ as M,a as z}from"./CardContent.vue_vue_type_script_setup_true_lang-f-xi8uWj.js";import{_ as E}from"./CardDescription.vue_vue_type_script_setup_true_lang-D23jLuEj.js";import{_ as O}from"./CardHeader.vue_vue_type_script_setup_true_lang-Cn7HWfaF.js";import{_ as Q}from"./CardTitle.vue_vue_type_script_setup_true_lang-DXA8XANX.js";import{A as R}from"./arrow-right-WKUoSUL-.js";import{S as G}from"./save-CBmuHaqJ.js";import{A as H}from"./arrow-left-DSX0n2_N.js";import"./AppLayout.vue_vue_type_script_setup_true_lang-CAfRB85X.js";import"./AppSidebarHeader.vue_vue_type_script_setup_true_lang-DKxjvTPB.js";import"./useForwardExpose-Ca12vFmR.js";import"./VisuallyHidden-BZkMfMV2.js";import"./PopperContent-BDPRX1DE.js";import"./handleAndDispatchCustomEvent-ChOKVcqp.js";import"./Collection-DN_gmv-a.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./RovingFocusGroup-ChUfgJPy.js";import"./building-2-DLYGST8U.js";import"./createLucideIcon-CbxkoCx6.js";import"./plus-C63jdNg7.js";import"./check-DogY6QNG.js";import"./index-Buy61MQA.js";import"./settings-B8OaYlkV.js";import"./file-text-CFHWSPvd.js";import"./users-CkYIFvpU.js";import"./calendar-B0yi2zLg.js";import"./VisuallyHiddenInput-CgZzfdZ2.js";import"./loader-circle-BSwxCoSE.js";import"./info-_qQ0Rbsf.js";import"./circle-check-YKnAkXoj.js";import"./index-a73qSWOM.js";import"./ohash.D__AXeF1-C-E83dC9.js";import"./nullish-CHIgUVhi.js";const J={class:"grid grid-cols-1 md:grid-cols-[1fr,auto,1fr] gap-4 items-end"},K={class:"space-y-2"},P={key:0,class:"text-sm text-destructive"},X={class:"hidden md:flex items-center justify-center pb-2"},Y={class:"space-y-2"},Z={key:0,class:"text-sm text-destructive"},ee={key:0,class:"p-4 bg-muted rounded-lg text-center"},te={class:"text-sm text-muted-foreground"},se={class:"space-y-2"},oe={key:0,class:"text-sm text-destructive"},re={class:"space-y-2"},ae={class:"flex items-center gap-2"},ie={key:0,class:"text-muted-foreground"},de={key:0,class:"text-sm text-destructive"},le={class:"space-y-2"},ne={class:"space-y-2"},ue={class:"flex justify-end gap-4"},Pe=A({__name:"Transfer",props:{company:{},warehouses:{},items:{}},setup(c){const _=c,D=[{title:"Dashboard",href:`/${_.company.slug}`},{title:"Stock Levels",href:`/${_.company.slug}/stock`},{title:"Transfer",href:`/${_.company.slug}/stock/transfer`}],o=F({source_warehouse_id:"",destination_warehouse_id:"",item_id:"",quantity:0,notes:"",movement_date:new Date().toISOString().split("T")[0]}),T=v(()=>_.items.find(u=>u.id===o.item_id)),q=v(()=>_.warehouses.find(u=>u.id===o.source_warehouse_id)),C=v(()=>_.warehouses.find(u=>u.id===o.destination_warehouse_id)),U=v(()=>_.warehouses.filter(u=>u.id!==o.source_warehouse_id)),N=()=>{o.post(`/${_.company.slug}/stock/transfer`)};return(u,t)=>(n(),m(w,null,[s(e(W),{title:"Stock Transfer"}),s(I,{title:"Stock Transfer",breadcrumbs:D},{actions:a(()=>[s(e(x),{variant:"outline",onClick:t[0]||(t[0]=r=>u.$inertia.get(`/${c.company.slug}/stock`))},{default:a(()=>[s(e(H),{class:"mr-2 h-4 w-4"}),t[8]||(t[8]=i(" Back ",-1))]),_:1})]),default:a(()=>[d("form",{onSubmit:j(N,["prevent"]),class:"space-y-6 max-w-2xl"},[s(e(M),null,{default:a(()=>[s(e(O),null,{default:a(()=>[s(e(Q),null,{default:a(()=>[...t[9]||(t[9]=[i("Transfer Details",-1)])]),_:1}),s(e(E),null,{default:a(()=>[...t[10]||(t[10]=[i("Move stock between warehouses",-1)])]),_:1})]),_:1}),s(e(z),{class:"space-y-6"},{default:a(()=>[d("div",J,[d("div",K,[s(e(p),{for:"source"},{default:a(()=>[...t[11]||(t[11]=[i("From Warehouse *",-1)])]),_:1}),s(e($),{modelValue:e(o).source_warehouse_id,"onUpdate:modelValue":t[1]||(t[1]=r=>e(o).source_warehouse_id=r)},{default:a(()=>[s(e(b),{class:y({"border-destructive":e(o).errors.source_warehouse_id})},{default:a(()=>[s(e(V),{placeholder:"Select source"})]),_:1},8,["class"]),s(e(h),null,{default:a(()=>[(n(!0),m(w,null,g(c.warehouses,r=>(n(),k(e(S),{key:r.id,value:r.id},{default:a(()=>[i(l(r.name)+" ("+l(r.code)+") ",1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),e(o).errors.source_warehouse_id?(n(),m("p",P,l(e(o).errors.source_warehouse_id),1)):f("",!0)]),d("div",X,[s(e(R),{class:"h-5 w-5 text-muted-foreground"})]),d("div",Y,[s(e(p),{for:"destination"},{default:a(()=>[...t[12]||(t[12]=[i("To Warehouse *",-1)])]),_:1}),s(e($),{modelValue:e(o).destination_warehouse_id,"onUpdate:modelValue":t[2]||(t[2]=r=>e(o).destination_warehouse_id=r),disabled:!e(o).source_warehouse_id},{default:a(()=>[s(e(b),{class:y({"border-destructive":e(o).errors.destination_warehouse_id})},{default:a(()=>[s(e(V),{placeholder:"Select destination"})]),_:1},8,["class"]),s(e(h),null,{default:a(()=>[(n(!0),m(w,null,g(U.value,r=>(n(),k(e(S),{key:r.id,value:r.id},{default:a(()=>[i(l(r.name)+" ("+l(r.code)+") ",1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue","disabled"]),e(o).errors.destination_warehouse_id?(n(),m("p",Z,l(e(o).errors.destination_warehouse_id),1)):f("",!0)])]),q.value&&C.value?(n(),m("div",ee,[d("p",te,[t[13]||(t[13]=i(" Transferring from ",-1)),d("strong",null,l(q.value.name),1),t[14]||(t[14]=i(" to ",-1)),d("strong",null,l(C.value.name),1)])])):f("",!0),d("div",se,[s(e(p),{for:"item"},{default:a(()=>[...t[15]||(t[15]=[i("Item *",-1)])]),_:1}),s(e($),{modelValue:e(o).item_id,"onUpdate:modelValue":t[3]||(t[3]=r=>e(o).item_id=r)},{default:a(()=>[s(e(b),{class:y({"border-destructive":e(o).errors.item_id})},{default:a(()=>[s(e(V),{placeholder:"Select item"})]),_:1},8,["class"]),s(e(h),null,{default:a(()=>[(n(!0),m(w,null,g(c.items,r=>(n(),k(e(S),{key:r.id,value:r.id},{default:a(()=>[i(l(r.sku)+" - "+l(r.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),e(o).errors.item_id?(n(),m("p",oe,l(e(o).errors.item_id),1)):f("",!0)]),d("div",re,[s(e(p),{for:"quantity"},{default:a(()=>[...t[16]||(t[16]=[i("Quantity *",-1)])]),_:1}),d("div",ae,[s(e(B),{id:"quantity",modelValue:e(o).quantity,"onUpdate:modelValue":t[4]||(t[4]=r=>e(o).quantity=r),type:"number",step:"0.001",min:"0",class:y(["max-w-[200px]",{"border-destructive":e(o).errors.quantity}])},null,8,["modelValue","class"]),T.value?(n(),m("span",ie,l(T.value.unit_of_measure),1)):f("",!0)]),e(o).errors.quantity?(n(),m("p",de,l(e(o).errors.quantity),1)):f("",!0)]),d("div",le,[s(e(p),{for:"movement_date"},{default:a(()=>[...t[17]||(t[17]=[i("Date",-1)])]),_:1}),s(e(B),{id:"movement_date",modelValue:e(o).movement_date,"onUpdate:modelValue":t[5]||(t[5]=r=>e(o).movement_date=r),type:"date",class:"max-w-[200px]"},null,8,["modelValue"])]),d("div",ne,[s(e(p),{for:"notes"},{default:a(()=>[...t[18]||(t[18]=[i("Notes",-1)])]),_:1}),s(e(L),{id:"notes",modelValue:e(o).notes,"onUpdate:modelValue":t[6]||(t[6]=r=>e(o).notes=r),placeholder:"Transfer notes",rows:"3"},null,8,["modelValue"])])]),_:1})]),_:1}),d("div",ue,[s(e(x),{variant:"outline",type:"button",onClick:t[7]||(t[7]=r=>u.$inertia.get(`/${c.company.slug}/stock`))},{default:a(()=>[...t[19]||(t[19]=[i(" Cancel ",-1)])]),_:1}),s(e(x),{type:"submit",disabled:e(o).processing},{default:a(()=>[s(e(G),{class:"mr-2 h-4 w-4"}),i(" "+l(e(o).processing?"Transferring...":"Complete Transfer"),1)]),_:1},8,["disabled"])])],32)]),_:1})],64))}});export{Pe as default};
