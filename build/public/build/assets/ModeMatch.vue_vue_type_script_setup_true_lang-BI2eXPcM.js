import{d as y,z as b,q as h,x,c as m,b as n,a as i,t as u,w as p,F as k,r as C,u as s,i as V,j as $,e as B,o as c,B as M}from"./app-B-wLZQl0.js";import{_ as N}from"./index-D8JUok4n.js";import{_ as w,a as F}from"./RadioGroupItem.vue_vue_type_script_setup_true_lang-66yTst-t.js";import{_ as j}from"./Label.vue_vue_type_script_setup_true_lang-By03EcqK.js";import{L}from"./loader-circle-BSwxCoSE.js";const S={class:"space-y-4"},z={class:"text-sm text-muted-foreground"},q=["onClick"],D={class:"flex justify-between items-center font-normal"},E={class:"font-medium font-mono"},I={class:"flex justify-end pt-2"},J=y({__name:"ModeMatch",props:{transaction:{},matches:{}},emits:["success"],setup(d,{emit:f}){const l=d,_=f,g=b().props.company,a=h(l.matches?.[0]?.id),o=x({bank_transaction_id:l.transaction.id,target_type:"",target_id:""}),v=()=>{const r=l.matches.find(t=>t.id===a.value);r&&(o.target_type=r.type,o.target_id=r.id,o.post(`/${g.slug}/banking/resolve/match`,{preserveScroll:!0,onSuccess:()=>_("success")}))};return(r,t)=>(c(),m("div",S,[n("div",z," We found "+u(d.matches?.length||0)+" existing record(s) that match this transaction. ",1),i(s(w),{modelValue:a.value,"onUpdate:modelValue":t[0]||(t[0]=e=>a.value=e),class:"space-y-3"},{default:p(()=>[(c(!0),m(k,null,C(d.matches,e=>(c(),m("div",{key:e.id,class:M(["flex items-center space-x-3 space-y-0 rounded-md border p-3 bg-background hover:bg-accent cursor-pointer",{"border-primary ring-1 ring-primary":a.value===e.id}]),onClick:T=>a.value=e.id},[i(s(F),{value:e.id,id:e.id},null,8,["value","id"]),i(s(j),{for:e.id,class:"flex-1 cursor-pointer"},{default:p(()=>[n("div",D,[n("span",null,u(e.description),1),n("span",E,"$"+u(Math.abs(Number(e.amount)).toFixed(2)),1)])]),_:2},1032,["for"])],10,q))),128))]),_:1},8,["modelValue"]),n("div",I,[i(s(N),{onClick:v,disabled:s(o).processing},{default:p(()=>[s(o).processing?(c(),V(s(L),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):$("",!0),t[1]||(t[1]=B(" Confirm Match ",-1))]),_:1},8,["disabled"])])]))}});export{J as _};
