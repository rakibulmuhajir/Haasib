import{d as S,q as N,s as V,c as D,a as t,u as e,h as P,w as s,b as u,i as f,N as E,o as c,f as n,e as m,t as g,j as W,F}from"./app-B-wLZQl0.js";import{S as A,_ as B}from"./PageShell.vue_vue_type_script_setup_true_lang-CS74Goxj.js";import{_ as I}from"./EmptyState.vue_vue_type_script_setup_true_lang-CrAvLLsO.js";import{_ as T}from"./DataTable.vue_vue_type_script_setup_true_lang-BQW8AXQk.js";import{_ as U}from"./index-a73qSWOM.js";import{_ as p}from"./index-D8JUok4n.js";import{_ as K}from"./Input.vue_vue_type_script_setup_true_lang-E2jwtM0f.js";import{H as R,b as j,c as q,d as z,e as h}from"./AppSidebarHeader.vue_vue_type_script_setup_true_lang-DKxjvTPB.js";import{P as _}from"./plus-C63jdNg7.js";import{E as H}from"./ellipsis-DRk1q4ie.js";import{E as L}from"./eye-pMepw5BK.js";import{P as Q}from"./pencil-R0Fiz8Cs.js";import{T as G}from"./trash-2-BxVbfljz.js";import{S as J}from"./star-CUYtxkWp.js";import"./AppLayout.vue_vue_type_script_setup_true_lang-CAfRB85X.js";import"./loader-circle-BSwxCoSE.js";import"./createLucideIcon-CbxkoCx6.js";import"./info-_qQ0Rbsf.js";import"./circle-check-YKnAkXoj.js";import"./useForwardExpose-Ca12vFmR.js";import"./VisuallyHidden-BZkMfMV2.js";import"./PopperContent-BDPRX1DE.js";import"./handleAndDispatchCustomEvent-ChOKVcqp.js";import"./Collection-DN_gmv-a.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./RovingFocusGroup-ChUfgJPy.js";import"./building-2-DLYGST8U.js";import"./check-DogY6QNG.js";import"./index-Buy61MQA.js";import"./settings-B8OaYlkV.js";import"./file-text-CFHWSPvd.js";import"./users-CkYIFvpU.js";import"./calendar-B0yi2zLg.js";import"./Label.vue_vue_type_script_setup_true_lang-By03EcqK.js";import"./VisuallyHiddenInput-CgZzfdZ2.js";const M={class:"mb-6 flex flex-wrap items-center gap-4"},O={class:"relative flex-1 min-w-[200px] max-w-sm"},X={class:"flex items-center gap-2"},Fe=S({__name:"Index",props:{company:{},warehouses:{},filters:{}},setup(r){const l=r,d=N(l.filters.search),w=[{title:"Dashboard",href:`/${l.company.slug}`},{title:"Warehouses",href:`/${l.company.slug}/warehouses`}],$=()=>{n.get(`/${l.company.slug}/warehouses`,{search:d.value},{preserveState:!0})},k=o=>new Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:3}).format(o),v=[{key:"code",label:"Code"},{key:"name",label:"Name"},{key:"city",label:"Location"},{key:"item_count",label:"Items"},{key:"total_units",label:"Total Units"},{key:"status",label:"Status"},{key:"_actions",label:"",sortable:!1}],b=V(()=>l.warehouses.data.map(o=>({id:o.id,code:o.code,name:o.name,city:o.city??"-",item_count:o.item_count,total_units:k(o.total_units),status:o.is_active?"Active":"Inactive",_raw:o}))),x=o=>{n.get(`/${l.company.slug}/warehouses/${o.id}`)},C=o=>{confirm("Are you sure you want to delete this warehouse?")&&n.delete(`/${l.company.slug}/warehouses/${o}`)};return(o,a)=>(c(),D(F,null,[t(e(P),{title:"Warehouses"}),t(B,{title:"Warehouses",breadcrumbs:w},{actions:s(()=>[t(e(p),{onClick:a[0]||(a[0]=i=>e(n).get(`/${r.company.slug}/warehouses/create`))},{default:s(()=>[t(e(_),{class:"mr-2 h-4 w-4"}),a[3]||(a[3]=m(" Add Warehouse ",-1))]),_:1})]),default:s(()=>[u("div",M,[u("div",O,[t(e(A),{class:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),t(e(K),{modelValue:d.value,"onUpdate:modelValue":a[1]||(a[1]=i=>d.value=i),placeholder:"Search warehouses...",class:"pl-9",onKeyup:E($,["enter"])},null,8,["modelValue"])])]),r.warehouses.data.length===0?(c(),f(I,{key:0,title:"No warehouses yet",description:"Create your first warehouse to start managing stock locations.",icon:e(R)},{default:s(()=>[t(e(p),{onClick:a[2]||(a[2]=i=>e(n).get(`/${r.company.slug}/warehouses/create`))},{default:s(()=>[t(e(_),{class:"mr-2 h-4 w-4"}),a[4]||(a[4]=m(" Add Warehouse ",-1))]),_:1})]),_:1},8,["icon"])):(c(),f(T,{key:1,columns:v,data:b.value,pagination:{currentPage:r.warehouses.current_page,lastPage:r.warehouses.last_page,perPage:r.warehouses.per_page,total:r.warehouses.total},onRowClick:x},{"cell-name":s(({row:i})=>[u("div",X,[u("span",null,g(i.name),1),i._raw.is_primary?(c(),f(e(J),{key:0,class:"h-4 w-4 text-yellow-500 fill-yellow-500"})):W("",!0)])]),"cell-status":s(({row:i})=>[t(e(U),{variant:i._raw.is_active?"success":"secondary"},{default:s(()=>[m(g(i.status),1)]),_:2},1032,["variant"])]),"cell-_actions":s(({row:i})=>[t(e(j),null,{default:s(()=>[t(e(q),{"as-child":""},{default:s(()=>[t(e(p),{variant:"ghost",size:"icon",class:"h-8 w-8"},{default:s(()=>[t(e(H),{class:"h-4 w-4"})]),_:1})]),_:1}),t(e(z),{align:"end"},{default:s(()=>[t(e(h),{onClick:y=>e(n).get(`/${r.company.slug}/warehouses/${i.id}`)},{default:s(()=>[t(e(L),{class:"mr-2 h-4 w-4"}),a[5]||(a[5]=m(" View ",-1))]),_:1},8,["onClick"]),t(e(h),{onClick:y=>e(n).get(`/${r.company.slug}/warehouses/${i.id}/edit`)},{default:s(()=>[t(e(Q),{class:"mr-2 h-4 w-4"}),a[6]||(a[6]=m(" Edit ",-1))]),_:1},8,["onClick"]),t(e(h),{class:"text-destructive",onClick:y=>C(i.id)},{default:s(()=>[t(e(G),{class:"mr-2 h-4 w-4"}),a[7]||(a[7]=m(" Delete ",-1))]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:1},8,["data","pagination"]))]),_:1})],64))}});export{Fe as default};
