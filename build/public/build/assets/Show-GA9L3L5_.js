import{d as I,c as P,a as l,u as t,h as G,w as s,b as a,i as c,j as $,e as i,t as u,o as m,F as D,r as j,f as C}from"./app-B-wLZQl0.js";import{_ as T}from"./PageShell.vue_vue_type_script_setup_true_lang-CS74Goxj.js";import{_ as q}from"./index-a73qSWOM.js";import{_ as w}from"./index-D8JUok4n.js";import{_ as g,a as x}from"./CardContent.vue_vue_type_script_setup_true_lang-f-xi8uWj.js";import{_}from"./CardHeader.vue_vue_type_script_setup_true_lang-Cn7HWfaF.js";import{_ as v}from"./CardTitle.vue_vue_type_script_setup_true_lang-DXA8XANX.js";import{_ as A,a as B,b as y,c as b,d as V,e as o}from"./TableHeader.vue_vue_type_script_setup_true_lang-r2CqmNXq.js";import{A as z}from"./arrow-left-DSX0n2_N.js";import{C as H}from"./circle-check-big-lFRxU29B.js";import{z as Q}from"./AppSidebarHeader.vue_vue_type_script_setup_true_lang-DKxjvTPB.js";import{c as R}from"./createLucideIcon-CbxkoCx6.js";import"./AppLayout.vue_vue_type_script_setup_true_lang-CAfRB85X.js";import"./loader-circle-BSwxCoSE.js";import"./info-_qQ0Rbsf.js";import"./circle-check-YKnAkXoj.js";import"./useForwardExpose-Ca12vFmR.js";import"./VisuallyHidden-BZkMfMV2.js";import"./PopperContent-BDPRX1DE.js";import"./handleAndDispatchCustomEvent-ChOKVcqp.js";import"./Collection-DN_gmv-a.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./RovingFocusGroup-ChUfgJPy.js";import"./building-2-DLYGST8U.js";import"./plus-C63jdNg7.js";import"./check-DogY6QNG.js";import"./index-Buy61MQA.js";import"./settings-B8OaYlkV.js";import"./file-text-CFHWSPvd.js";import"./users-CkYIFvpU.js";import"./calendar-B0yi2zLg.js";import"./Label.vue_vue_type_script_setup_true_lang-By03EcqK.js";import"./VisuallyHiddenInput-CgZzfdZ2.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=R("PrinterIcon",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]),K={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},O={class:"lg:col-span-2 space-y-6"},W={class:"flex items-center justify-between"},X={class:"grid grid-cols-2 gap-4 text-sm"},Y={class:"font-medium"},Z={class:"text-muted-foreground"},h={class:"font-medium"},tt={class:"font-medium"},et={class:"font-medium"},st={class:"text-sm whitespace-pre-wrap"},lt={class:"space-y-6"},at={class:"flex justify-between items-center"},nt={class:"font-medium"},it={class:"flex justify-between items-center"},ut={class:"font-medium text-destructive"},rt={class:"flex justify-between items-center"},ot={class:"font-bold text-xl text-primary"},dt={class:"flex justify-between"},pt={class:"font-medium"},mt={class:"flex justify-between"},ft={class:"font-medium"},yt={class:"flex justify-between"},ct={class:"font-medium"},Wt=I({__name:"Show",props:{company:{},payslip:{}},setup(n){const d=n,L=[{title:"Dashboard",href:`/${d.company.slug}`},{title:"Payslips",href:`/${d.company.slug}/payslips`},{title:d.payslip.payslip_number,href:`/${d.company.slug}/payslips/${d.payslip.id}`}],f=(r,e)=>new Intl.NumberFormat("en-US",{style:"currency",currency:e||"USD"}).format(r),k=r=>new Date(r).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),M=r=>({draft:"outline",approved:"secondary",paid:"success",cancelled:"destructive"})[r]||"secondary",U=r=>r.charAt(0).toUpperCase()+r.slice(1),S=d.payslip.lines.filter(r=>r.line_type==="earning"),N=d.payslip.lines.filter(r=>r.line_type==="deduction"),E=()=>{C.post(`/${d.company.slug}/payslips/${d.payslip.id}/approve`)},F=()=>{C.post(`/${d.company.slug}/payslips/${d.payslip.id}/mark-paid`)};return(r,e)=>(m(),P(D,null,[l(t(G),{title:`Payslip ${n.payslip.payslip_number}`},null,8,["title"]),l(T,{title:`Payslip ${n.payslip.payslip_number}`,breadcrumbs:L},{actions:s(()=>[l(t(w),{variant:"outline",onClick:e[0]||(e[0]=p=>t(C).get(`/${n.company.slug}/payslips`))},{default:s(()=>[l(t(z),{class:"mr-2 h-4 w-4"}),e[1]||(e[1]=i(" Back ",-1))]),_:1}),n.payslip.status==="draft"?(m(),c(t(w),{key:0,onClick:E},{default:s(()=>[l(t(H),{class:"mr-2 h-4 w-4"}),e[2]||(e[2]=i(" Approve ",-1))]),_:1})):$("",!0),n.payslip.status==="approved"?(m(),c(t(w),{key:1,onClick:F},{default:s(()=>[l(t(Q),{class:"mr-2 h-4 w-4"}),e[3]||(e[3]=i(" Mark Paid ",-1))]),_:1})):$("",!0),l(t(w),{variant:"outline"},{default:s(()=>[l(t(J),{class:"mr-2 h-4 w-4"}),e[4]||(e[4]=i(" Print ",-1))]),_:1})]),default:s(()=>[a("div",K,[a("div",O,[l(t(g),null,{default:s(()=>[l(t(_),null,{default:s(()=>[a("div",W,[l(t(v),null,{default:s(()=>[...e[5]||(e[5]=[i("Payslip Details",-1)])]),_:1}),l(t(q),{variant:M(n.payslip.status)},{default:s(()=>[i(u(U(n.payslip.status)),1)]),_:1},8,["variant"])])]),_:1}),l(t(x),null,{default:s(()=>[a("div",X,[a("div",null,[e[6]||(e[6]=a("p",{class:"text-muted-foreground"},"Employee",-1)),a("p",Y,u(n.payslip.employee.first_name)+" "+u(n.payslip.employee.last_name),1),a("p",Z,u(n.payslip.employee.employee_number),1)]),a("div",null,[e[7]||(e[7]=a("p",{class:"text-muted-foreground"},"Department",-1)),a("p",h,u(n.payslip.employee.department??"-"),1)]),a("div",null,[e[8]||(e[8]=a("p",{class:"text-muted-foreground"},"Pay Period",-1)),a("p",tt,u(k(n.payslip.payroll_period.period_start))+" - "+u(k(n.payslip.payroll_period.period_end)),1)]),a("div",null,[e[9]||(e[9]=a("p",{class:"text-muted-foreground"},"Payment Date",-1)),a("p",et,u(k(n.payslip.payroll_period.payment_date)),1)])])]),_:1})]),_:1}),l(t(g),null,{default:s(()=>[l(t(_),null,{default:s(()=>[l(t(v),null,{default:s(()=>[...e[10]||(e[10]=[i("Earnings",-1)])]),_:1})]),_:1}),l(t(x),null,{default:s(()=>[l(t(A),null,{default:s(()=>[l(t(B),null,{default:s(()=>[l(t(y),null,{default:s(()=>[l(t(b),null,{default:s(()=>[...e[11]||(e[11]=[i("Description",-1)])]),_:1}),l(t(b),{class:"text-right"},{default:s(()=>[...e[12]||(e[12]=[i("Quantity",-1)])]),_:1}),l(t(b),{class:"text-right"},{default:s(()=>[...e[13]||(e[13]=[i("Rate",-1)])]),_:1}),l(t(b),{class:"text-right"},{default:s(()=>[...e[14]||(e[14]=[i("Amount",-1)])]),_:1})]),_:1})]),_:1}),l(t(V),null,{default:s(()=>[(m(!0),P(D,null,j(t(S),p=>(m(),c(t(y),{key:p.id},{default:s(()=>[l(t(o),null,{default:s(()=>[i(u(p.description),1)]),_:2},1024),l(t(o),{class:"text-right"},{default:s(()=>[i(u(p.quantity??"-"),1)]),_:2},1024),l(t(o),{class:"text-right"},{default:s(()=>[i(u(p.rate?f(p.rate,n.payslip.currency):"-"),1)]),_:2},1024),l(t(o),{class:"text-right font-medium"},{default:s(()=>[i(u(f(p.amount,n.payslip.currency)),1)]),_:2},1024)]),_:2},1024))),128)),t(S).length===0?(m(),c(t(y),{key:0},{default:s(()=>[l(t(o),{colspan:"4",class:"text-center text-muted-foreground"},{default:s(()=>[...e[15]||(e[15]=[i(" No earnings recorded ",-1)])]),_:1})]),_:1})):$("",!0),l(t(y),{class:"font-bold bg-muted/50"},{default:s(()=>[l(t(o),{colspan:"3"},{default:s(()=>[...e[16]||(e[16]=[i("Gross Pay",-1)])]),_:1}),l(t(o),{class:"text-right"},{default:s(()=>[i(u(f(n.payslip.gross_pay,n.payslip.currency)),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(t(g),null,{default:s(()=>[l(t(_),null,{default:s(()=>[l(t(v),null,{default:s(()=>[...e[17]||(e[17]=[i("Deductions",-1)])]),_:1})]),_:1}),l(t(x),null,{default:s(()=>[l(t(A),null,{default:s(()=>[l(t(B),null,{default:s(()=>[l(t(y),null,{default:s(()=>[l(t(b),null,{default:s(()=>[...e[18]||(e[18]=[i("Description",-1)])]),_:1}),l(t(b),{class:"text-right"},{default:s(()=>[...e[19]||(e[19]=[i("Amount",-1)])]),_:1})]),_:1})]),_:1}),l(t(V),null,{default:s(()=>[(m(!0),P(D,null,j(t(N),p=>(m(),c(t(y),{key:p.id},{default:s(()=>[l(t(o),null,{default:s(()=>[i(u(p.description),1)]),_:2},1024),l(t(o),{class:"text-right font-medium text-destructive"},{default:s(()=>[i(" -"+u(f(p.amount,n.payslip.currency)),1)]),_:2},1024)]),_:2},1024))),128)),t(N).length===0?(m(),c(t(y),{key:0},{default:s(()=>[l(t(o),{colspan:"2",class:"text-center text-muted-foreground"},{default:s(()=>[...e[20]||(e[20]=[i(" No deductions recorded ",-1)])]),_:1})]),_:1})):$("",!0),l(t(y),{class:"font-bold bg-muted/50"},{default:s(()=>[l(t(o),null,{default:s(()=>[...e[21]||(e[21]=[i("Total Deductions",-1)])]),_:1}),l(t(o),{class:"text-right text-destructive"},{default:s(()=>[i(" -"+u(f(n.payslip.total_deductions,n.payslip.currency)),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),n.payslip.notes?(m(),c(t(g),{key:0},{default:s(()=>[l(t(_),null,{default:s(()=>[l(t(v),null,{default:s(()=>[...e[22]||(e[22]=[i("Notes",-1)])]),_:1})]),_:1}),l(t(x),null,{default:s(()=>[a("p",st,u(n.payslip.notes),1)]),_:1})]),_:1})):$("",!0)]),a("div",lt,[l(t(g),null,{default:s(()=>[l(t(_),null,{default:s(()=>[l(t(v),null,{default:s(()=>[...e[23]||(e[23]=[i("Pay Summary",-1)])]),_:1})]),_:1}),l(t(x),{class:"space-y-4"},{default:s(()=>[a("div",at,[e[24]||(e[24]=a("span",{class:"text-muted-foreground"},"Gross Pay",-1)),a("span",nt,u(f(n.payslip.gross_pay,n.payslip.currency)),1)]),a("div",it,[e[25]||(e[25]=a("span",{class:"text-muted-foreground"},"Deductions",-1)),a("span",ut," -"+u(f(n.payslip.total_deductions,n.payslip.currency)),1)]),e[27]||(e[27]=a("hr",null,null,-1)),a("div",rt,[e[26]||(e[26]=a("span",{class:"font-semibold"},"Net Pay",-1)),a("span",ot,u(f(n.payslip.net_pay,n.payslip.currency)),1)])]),_:1})]),_:1}),l(t(g),null,{default:s(()=>[l(t(_),null,{default:s(()=>[l(t(v),null,{default:s(()=>[...e[28]||(e[28]=[i("Details",-1)])]),_:1})]),_:1}),l(t(x),{class:"space-y-3 text-sm"},{default:s(()=>[a("div",dt,[e[29]||(e[29]=a("span",{class:"text-muted-foreground"},"Payslip #",-1)),a("span",pt,u(n.payslip.payslip_number),1)]),a("div",mt,[e[30]||(e[30]=a("span",{class:"text-muted-foreground"},"Currency",-1)),a("span",ft,u(n.payslip.currency),1)]),a("div",yt,[e[31]||(e[31]=a("span",{class:"text-muted-foreground"},"Created",-1)),a("span",ct,u(k(n.payslip.created_at)),1)])]),_:1})]),_:1})])])]),_:1},8,["title"])],64))}});export{Wt as default};
