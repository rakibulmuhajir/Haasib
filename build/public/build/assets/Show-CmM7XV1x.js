import{d as B,s as p,c as u,a as i,u as e,h as E,w as l,b as s,i as $,j as r,t as d,e as o,o as a,f as g,F as V}from"./app-B-wLZQl0.js";import{_ as F}from"./PageShell.vue_vue_type_script_setup_true_lang-CS74Goxj.js";import{_ as w}from"./index-D8JUok4n.js";import{_ as m,a as c}from"./CardContent.vue_vue_type_script_setup_true_lang-f-xi8uWj.js";import{_ as y}from"./CardHeader.vue_vue_type_script_setup_true_lang-Cn7HWfaF.js";import{_ as b}from"./CardTitle.vue_vue_type_script_setup_true_lang-DXA8XANX.js";import{_ as T}from"./index-a73qSWOM.js";import{_ as U}from"./Separator.vue_vue_type_script_setup_true_lang-8_dGzQCj.js";import{b as I,c as L,d as P,e as S}from"./AppSidebarHeader.vue_vue_type_script_setup_true_lang-DKxjvTPB.js";import{S as N}from"./square-pen-DZtT9kbx.js";import{S as j}from"./send-C-rqTrkv.js";import{A as q}from"./arrow-left-DSX0n2_N.js";import{E as M}from"./ellipsis-DRk1q4ie.js";import"./AppLayout.vue_vue_type_script_setup_true_lang-CAfRB85X.js";import"./loader-circle-BSwxCoSE.js";import"./createLucideIcon-CbxkoCx6.js";import"./info-_qQ0Rbsf.js";import"./circle-check-YKnAkXoj.js";import"./useForwardExpose-Ca12vFmR.js";import"./VisuallyHidden-BZkMfMV2.js";import"./PopperContent-BDPRX1DE.js";import"./handleAndDispatchCustomEvent-ChOKVcqp.js";import"./Collection-DN_gmv-a.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./RovingFocusGroup-ChUfgJPy.js";import"./building-2-DLYGST8U.js";import"./plus-C63jdNg7.js";import"./check-DogY6QNG.js";import"./index-Buy61MQA.js";import"./settings-B8OaYlkV.js";import"./file-text-CFHWSPvd.js";import"./users-CkYIFvpU.js";import"./calendar-B0yi2zLg.js";import"./Label.vue_vue_type_script_setup_true_lang-By03EcqK.js";import"./VisuallyHiddenInput-CgZzfdZ2.js";const R={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},z={class:"lg:col-span-2 space-y-6"},G={class:"flex justify-between items-start mb-6"},H={class:"text-2xl font-bold"},J={class:"text-muted-foreground"},K={class:"text-right"},O={class:"text-2xl font-bold text-green-600"},Q={class:"grid grid-cols-2 gap-6"},W={class:"font-medium"},X={key:0},Y={class:"text-right"},Z={key:0,class:"mb-1"},h={class:"mb-1"},tt={class:"p-4 bg-muted/50 rounded-lg"},et={class:"font-medium"},nt={class:"prose prose-sm max-w-none"},st={class:"text-sm"},it={class:"space-y-6"},lt={class:"flex justify-between"},dt={class:"font-bold text-green-600"},ot={class:"flex justify-between text-sm"},at={key:0,class:"flex justify-between text-sm"},rt={class:"flex justify-between text-sm text-muted-foreground"},ut={class:"flex justify-between text-sm"},mt={key:0,class:"flex justify-between text-sm"},ct={key:1,class:"flex justify-between text-sm"},ft={key:2,class:"flex justify-between text-sm"},Wt=B({__name:"Show",props:{company:{},credit_note:{}},setup(n){const v=n,D=p(()=>[{title:"Dashboard",href:"/dashboard"},{title:v.company.name,href:`/${v.company.slug}`},{title:"Credit Notes",href:`/${v.company.slug}/credit-notes`},{title:v.credit_note.credit_note_number}]),A=_=>{switch(_){case"draft":return"secondary";case"issued":return"default";case"partial":return"warning";case"applied":return"success";case"void":return"destructive";default:return"secondary"}},C=(_,t)=>new Intl.NumberFormat("en-US",{style:"currency",currency:t||"USD"}).format(_),f=_=>new Date(_).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),k=p(()=>["draft","issued"].includes(v.credit_note.status));return(_,t)=>(a(),u(V,null,[i(e(E),{title:`Credit Note ${n.credit_note.credit_note_number}`},null,8,["title"]),i(F,{title:`Credit Note ${n.credit_note.credit_note_number}`,breadcrumbs:D.value},{actions:l(()=>[i(e(w),{variant:"outline",onClick:t[0]||(t[0]=x=>e(g).get(`/${n.company.slug}/credit-notes`))},{default:l(()=>[i(e(q),{class:"mr-2 h-4 w-4"}),t[5]||(t[5]=o(" Back ",-1))]),_:1}),i(e(I),null,{default:l(()=>[i(e(L),{asChild:""},{default:l(()=>[i(e(w),{variant:"outline"},{default:l(()=>[i(e(M),{class:"mr-2 h-4 w-4"}),t[6]||(t[6]=o(" More ",-1))]),_:1})]),_:1}),i(e(P),{align:"end"},{default:l(()=>[i(e(S),{onClick:t[1]||(t[1]=x=>e(g).get(`/${n.company.slug}/credit-notes/${n.credit_note.id}/edit`)),disabled:!k.value},{default:l(()=>[i(e(N),{class:"mr-2 h-4 w-4"}),t[7]||(t[7]=o(" Edit ",-1))]),_:1},8,["disabled"]),n.credit_note.status==="draft"?(a(),$(e(S),{key:0,onClick:t[2]||(t[2]=x=>e(g).post(`/${n.company.slug}/credit-notes/${n.credit_note.id}/send`))},{default:l(()=>[i(e(j),{class:"mr-2 h-4 w-4"}),t[8]||(t[8]=o(" Send ",-1))]),_:1})):r("",!0)]),_:1})]),_:1})]),default:l(()=>[s("div",R,[s("div",z,[i(e(m),null,{default:l(()=>[i(e(c),{class:"pt-6"},{default:l(()=>[s("div",G,[s("div",null,[s("h1",H,"Credit Note "+d(n.credit_note.credit_note_number),1),s("p",J,"Date: "+d(f(n.credit_note.credit_date)),1)]),s("div",K,[i(e(T),{variant:A(n.credit_note.status),class:"mb-2"},{default:l(()=>[o(d(n.credit_note.status),1)]),_:1},8,["variant"]),s("div",O,d(C(n.credit_note.amount,n.credit_note.base_currency)),1)])]),s("div",Q,[s("div",null,[t[9]||(t[9]=s("h3",{class:"font-semibold mb-2"},"Customer:",-1)),s("div",null,[s("p",W,d(n.credit_note.customer.name),1),n.credit_note.customer.email?(a(),u("p",X,d(n.credit_note.customer.email),1)):r("",!0)])]),s("div",Y,[n.credit_note.invoice?(a(),u("p",Z,[t[10]||(t[10]=s("span",{class:"font-medium"},"Applied to:",-1)),o(" "+d(n.credit_note.invoice.invoice_number),1)])):r("",!0),s("p",h,[t[11]||(t[11]=s("span",{class:"font-medium"},"Currency:",-1)),o(" "+d(n.credit_note.base_currency),1)])])])]),_:1})]),_:1}),i(e(m),null,{default:l(()=>[i(e(y),null,{default:l(()=>[i(e(b),null,{default:l(()=>[...t[12]||(t[12]=[o("Reason for Credit",-1)])]),_:1})]),_:1}),i(e(c),null,{default:l(()=>[s("div",tt,[s("p",et,d(n.credit_note.reason),1)])]),_:1})]),_:1}),n.credit_note.terms?(a(),$(e(m),{key:0},{default:l(()=>[i(e(y),null,{default:l(()=>[i(e(b),null,{default:l(()=>[...t[13]||(t[13]=[o("Terms and Conditions",-1)])]),_:1})]),_:1}),i(e(c),null,{default:l(()=>[s("div",nt,[s("p",null,d(n.credit_note.terms),1)])]),_:1})]),_:1})):r("",!0),n.credit_note.notes?(a(),$(e(m),{key:1},{default:l(()=>[i(e(y),null,{default:l(()=>[i(e(b),null,{default:l(()=>[...t[14]||(t[14]=[o("Internal Notes",-1)])]),_:1})]),_:1}),i(e(c),null,{default:l(()=>[s("p",st,d(n.credit_note.notes),1)]),_:1})]),_:1})):r("",!0)]),s("div",it,[i(e(m),null,{default:l(()=>[i(e(y),null,{default:l(()=>[i(e(b),null,{default:l(()=>[...t[15]||(t[15]=[o("Credit Note Summary",-1)])]),_:1})]),_:1}),i(e(c),{class:"space-y-3"},{default:l(()=>[s("div",lt,[t[16]||(t[16]=s("span",null,"Credit Amount:",-1)),s("span",dt,d(C(n.credit_note.amount,n.credit_note.base_currency)),1)]),s("div",ot,[t[17]||(t[17]=s("span",null,"Status:",-1)),s("span",null,d(n.credit_note.status),1)]),n.credit_note.invoice?(a(),u("div",at,[t[18]||(t[18]=s("span",null,"Applied to:",-1)),s("span",null,d(n.credit_note.invoice.invoice_number),1)])):r("",!0),i(e(U)),s("div",rt,[t[19]||(t[19]=s("span",null,"Credit Date:",-1)),s("span",null,d(f(n.credit_note.credit_date)),1)])]),_:1})]),_:1}),i(e(m),null,{default:l(()=>[i(e(y),null,{default:l(()=>[i(e(b),null,{default:l(()=>[...t[20]||(t[20]=[o("Timeline",-1)])]),_:1})]),_:1}),i(e(c),{class:"space-y-3"},{default:l(()=>[s("div",ut,[t[21]||(t[21]=s("span",null,"Created:",-1)),s("span",null,d(f(n.credit_note.created_at)),1)]),n.credit_note.sent_at?(a(),u("div",mt,[t[22]||(t[22]=s("span",null,"Sent:",-1)),s("span",null,d(f(n.credit_note.sent_at)),1)])):r("",!0),n.credit_note.posted_at?(a(),u("div",ct,[t[23]||(t[23]=s("span",null,"Posted:",-1)),s("span",null,d(f(n.credit_note.posted_at)),1)])):r("",!0),n.credit_note.voided_at?(a(),u("div",ft,[t[24]||(t[24]=s("span",null,"Voided:",-1)),s("span",null,d(f(n.credit_note.voided_at)),1)])):r("",!0)]),_:1})]),_:1}),i(e(m),null,{default:l(()=>[i(e(y),null,{default:l(()=>[i(e(b),null,{default:l(()=>[...t[25]||(t[25]=[o("Actions",-1)])]),_:1})]),_:1}),i(e(c),{class:"space-y-2"},{default:l(()=>[i(e(w),{class:"w-full",variant:"outline",onClick:t[3]||(t[3]=x=>e(g).get(`/${n.company.slug}/credit-notes/${n.credit_note.id}/edit`)),disabled:!k.value},{default:l(()=>[i(e(N),{class:"mr-2 h-4 w-4"}),t[26]||(t[26]=o(" Edit Credit Note ",-1))]),_:1},8,["disabled"]),n.credit_note.status==="draft"?(a(),$(e(w),{key:0,class:"w-full",variant:"outline",onClick:t[4]||(t[4]=x=>e(g).post(`/${n.company.slug}/credit-notes/${n.credit_note.id}/send`))},{default:l(()=>[i(e(j),{class:"mr-2 h-4 w-4"}),t[27]||(t[27]=o(" Send to Customer ",-1))]),_:1})):r("",!0)]),_:1})]),_:1})])])]),_:1},8,["title","breadcrumbs"])],64))}});export{Wt as default};
