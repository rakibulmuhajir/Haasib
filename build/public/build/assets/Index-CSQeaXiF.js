import{d as k,q as _,s as w,c as V,a as e,u as a,h as j,w as r,b as y,i as S,j as D,N,e as i,f as m,t as C,o as b,F}from"./app-B-wLZQl0.js";import{S as J,_ as B}from"./PageShell.vue_vue_type_script_setup_true_lang-CS74Goxj.js";import{_ as U}from"./DataTable.vue_vue_type_script_setup_true_lang-BQW8AXQk.js";import{_ as A}from"./EmptyState.vue_vue_type_script_setup_true_lang-CrAvLLsO.js";import{_ as P}from"./index-a73qSWOM.js";import{_ as T}from"./index-D8JUok4n.js";import{_ as h}from"./Input.vue_vue_type_script_setup_true_lang-E2jwtM0f.js";import{_ as I,a as K,b as L,c as q,d}from"./SelectValue.vue_vue_type_script_setup_true_lang-QDn6lJI8.js";import{P as E}from"./plus-C63jdNg7.js";import{F as R}from"./file-text-CFHWSPvd.js";import"./AppLayout.vue_vue_type_script_setup_true_lang-CAfRB85X.js";import"./AppSidebarHeader.vue_vue_type_script_setup_true_lang-DKxjvTPB.js";import"./useForwardExpose-Ca12vFmR.js";import"./VisuallyHidden-BZkMfMV2.js";import"./PopperContent-BDPRX1DE.js";import"./handleAndDispatchCustomEvent-ChOKVcqp.js";import"./Collection-DN_gmv-a.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./RovingFocusGroup-ChUfgJPy.js";import"./building-2-DLYGST8U.js";import"./createLucideIcon-CbxkoCx6.js";import"./check-DogY6QNG.js";import"./index-Buy61MQA.js";import"./settings-B8OaYlkV.js";import"./users-CkYIFvpU.js";import"./calendar-B0yi2zLg.js";import"./Label.vue_vue_type_script_setup_true_lang-By03EcqK.js";import"./VisuallyHiddenInput-CgZzfdZ2.js";import"./loader-circle-BSwxCoSE.js";import"./info-_qQ0Rbsf.js";import"./circle-check-YKnAkXoj.js";import"./ohash.D__AXeF1-C-E83dC9.js";import"./nullish-CHIgUVhi.js";const z={class:"flex flex-col gap-4 md:flex-row mb-6"},G={class:"relative flex-1"},jt=k({__name:"Index",props:{company:{},journals:{},filters:{}},setup(n){const l=n,c=_(l.filters.search??""),u=_(l.filters.status??"all"),$=[{title:"Dashboard",href:`/${l.company.slug}`},{title:"Journals",href:`/${l.company.slug}/journals`}],f=()=>{m.get(`/${l.company.slug}/journals`,{search:c.value,status:u.value==="all"?"":u.value},{preserveState:!0})},p=o=>new Intl.NumberFormat("en-US",{style:"currency",currency:l.company.base_currency||"USD"}).format(o),g=o=>o==="draft"?"secondary":o==="posted"?"success":o==="void"?"outline":"secondary",v=[{key:"transaction_number",label:"Journal #"},{key:"transaction_date",label:"Date"},{key:"status",label:"Status"},{key:"total_debit",label:"Debit"},{key:"total_credit",label:"Credit"},{key:"journal_entries_count",label:"Lines"}],x=w(()=>l.journals.data.map(o=>({id:o.id,transaction_number:o.transaction_number,transaction_date:new Date(o.transaction_date).toLocaleDateString(),status:o.status,total_debit:p(o.total_debit),total_credit:p(o.total_credit),journal_entries_count:o.journal_entries_count})));return(o,t)=>(b(),V(F,null,[e(a(j),{title:"Journals"}),e(B,{title:"Journals",breadcrumbs:$,icon:a(R)},{actions:r(()=>[e(a(T),{onClick:t[0]||(t[0]=s=>a(m).get(`/${n.company.slug}/journals/create`))},{default:r(()=>[e(a(E),{class:"mr-2 h-4 w-4"}),t[5]||(t[5]=i(" New Journal ",-1))]),_:1})]),default:r(()=>[y("div",z,[y("div",G,[e(a(J),{class:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),e(a(h),{modelValue:c.value,"onUpdate:modelValue":t[1]||(t[1]=s=>c.value=s),placeholder:"Search journal # or description...",class:"pl-10",onKeyup:N(f,["enter"])},null,8,["modelValue"])]),e(a(I),{modelValue:u.value,"onUpdate:modelValue":[t[2]||(t[2]=s=>u.value=s),f]},{default:r(()=>[e(a(K),{class:"w-[180px]"},{default:r(()=>[e(a(L),{placeholder:"All status"})]),_:1}),e(a(q),null,{default:r(()=>[e(a(d),{value:"all"},{default:r(()=>[...t[6]||(t[6]=[i("All status",-1)])]),_:1}),e(a(d),{value:"draft"},{default:r(()=>[...t[7]||(t[7]=[i("Draft",-1)])]),_:1}),e(a(d),{value:"posted"},{default:r(()=>[...t[8]||(t[8]=[i("Posted",-1)])]),_:1}),e(a(d),{value:"void"},{default:r(()=>[...t[9]||(t[9]=[i("Void",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),e(U,{columns:v,data:x.value,pagination:n.journals,onRowClick:t[3]||(t[3]=s=>a(m).get(`/${n.company.slug}/journals/${s.id}`))},{status:r(({value:s})=>[e(a(P),{variant:g(s)},{default:r(()=>[i(C(s),1)]),_:2},1032,["variant"])]),_:1},8,["data","pagination"]),n.journals.data.length?D("",!0):(b(),S(A,{key:0,icon:"FileText",title:"No journals yet",description:"Create your first manual journal entry.","action-label":"New Journal",onAction:t[4]||(t[4]=s=>a(m).get(`/${n.company.slug}/journals/create`))}))]),_:1},8,["icon"])],64))}});export{jt as default};
