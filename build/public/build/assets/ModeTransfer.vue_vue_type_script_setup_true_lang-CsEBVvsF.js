import{d as h,z as $,s as f,x as C,c as p,b as e,a,t as c,u as t,w as r,e as u,F as V,r as A,i as b,j as T,o as d}from"./app-B-wLZQl0.js";import{_ as w}from"./index-D8JUok4n.js";import{_ as F}from"./Label.vue_vue_type_script_setup_true_lang-By03EcqK.js";import{a as N,b as S,c as B,_ as L,d as j}from"./SelectValue.vue_vue_type_script_setup_true_lang-QDn6lJI8.js";import{A as R}from"./arrow-right-left-CFtESBWp.js";import{L as z}from"./loader-circle-BSwxCoSE.js";const D={class:"space-y-4"},E={class:"flex items-center gap-4 p-4 border rounded-md bg-background/50"},M={class:"flex-1 text-center"},P={class:"text-xs text-muted-foreground uppercase font-bold"},U={class:"font-medium"},q={class:"flex-1 text-center"},G={class:"text-xs text-muted-foreground uppercase font-bold"},H={class:"space-y-2"},I={class:"flex justify-end pt-2"},Z=h({__name:"ModeTransfer",props:{transaction:{},accounts:{}},emits:["success"],setup(l,{emit:g}){const i=l,x=g,v=$().props.company,_=f(()=>Number(i.transaction.amount)<0),o=C({bank_transaction_id:i.transaction.id,target_bank_account_id:""}),k=f(()=>i.accounts.filter(m=>m.id!==i.transaction.bank_account_id)),y=()=>{o.post(`/${v.slug}/banking/resolve/transfer`,{preserveScroll:!0,onSuccess:()=>x("success")})};return(m,s)=>(d(),p("div",D,[e("div",E,[e("div",M,[e("div",P,c(_.value?"From":"To"),1),e("div",U,c(l.transaction.bank_account?.account_name||"Current Account"),1)]),a(t(R),{class:"h-5 w-5 text-muted-foreground"}),e("div",q,[e("div",G,c(_.value?"To":"From"),1),s[1]||(s[1]=e("div",{class:"font-medium text-primary"},"Target Account",-1))])]),e("div",H,[a(t(F),null,{default:r(()=>[...s[2]||(s[2]=[u("Select Account",-1)])]),_:1}),a(t(L),{modelValue:t(o).target_bank_account_id,"onUpdate:modelValue":s[0]||(s[0]=n=>t(o).target_bank_account_id=n)},{default:r(()=>[a(t(N),null,{default:r(()=>[a(t(S),{placeholder:"Choose bank account..."})]),_:1}),a(t(B),null,{default:r(()=>[(d(!0),p(V,null,A(k.value,n=>(d(),b(t(j),{key:n.id,value:n.id},{default:r(()=>[u(c(n.account_name)+" ("+c(n.account_number)+") ",1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),e("div",I,[a(t(w),{onClick:y,disabled:t(o).processing||!t(o).target_bank_account_id},{default:r(()=>[t(o).processing?(d(),b(t(z),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):T("",!0),s[3]||(s[3]=u(" Record Transfer ",-1))]),_:1},8,["disabled"])])]))}});export{Z as _};
