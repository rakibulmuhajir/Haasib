import{d as b,q as x,s as P,c as S,a as t,u as e,h as V,w as s,b as g,i as _,N as E,o as d,f as m,e as n,t as I,F as N}from"./app-B-wLZQl0.js";import{S as D,_ as A}from"./PageShell.vue_vue_type_script_setup_true_lang-CS74Goxj.js";import{_ as B}from"./EmptyState.vue_vue_type_script_setup_true_lang-CrAvLLsO.js";import{_ as T}from"./DataTable.vue_vue_type_script_setup_true_lang-BQW8AXQk.js";import{_ as F}from"./index-a73qSWOM.js";import{_ as u}from"./index-D8JUok4n.js";import{_ as z}from"./Input.vue_vue_type_script_setup_true_lang-E2jwtM0f.js";import{G as K,b as R,c as q,d as G,e as p}from"./AppSidebarHeader.vue_vue_type_script_setup_true_lang-DKxjvTPB.js";import{P as $}from"./plus-C63jdNg7.js";import{E as U}from"./ellipsis-DRk1q4ie.js";import{E as j}from"./eye-pMepw5BK.js";import{P as H}from"./pencil-R0Fiz8Cs.js";import{T as J}from"./trash-2-BxVbfljz.js";import"./AppLayout.vue_vue_type_script_setup_true_lang-CAfRB85X.js";import"./loader-circle-BSwxCoSE.js";import"./createLucideIcon-CbxkoCx6.js";import"./info-_qQ0Rbsf.js";import"./circle-check-YKnAkXoj.js";import"./useForwardExpose-Ca12vFmR.js";import"./VisuallyHidden-BZkMfMV2.js";import"./PopperContent-BDPRX1DE.js";import"./handleAndDispatchCustomEvent-ChOKVcqp.js";import"./Collection-DN_gmv-a.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./RovingFocusGroup-ChUfgJPy.js";import"./building-2-DLYGST8U.js";import"./check-DogY6QNG.js";import"./index-Buy61MQA.js";import"./settings-B8OaYlkV.js";import"./file-text-CFHWSPvd.js";import"./users-CkYIFvpU.js";import"./calendar-B0yi2zLg.js";import"./Label.vue_vue_type_script_setup_true_lang-By03EcqK.js";import"./VisuallyHiddenInput-CgZzfdZ2.js";const L={class:"mb-6 flex flex-wrap items-center gap-4"},M={class:"relative flex-1 min-w-[200px] max-w-sm"},Ve=b({__name:"Index",props:{company:{},categories:{},filters:{}},setup(o){const l=o,c=x(l.filters.search),y=[{title:"Dashboard",href:`/${l.company.slug}`},{title:"Item Categories",href:`/${l.company.slug}/item-categories`}],k=()=>{m.get(`/${l.company.slug}/item-categories`,{search:c.value},{preserveState:!0})},v=[{key:"code",label:"Code"},{key:"name",label:"Name"},{key:"parent",label:"Parent"},{key:"items_count",label:"Items"},{key:"status",label:"Status"},{key:"_actions",label:"",sortable:!1}],C=P(()=>l.categories.data.map(i=>({id:i.id,code:i.code,name:i.name,parent:i.parent?.name??"-",items_count:i.items_count,status:i.is_active?"Active":"Inactive",_raw:i}))),h=i=>{m.get(`/${l.company.slug}/item-categories/${i.id}`)},w=i=>{confirm("Are you sure you want to delete this category?")&&m.delete(`/${l.company.slug}/item-categories/${i}`)};return(i,a)=>(d(),S(N,null,[t(e(V),{title:"Item Categories"}),t(A,{title:"Item Categories",breadcrumbs:y},{actions:s(()=>[t(e(u),{onClick:a[0]||(a[0]=r=>e(m).get(`/${o.company.slug}/item-categories/create`))},{default:s(()=>[t(e($),{class:"mr-2 h-4 w-4"}),a[3]||(a[3]=n(" Add Category ",-1))]),_:1})]),default:s(()=>[g("div",L,[g("div",M,[t(e(D),{class:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),t(e(z),{modelValue:c.value,"onUpdate:modelValue":a[1]||(a[1]=r=>c.value=r),placeholder:"Search categories...",class:"pl-9",onKeyup:E(k,["enter"])},null,8,["modelValue"])])]),o.categories.data.length===0?(d(),_(B,{key:0,title:"No categories yet",description:"Create categories to organize your items.",icon:e(K)},{default:s(()=>[t(e(u),{onClick:a[2]||(a[2]=r=>e(m).get(`/${o.company.slug}/item-categories/create`))},{default:s(()=>[t(e($),{class:"mr-2 h-4 w-4"}),a[4]||(a[4]=n(" Add Category ",-1))]),_:1})]),_:1},8,["icon"])):(d(),_(T,{key:1,columns:v,data:C.value,pagination:{currentPage:o.categories.current_page,lastPage:o.categories.last_page,perPage:o.categories.per_page,total:o.categories.total},onRowClick:h},{"cell-status":s(({row:r})=>[t(e(F),{variant:r._raw.is_active?"success":"secondary"},{default:s(()=>[n(I(r.status),1)]),_:2},1032,["variant"])]),"cell-_actions":s(({row:r})=>[t(e(R),null,{default:s(()=>[t(e(q),{"as-child":""},{default:s(()=>[t(e(u),{variant:"ghost",size:"icon",class:"h-8 w-8"},{default:s(()=>[t(e(U),{class:"h-4 w-4"})]),_:1})]),_:1}),t(e(G),{align:"end"},{default:s(()=>[t(e(p),{onClick:f=>e(m).get(`/${o.company.slug}/item-categories/${r.id}`)},{default:s(()=>[t(e(j),{class:"mr-2 h-4 w-4"}),a[5]||(a[5]=n(" View ",-1))]),_:1},8,["onClick"]),t(e(p),{onClick:f=>e(m).get(`/${o.company.slug}/item-categories/${r.id}/edit`)},{default:s(()=>[t(e(H),{class:"mr-2 h-4 w-4"}),a[6]||(a[6]=n(" Edit ",-1))]),_:1},8,["onClick"]),t(e(p),{class:"text-destructive",onClick:f=>w(r.id)},{default:s(()=>[t(e(J),{class:"mr-2 h-4 w-4"}),a[7]||(a[7]=n(" Delete ",-1))]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:1},8,["data","pagination"]))]),_:1})],64))}});export{Ve as default};
