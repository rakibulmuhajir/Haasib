import{d as Ee,s as le,q as T,x as W,c,a,u as e,h as Fe,w as s,b as o,e as i,o as d,F as V,r as L,t as r,f as C,j as f,B as oe,i as B,A as ie,C as D}from"./app-B-wLZQl0.js";import{_ as Ie}from"./PageShell.vue_vue_type_script_setup_true_lang-CS74Goxj.js";import{_ as Re}from"./DataTable.vue_vue_type_script_setup_true_lang-BQW8AXQk.js";import{_ as Ve}from"./ConfirmDialog.vue_vue_type_script_setup_true_lang-Bw68vWWF.js";import{u as De,_ as P}from"./useInlineEdit-B47U4nRp.js";import{_ as b}from"./MoneyText.vue_vue_type_script_setup_true_lang-FCkTQzTI.js";import{u as Ae,R as re,a as Y,b as H,c as Q,d as X,e as G,U as je}from"./AppSidebarHeader.vue_vue_type_script_setup_true_lang-DKxjvTPB.js";import{_,a as h}from"./CardContent.vue_vue_type_script_setup_true_lang-f-xi8uWj.js";import{_ as J}from"./CardDescription.vue_vue_type_script_setup_true_lang-D23jLuEj.js";import{_ as w}from"./CardHeader.vue_vue_type_script_setup_true_lang-Cn7HWfaF.js";import{_ as z}from"./CardTitle.vue_vue_type_script_setup_true_lang-DXA8XANX.js";import{_ as M}from"./index-a73qSWOM.js";import{_ as u}from"./index-D8JUok4n.js";import{_ as Te}from"./Input.vue_vue_type_script_setup_true_lang-E2jwtM0f.js";import{_ as S}from"./Label.vue_vue_type_script_setup_true_lang-By03EcqK.js";import{_ as Z,a as Le,b as ee,c as Be}from"./TabsTrigger.vue_vue_type_script_setup_true_lang-CTCCy_9A.js";import{_ as de,a as ce,b as ue,c as me,d as fe}from"./DialogTitle.vue_vue_type_script_setup_true_lang-DUuIDTHQ.js";import{_ as ve}from"./DialogFooter.vue_vue_type_script_setup_true_lang-CLZwVYr3.js";import{B as Me}from"./building-2-DLYGST8U.js";import{T as Ne}from"./trending-up-a1ZqhVfb.js";import{c as q}from"./createLucideIcon-CbxkoCx6.js";import{W as be}from"./wallet-DCTJfQEJ.js";import{T as Oe}from"./AppLayout.vue_vue_type_script_setup_true_lang-CAfRB85X.js";import{C as K}from"./calendar-B0yi2zLg.js";import{C as ye}from"./circle-check-YKnAkXoj.js";import{G as Pe}from"./globe-DudBlPOB.js";import{T as Ge}from"./trash-2-BxVbfljz.js";import{C as Je}from"./circle-x-BCtaKtUS.js";import{S as Ke}from"./shield-BDm12Uif.js";import{M as qe}from"./mail-Cs8h5Q9u.js";import{U as We}from"./user-plus-DI8dctJm.js";import{S as Ye}from"./settings-B8OaYlkV.js";import{U as He}from"./users-CkYIFvpU.js";import"./circle-check-big-lFRxU29B.js";import"./info-_qQ0Rbsf.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-QDn6lJI8.js";import"./VisuallyHidden-BZkMfMV2.js";import"./useForwardExpose-Ca12vFmR.js";import"./Collection-DN_gmv-a.js";import"./PopperContent-BDPRX1DE.js";import"./handleAndDispatchCustomEvent-ChOKVcqp.js";import"./check-DogY6QNG.js";import"./ohash.D__AXeF1-C-E83dC9.js";import"./nullish-CHIgUVhi.js";import"./pencil-R0Fiz8Cs.js";import"./loader-circle-BSwxCoSE.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./RovingFocusGroup-ChUfgJPy.js";import"./plus-C63jdNg7.js";import"./index-Buy61MQA.js";import"./file-text-CFHWSPvd.js";import"./VisuallyHiddenInput-CgZzfdZ2.js";import"./RovingFocusItem-PDr5bOed.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=q("BanIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=q("EllipsisVerticalIcon",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=q("LanguagesIcon",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=q("TrendingDownIcon",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),tt={class:"font-mono text-zinc-400"},at={class:"text-zinc-600"},st={class:"mb-4"},nt={class:"text-3xl font-bold text-zinc-900"},lt={key:0,class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4"},ot={class:"text-xs text-zinc-500 mb-1 truncate"},it={class:"font-semibold text-zinc-800"},rt={key:1,class:"text-sm text-zinc-500 italic"},dt={class:"flex items-center justify-between"},ct={class:"flex items-center gap-4 mb-4"},ut={class:"grid grid-cols-2 gap-4 pt-4 border-t border-zinc-100"},mt={class:"text-xs text-zinc-500 uppercase tracking-wide mb-1"},ft={class:"text-lg font-semibold text-zinc-800"},vt={class:"text-xs text-zinc-500 uppercase tracking-wide mb-1"},bt={class:"text-lg font-semibold text-zinc-800"},yt={class:"grid gap-6 md:grid-cols-2"},gt={class:"text-2xl font-bold text-zinc-900"},xt={class:"text-xs text-zinc-500 mt-1"},pt={class:"mt-4 pt-4 border-t flex justify-between items-center"},_t={class:"text-sm text-zinc-600"},ht={class:"font-medium"},wt={class:"text-sm font-semibold text-amber-600"},zt={class:"text-2xl font-bold text-zinc-900"},kt={class:"text-xs text-zinc-500 mt-1"},$t={class:"mt-4 pt-4 border-t flex justify-between items-center"},Ct={class:"text-sm text-zinc-600"},St={class:"font-medium"},Ut={class:"text-sm font-semibold text-amber-600"},Et={class:"grid gap-6 md:grid-cols-3"},Ft={class:"grid grid-cols-2 sm:grid-cols-4 gap-4"},It={class:"space-y-3"},Rt={key:0,class:"flex items-center gap-3 p-2 rounded-md bg-red-50 border border-red-100"},Vt={class:"text-sm"},Dt={class:"font-bold text-red-800"},At={key:1,class:"flex items-center gap-3 p-2 rounded-md bg-amber-50 border border-amber-100"},jt={class:"text-sm"},Tt={class:"font-bold text-amber-800"},Lt={class:"text-sm"},Bt={key:3,class:"text-center py-4 text-zinc-500 text-sm"},Mt={class:"font-medium text-zinc-900"},Nt={class:"text-xs text-zinc-500"},Ot={key:0,class:"font-mono text-sm text-zinc-800"},Pt={key:0,class:"text-sm text-zinc-500"},Gt={class:"grid gap-6 md:grid-cols-2"},Jt={class:"space-y-1.5"},Kt={class:"font-mono text-base text-zinc-900"},qt={class:"space-y-1.5"},Wt={class:"text-base text-zinc-900"},Yt={class:"font-mono"},Ht={class:"ml-2 text-sm text-zinc-500"},Qt={class:"space-y-1.5"},Xt={class:"text-base text-zinc-900"},Zt={class:"space-y-1.5"},ea={class:"text-base text-zinc-900 capitalize"},ta={class:"space-y-1.5"},aa={class:"flex items-center gap-1.5 text-base text-zinc-900"},sa={class:"grid gap-6 md:grid-cols-2"},na={class:"space-y-3"},la={class:"flex items-center justify-between"},oa={class:"font-medium text-amber-900"},ia={class:"text-xs text-amber-700"},ra={key:0},da={class:"flex flex-col"},ca={class:"font-medium text-zinc-900"},ua={class:"flex items-center gap-1 text-zinc-500"},ma={class:"text-xs"},fa={key:0,class:"flex items-center gap-1 text-zinc-700"},va={key:1,class:"text-zinc-400"},ba={class:"flex justify-end"},ya={class:"space-y-4 py-4"},ga={class:"space-y-2"},xa={key:0,class:"text-xs text-red-600"},pa={class:"space-y-2"},_a={class:"capitalize"},ha={key:0,class:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"},wa={class:"space-y-4 py-4"},za={class:"space-y-2"},ka={class:"capitalize"},$a={key:0,class:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"},$s=Ee({__name:"Show",props:{company:{},stats:{},users:{},currentUserRole:{},pendingInvitations:{},financials:{},dashboard:{}},setup(n){const y=n,ge=le(()=>[{title:"Home",href:"/dashboard"},{title:"Companies",href:"/companies"},{title:y.company.name}]),te=T("overview"),N=De({endpoint:`/${y.company.slug}/settings`,successMessage:"Setting updated successfully",errorMessage:"Failed to update setting"}),{t:g,tpl:xe}=Ae(),U=N.registerField("name",y.company.name),E=N.registerField("language",y.company.language||"en"),F=N.registerField("locale",y.company.locale||"en_US"),I=N.registerField("fiscal_year_start_month",y.company.fiscal_year_start_month||1),A=T(!1),j=T(!1),O=T(!1),p=T(null),x=W({email:"",role:"member"}),k=W({userId:"",role:""}),ae=W({}),R=le(()=>["owner","admin"].includes(y.currentUserRole)),se=["owner","admin","accountant","viewer","member"],pe=[{value:"en",label:"English"},{value:"ar",label:"Arabic"},{value:"fr",label:"French"},{value:"de",label:"German"},{value:"es",label:"Spanish"}],_e=[{value:"en_US",label:"English (US)"},{value:"en_GB",label:"English (UK)"},{value:"ar_SA",label:"Arabic (Saudi Arabia)"},{value:"ar_AE",label:"Arabic (UAE)"},{value:"fr_FR",label:"French (France)"},{value:"de_DE",label:"German (Germany)"},{value:"es_ES",label:"Spanish (Spain)"}],he=[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],we=m=>({owner:"default",admin:"default",accountant:"secondary",viewer:"outline",member:"outline"})[m.toLowerCase()]||"outline",ze=()=>{x.post(`/${y.company.slug}/users/invite`,{onSuccess:()=>{x.reset(),A.value=!1,D.success("Invitation sent successfully")},onError:()=>{D.error("Failed to send invitation")}})},ke=m=>{p.value=m,k.userId=m.id,k.role=m.role,j.value=!0},$e=()=>{k.put(`/${y.company.slug}/users/${k.userId}/role`,{onSuccess:()=>{j.value=!1,p.value=null,D.success("Role updated successfully")},onError:()=>{D.error("Failed to update role")}})},Ce=m=>{p.value=m,O.value=!0},Se=()=>{p.value&&ae.delete(`/${y.company.slug}/users/${p.value.id}`,{onSuccess:()=>{O.value=!1,p.value=null,D.success("User removed successfully")},onError:()=>{D.error("Failed to remove user")}})},Ue=[{key:"name",label:"User",sortable:!0},{key:"role",label:"Role",sortable:!0},{key:"is_active",label:"Status",sortable:!0},{key:"joined_at",label:"Joined",sortable:!0},{key:"actions",label:"",class:"text-right"}],v=m=>(m||y.company.base_currency||"USD")==="PKR"?"en-PK":"en-US",ne=m=>{const t=v(m);return new Intl.NumberFormat(t,{style:"currency",currency:m,currencyDisplay:"narrowSymbol"}).formatToParts(0).find($=>$.type==="currency")?.value??m};return(m,t)=>(d(),c(V,null,[a(e(Fe),{title:n.company.name},null,8,["title"]),a(e(Be),{modelValue:te.value,"onUpdate:modelValue":t[31]||(t[31]=l=>te.value=l),class:"w-full"},{default:s(()=>[a(Ie,{title:n.company.name,icon:e(Me),breadcrumbs:ge.value,badge:{text:n.company.is_active?"Active":"Inactive",variant:n.company.is_active?"default":"secondary"},compact:""},{description:s(()=>[o("span",tt,r(n.company.slug),1),t[32]||(t[32]=o("span",{class:"mx-2 text-zinc-300"},"•",-1)),o("span",at,r(ne(n.company.base_currency)),1)]),actions:s(()=>[a(e(Le),{class:"bg-zinc-100"},{default:s(()=>[a(e(ee),{value:"overview",class:"gap-2"},{default:s(()=>[a(e(Y),{class:"h-4 w-4"}),t[33]||(t[33]=i(" Dashboard ",-1))]),_:1}),a(e(ee),{value:"settings",class:"gap-2"},{default:s(()=>[a(e(Ye),{class:"h-4 w-4"}),t[34]||(t[34]=i(" Settings ",-1))]),_:1}),a(e(ee),{value:"users",class:"gap-2"},{default:s(()=>[a(e(He),{class:"h-4 w-4"}),t[35]||(t[35]=i(" Users ",-1))]),_:1})]),_:1})]),default:s(()=>[a(e(Z),{value:"overview",class:"space-y-6"},{default:s(()=>[a(e(_),{class:"border-zinc-200/80 bg-white"},{default:s(()=>[a(e(w),{class:"pb-2"},{default:s(()=>[a(e(z),{class:"text-sm font-medium text-zinc-500 uppercase tracking-wider"},{default:s(()=>[...t[36]||(t[36]=[i("Cash Position",-1)])]),_:1})]),_:1}),a(e(h),null,{default:s(()=>[o("div",st,[o("div",nt,[a(b,{amount:n.dashboard.cash_position.total,currency:n.company.base_currency,locale:v(n.company.base_currency)},null,8,["amount","currency","locale"])]),t[37]||(t[37]=o("p",{class:"text-xs text-zinc-500 mt-1"},"Total across all accounts",-1))]),n.dashboard.cash_position.accounts.length>0?(d(),c("div",lt,[(d(!0),c(V,null,L(n.dashboard.cash_position.accounts,(l,$)=>(d(),c("div",{key:$,class:"p-3 bg-zinc-50 rounded-lg border border-zinc-100"},[o("div",ot,r(l.name),1),o("div",it,[a(b,{amount:l.balance,currency:l.currency,locale:v(l.currency)},null,8,["amount","currency","locale"])])]))),128))])):(d(),c("div",rt,"No bank accounts connected."))]),_:1})]),_:1}),a(e(_),{class:"border-zinc-200/80 bg-gradient-to-br from-white to-zinc-50"},{default:s(()=>[a(e(w),{class:"pb-2"},{default:s(()=>[o("div",dt,[a(e(z),{class:"text-sm font-medium text-zinc-500 uppercase tracking-wider"},{default:s(()=>[i(r(e(g)("profit"))+" - "+r(n.dashboard.profit_loss.period),1)]),_:1}),a(e(u),{variant:"ghost",size:"sm",class:"text-xs text-zinc-500 hover:text-zinc-700",onClick:t[0]||(t[0]=l=>e(C).visit(`/${n.company.slug}/reports/profit-loss`))},{default:s(()=>[...t[38]||(t[38]=[i(" View Report → ",-1)])]),_:1})])]),_:1}),a(e(h),null,{default:s(()=>[o("div",ct,[o("div",{class:oe(["text-4xl font-bold",n.dashboard.profit_loss.profit>=0?"text-emerald-600":"text-red-600"])},[a(b,{amount:n.dashboard.profit_loss.profit,currency:n.company.base_currency,locale:v(n.company.base_currency)},null,8,["amount","currency","locale"])],2),n.dashboard.profit_loss.profit_growth!==0?(d(),c("div",{key:0,class:oe(["flex items-center gap-1 px-2 py-1 rounded-full text-sm",n.dashboard.profit_loss.profit_growth>=0?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-700"])},[(d(),B(ie(n.dashboard.profit_loss.profit_growth>=0?e(Ne):e(et)),{class:"h-4 w-4"})),i(" "+r(n.dashboard.profit_loss.profit_growth>=0?"+":"")+r(n.dashboard.profit_loss.profit_growth)+"% ",1)],2)):f("",!0)]),o("div",ut,[o("div",null,[o("div",mt,r(e(g)("moneyIn")),1),o("div",ft,[a(b,{amount:n.dashboard.profit_loss.income,currency:n.company.base_currency,locale:v(n.company.base_currency)},null,8,["amount","currency","locale"])])]),o("div",null,[o("div",vt,r(e(g)("moneyOut")),1),o("div",bt,[a(b,{amount:n.dashboard.profit_loss.expenses,currency:n.company.base_currency,locale:v(n.company.base_currency)},null,8,["amount","currency","locale"])])])])]),_:1})]),_:1}),o("div",yt,[a(e(_),{class:"border-zinc-200/80 bg-white"},{default:s(()=>[a(e(w),{class:"flex flex-row items-center justify-between pb-2"},{default:s(()=>[a(e(z),{class:"text-sm font-medium text-zinc-500 uppercase tracking-wider"},{default:s(()=>[i(r(e(g)("moneyIn")),1)]),_:1}),a(e(M),{variant:n.dashboard.money_in_out.money_in.growth>=0?"default":"destructive",class:"text-xs"},{default:s(()=>[i(r(n.dashboard.money_in_out.money_in.growth>=0?"+":"")+r(n.dashboard.money_in_out.money_in.growth.toFixed(1))+"% ",1)]),_:1},8,["variant"])]),_:1}),a(e(h),null,{default:s(()=>[o("div",gt,[a(b,{amount:n.dashboard.money_in_out.money_in.current,currency:n.company.base_currency,locale:v(n.company.base_currency)},null,8,["amount","currency","locale"])]),o("p",xt,[t[39]||(t[39]=i(" This month vs ",-1)),a(b,{amount:n.dashboard.money_in_out.money_in.last,currency:n.company.base_currency,locale:v(n.company.base_currency)},null,8,["amount","currency","locale"]),t[40]||(t[40]=i(" last month ",-1))]),o("div",pt,[o("div",_t,[o("span",ht,r(n.financials.ar_overdue_count),1),t[41]||(t[41]=i(" invoices overdue ",-1))]),o("div",wt,[a(b,{amount:n.financials.ar_overdue,currency:n.company.base_currency,locale:v(n.company.base_currency)},null,8,["amount","currency","locale"]),t[42]||(t[42]=i(" overdue ",-1))])])]),_:1})]),_:1}),a(e(_),{class:"border-zinc-200/80 bg-white"},{default:s(()=>[a(e(w),{class:"flex flex-row items-center justify-between pb-2"},{default:s(()=>[a(e(z),{class:"text-sm font-medium text-zinc-500 uppercase tracking-wider"},{default:s(()=>[i(r(e(g)("moneyOut")),1)]),_:1}),a(e(M),{variant:n.dashboard.money_in_out.money_out.growth<=0?"default":"outline",class:"text-xs"},{default:s(()=>[i(r(n.dashboard.money_in_out.money_out.growth>=0?"+":"")+r(n.dashboard.money_in_out.money_out.growth.toFixed(1))+"% ",1)]),_:1},8,["variant"])]),_:1}),a(e(h),null,{default:s(()=>[o("div",zt,[a(b,{amount:n.dashboard.money_in_out.money_out.current,currency:n.company.base_currency,locale:v(n.company.base_currency)},null,8,["amount","currency","locale"])]),o("p",kt,[t[43]||(t[43]=i(" This month vs ",-1)),a(b,{amount:n.dashboard.money_in_out.money_out.last,currency:n.company.base_currency,locale:v(n.company.base_currency)},null,8,["amount","currency","locale"]),t[44]||(t[44]=i(" last month ",-1))]),o("div",$t,[o("div",Ct,[o("span",St,r(n.dashboard.needs_attention.bills_due_soon),1),t[45]||(t[45]=i(" bills due soon ",-1))]),o("div",Ut,[a(b,{amount:n.dashboard.needs_attention.bills_due_soon_amount||0,currency:n.company.base_currency,locale:v(n.company.base_currency)},null,8,["amount","currency","locale"]),t[46]||(t[46]=i(" due soon ",-1))])])]),_:1})]),_:1})]),o("div",Et,[a(e(_),{class:"md:col-span-2 border-zinc-200/80 bg-white"},{default:s(()=>[a(e(w),null,{default:s(()=>[a(e(z),{class:"text-base font-semibold text-zinc-900"},{default:s(()=>[...t[47]||(t[47]=[i("Quick Actions",-1)])]),_:1})]),_:1}),a(e(h),null,{default:s(()=>[o("div",Ft,[a(e(u),{variant:"outline",class:"h-auto py-4 flex flex-col items-center gap-2 hover:border-primary/50 hover:bg-primary/5",onClick:t[1]||(t[1]=l=>e(C).visit(`/${n.company.slug}/invoices/create`))},{default:s(()=>[a(e(re),{class:"h-6 w-6 text-primary"}),o("span",null,r(e(g)("createInvoice")),1)]),_:1}),a(e(u),{variant:"outline",class:"h-auto py-4 flex flex-col items-center gap-2 hover:border-primary/50 hover:bg-primary/5",onClick:t[2]||(t[2]=l=>e(C).visit(`/${n.company.slug}/payments/create`))},{default:s(()=>[a(e(be),{class:"h-6 w-6 text-emerald-600"}),o("span",null,r(e(g)("recordPayment")),1)]),_:1}),a(e(u),{variant:"outline",class:"h-auto py-4 flex flex-col items-center gap-2 hover:border-primary/50 hover:bg-primary/5",onClick:t[3]||(t[3]=l=>e(C).visit(`/${n.company.slug}/bills/create`))},{default:s(()=>[a(e(Qe),{class:"h-6 w-6 text-red-500"}),o("span",null,r(e(g)("enterBill")),1)]),_:1}),a(e(u),{variant:"outline",class:"h-auto py-4 flex flex-col items-center gap-2 hover:border-primary/50 hover:bg-primary/5",onClick:t[4]||(t[4]=l=>e(C).visit(`/${n.company.slug}/banking/feed`))},{default:s(()=>[a(e(Y),{class:"h-6 w-6 text-indigo-600"}),o("span",null,r(e(g)("reviewTransactionsAction")),1)]),_:1}),a(e(u),{variant:"outline",class:"h-auto py-4 flex flex-col items-center gap-2 hover:border-primary/50 hover:bg-primary/5",onClick:t[5]||(t[5]=l=>e(C).visit(`/${n.company.slug}/sales/create`))},{default:s(()=>[a(e(re),{class:"h-6 w-6 text-primary"}),o("span",null,r(e(g)("recordSale")),1)]),_:1}),a(e(u),{variant:"outline",class:"h-auto py-4 flex flex-col items-center gap-2 hover:border-primary/50 hover:bg-primary/5",onClick:t[6]||(t[6]=l=>e(C).visit(`/${n.company.slug}/reports/profit-loss`))},{default:s(()=>[a(e(Y),{class:"h-6 w-6 text-indigo-600"}),o("span",null,r(e(g)("profitAndLoss")),1)]),_:1})])]),_:1})]),_:1}),a(e(_),{class:"border-zinc-200/80 bg-white"},{default:s(()=>[a(e(w),null,{default:s(()=>[a(e(z),{class:"text-base font-semibold text-zinc-900"},{default:s(()=>[...t[48]||(t[48]=[i("Needs Attention",-1)])]),_:1})]),_:1}),a(e(h),null,{default:s(()=>[o("div",It,[n.dashboard.needs_attention.overdue_invoices>0?(d(),c("div",Rt,[a(e(Oe),{class:"h-5 w-5 text-red-600"}),o("div",Vt,[o("span",Dt,r(n.dashboard.needs_attention.overdue_invoices),1),t[49]||(t[49]=i(" invoices overdue ",-1))])])):f("",!0),n.dashboard.needs_attention.bills_due_soon>0?(d(),c("div",At,[a(e(K),{class:"h-5 w-5 text-amber-600"}),o("div",jt,[o("span",Tt,r(n.dashboard.needs_attention.bills_due_soon),1),t[50]||(t[50]=i(" bills due this week ",-1))])])):f("",!0),n.dashboard.needs_attention.unreconciled_transactions>0?(d(),c("div",{key:2,class:"flex items-center gap-3 p-2 rounded-md bg-indigo-50 border border-indigo-100 cursor-pointer hover:bg-indigo-100 transition-colors",onClick:t[7]||(t[7]=l=>e(C).visit(`/${n.company.slug}/banking/feed`))},[a(e(be),{class:"h-5 w-5 text-indigo-600"}),o("div",Lt,r(e(xe)("transactionsToReviewCount",{count:n.dashboard.needs_attention.unreconciled_transactions})),1)])):f("",!0),n.dashboard.needs_attention.overdue_invoices===0&&n.dashboard.needs_attention.bills_due_soon===0&&n.dashboard.needs_attention.unreconciled_transactions===0?(d(),c("div",Bt,[a(e(ye),{class:"h-8 w-8 text-emerald-500 mx-auto mb-2"}),t[51]||(t[51]=i(" All caught up! ",-1))])):f("",!0)])]),_:1})]),_:1})]),a(e(_),{class:"border-zinc-200/80 bg-white"},{default:s(()=>[a(e(w),null,{default:s(()=>[a(e(z),{class:"text-sm font-medium text-zinc-500"},{default:s(()=>[...t[52]||(t[52]=[i("Recent Activity",-1)])]),_:1}),a(e(J),null,{default:s(()=>[...t[53]||(t[53]=[i("Last few accounting events",-1)])]),_:1})]),_:1}),a(e(h),{class:"space-y-3 text-sm text-zinc-700"},{default:s(()=>[(d(!0),c(V,null,L(n.financials.recent_activity,(l,$)=>(d(),c("div",{key:$,class:"flex justify-between border-b border-zinc-200 pb-2 last:border-b-0 last:pb-0"},[o("div",null,[o("p",Mt,r(l.label),1),o("p",Nt,r(new Date(l.occurred_at).toLocaleDateString()),1)]),l.amount?(d(),c("div",Ot,[a(b,{amount:l.amount,currency:l.currency||n.company.base_currency,locale:v(l.currency||n.company.base_currency)},null,8,["amount","currency","locale"])])):f("",!0)]))),128)),n.financials.recent_activity.length===0?(d(),c("div",Pt,"No recent activity.")):f("",!0)]),_:1})]),_:1})]),_:1}),a(e(Z),{value:"settings",class:"space-y-6"},{default:s(()=>[a(e(_),{class:"border-zinc-200/80 bg-white"},{default:s(()=>[a(e(w),null,{default:s(()=>[a(e(z),{class:"text-zinc-900"},{default:s(()=>[...t[54]||(t[54]=[i("Company Settings",-1)])]),_:1}),a(e(J),{class:"text-zinc-500"},{default:s(()=>[i(r(R.value?"Click on the pencil icon to edit a setting":"Contact an owner or admin to make changes"),1)]),_:1})]),_:1}),a(e(h),{class:"space-y-4"},{default:s(()=>[o("div",Gt,[a(P,{modelValue:e(U).value.value,"onUpdate:modelValue":t[8]||(t[8]=l=>e(U).value.value=l),label:"Company Name",editing:e(U).isEditing.value,saving:e(U).isSaving.value,"can-edit":R.value,type:"text",onStartEdit:t[9]||(t[9]=l=>e(U).startEditing()),onSave:t[10]||(t[10]=l=>e(U).save()),onCancel:t[11]||(t[11]=l=>e(U).cancelEditing())},null,8,["modelValue","editing","saving","can-edit"]),o("div",Jt,[a(e(S),{class:"text-sm font-medium text-zinc-500"},{default:s(()=>[...t[55]||(t[55]=[i("Slug",-1)])]),_:1}),o("div",Kt,r(n.company.slug),1),t[56]||(t[56]=o("p",{class:"text-xs text-zinc-400"},"Cannot be changed",-1))]),o("div",qt,[a(e(S),{class:"text-sm font-medium text-zinc-500"},{default:s(()=>[...t[57]||(t[57]=[i("Base Currency",-1)])]),_:1}),o("div",Wt,[o("span",Yt,r(ne(n.company.base_currency)),1),o("span",Ht,"("+r(n.company.base_currency)+")",1)]),t[58]||(t[58]=o("p",{class:"text-xs text-zinc-400"},"Cannot be changed after creation",-1))]),o("div",Qt,[a(e(S),{class:"text-sm font-medium text-zinc-500"},{default:s(()=>[...t[59]||(t[59]=[i("Country",-1)])]),_:1}),o("div",Xt,r(n.company.country||"—"),1),t[60]||(t[60]=o("p",{class:"text-xs text-zinc-400"},"Cannot be changed",-1))]),o("div",Zt,[a(e(S),{class:"text-sm font-medium text-zinc-500"},{default:s(()=>[...t[61]||(t[61]=[i("Industry",-1)])]),_:1}),o("div",ea,r(n.company.industry||"—"),1)]),o("div",ta,[a(e(S),{class:"text-sm font-medium text-zinc-500"},{default:s(()=>[...t[62]||(t[62]=[i("Created",-1)])]),_:1}),o("div",aa,[a(e(K),{class:"h-3.5 w-3.5 text-zinc-400"}),i(" "+r(new Date(n.company.created_at).toLocaleDateString()),1)])])])]),_:1})]),_:1}),a(e(_),{class:"border-zinc-200/80 bg-white"},{default:s(()=>[a(e(w),null,{default:s(()=>[a(e(z),{class:"text-zinc-900 flex items-center gap-2"},{default:s(()=>[a(e(Pe),{class:"h-4 w-4"}),t[63]||(t[63]=i(" Regional Settings ",-1))]),_:1}),a(e(J),{class:"text-zinc-500"},{default:s(()=>[...t[64]||(t[64]=[i(" Language, locale, and fiscal year preferences ",-1)])]),_:1})]),_:1}),a(e(h),{class:"space-y-4"},{default:s(()=>[o("div",sa,[a(P,{modelValue:e(E).value.value,"onUpdate:modelValue":t[12]||(t[12]=l=>e(E).value.value=l),label:"Language",editing:e(E).isEditing.value,saving:e(E).isSaving.value,"can-edit":R.value,type:"select",options:pe,icon:e(Ze),onStartEdit:t[13]||(t[13]=l=>e(E).startEditing()),onSave:t[14]||(t[14]=l=>e(E).save()),onCancel:t[15]||(t[15]=l=>e(E).cancelEditing())},null,8,["modelValue","editing","saving","can-edit","icon"]),a(P,{modelValue:e(F).value.value,"onUpdate:modelValue":t[16]||(t[16]=l=>e(F).value.value=l),label:"Locale",editing:e(F).isEditing.value,saving:e(F).isSaving.value,"can-edit":R.value,type:"select",options:_e,onStartEdit:t[17]||(t[17]=l=>e(F).startEditing()),onSave:t[18]||(t[18]=l=>e(F).save()),onCancel:t[19]||(t[19]=l=>e(F).cancelEditing())},null,8,["modelValue","editing","saving","can-edit"]),a(P,{modelValue:e(I).value.value,"onUpdate:modelValue":t[20]||(t[20]=l=>e(I).value.value=l),label:"Fiscal Year Start",editing:e(I).isEditing.value,saving:e(I).isSaving.value,"can-edit":R.value,type:"select",options:he,icon:e(K),"helper-text":"Month when your fiscal year begins",onStartEdit:t[21]||(t[21]=l=>e(I).startEditing()),onSave:t[22]||(t[22]=l=>e(I).save()),onCancel:t[23]||(t[23]=l=>e(I).cancelEditing())},null,8,["modelValue","editing","saving","can-edit","icon"])])]),_:1})]),_:1}),n.currentUserRole==="owner"&&n.pendingInvitations.length>0?(d(),B(e(_),{key:0,class:"border-amber-100 bg-amber-50"},{default:s(()=>[a(e(w),{class:"pb-3"},{default:s(()=>[a(e(z),{class:"text-amber-900"},{default:s(()=>[...t[65]||(t[65]=[i("Pending Invitations",-1)])]),_:1}),a(e(J),{class:"text-amber-700"},{default:s(()=>[i(" Invites sent from "+r(n.company.name),1)]),_:1})]),_:1}),a(e(h),null,{default:s(()=>[o("div",na,[(d(!0),c(V,null,L(n.pendingInvitations,l=>(d(),c("div",{key:l.id,class:"flex flex-col gap-1 rounded-lg border border-amber-200/80 bg-white px-4 py-3 shadow-xs"},[o("div",la,[o("div",oa,r(l.email),1),a(e(M),{variant:"outline",class:"capitalize text-amber-800"},{default:s(()=>[i(r(l.role),1)]),_:2},1024)]),o("div",ia,[i(" Expires "+r(new Date(l.expires_at).toLocaleDateString())+" ",1),l.inviter_name?(d(),c("span",ra," • Invited by "+r(l.inviter_name),1)):f("",!0)])]))),128))])]),_:1})]),_:1})):f("",!0)]),_:1}),a(e(Z),{value:"users",class:"space-y-6"},{default:s(()=>[a(Re,{data:n.users,columns:Ue,title:"Team Members",description:`${n.users.length} ${n.users.length===1?"member":"members"} in this company`,"key-field":"id",hoverable:""},{header:s(()=>[R.value?(d(),B(e(u),{key:0,size:"sm",onClick:t[24]||(t[24]=l=>A.value=!0)},{default:s(()=>[a(e(We),{class:"mr-2 h-4 w-4"}),t[66]||(t[66]=i(" Invite User ",-1))]),_:1})):f("",!0)]),"cell-name":s(({row:l})=>[o("div",da,[o("span",ca,r(l.name||"Unknown"),1),o("div",ua,[a(e(qe),{class:"h-3 w-3"}),o("span",ma,r(l.email),1)])])]),"cell-role":s(({row:l})=>[a(e(M),{variant:we(l.role),class:"capitalize"},{default:s(()=>[a(e(Ke),{class:"mr-1 h-3 w-3"}),i(" "+r(l.role),1)]),_:2},1032,["variant"])]),"cell-is_active":s(({row:l})=>[a(e(M),{variant:l.is_active?"default":"secondary"},{default:s(()=>[(d(),B(ie(l.is_active?e(ye):e(Je)),{class:"mr-1 h-3 w-3"})),i(" "+r(l.is_active?"Active":"Inactive"),1)]),_:2},1032,["variant"])]),"cell-joined_at":s(({row:l})=>[l.joined_at?(d(),c("div",fa,[a(e(K),{class:"h-3 w-3 text-zinc-400"}),o("span",null,r(new Date(l.joined_at).toLocaleDateString()),1)])):(d(),c("span",va,"—"))]),"cell-actions":s(({row:l})=>[o("div",ba,[R.value?(d(),B(e(H),{key:0},{default:s(()=>[a(e(Q),{"as-child":""},{default:s(()=>[a(e(u),{variant:"ghost",size:"sm"},{default:s(()=>[a(e(Xe),{class:"h-4 w-4"})]),_:1})]),_:1}),a(e(X),{align:"end"},{default:s(()=>[a(e(G),{onClick:$=>ke(l)},{default:s(()=>[a(e(je),{class:"mr-2 h-4 w-4"}),t[67]||(t[67]=i(" Change Role ",-1))]),_:1},8,["onClick"]),a(e(G),{onClick:$=>Ce(l),class:"text-red-600 focus:text-red-600"},{default:s(()=>[a(e(Ge),{class:"mr-2 h-4 w-4"}),t[68]||(t[68]=i(" Remove User ",-1))]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024)):f("",!0)])]),_:1},8,["data","description"])]),_:1}),a(e(de),{open:A.value,"onUpdate:open":t[27]||(t[27]=l=>A.value=l)},{default:s(()=>[a(e(ce),{class:"sm:max-w-md"},{default:s(()=>[a(e(ue),null,{default:s(()=>[a(e(me),{class:"text-zinc-900"},{default:s(()=>[...t[69]||(t[69]=[i("Invite User",-1)])]),_:1}),a(e(fe),{class:"text-zinc-500"},{default:s(()=>[i(" Send an invitation to join "+r(n.company.name),1)]),_:1})]),_:1}),o("div",ya,[o("div",ga,[a(e(S),{for:"email",class:"text-zinc-700"},{default:s(()=>[...t[70]||(t[70]=[i("Email",-1)])]),_:1}),a(e(Te),{id:"email",modelValue:e(x).email,"onUpdate:modelValue":t[25]||(t[25]=l=>e(x).email=l),type:"email",placeholder:"user@example.com",class:"border-zinc-200"},null,8,["modelValue"]),e(x).errors.email?(d(),c("p",xa,r(e(x).errors.email),1)):f("",!0)]),o("div",pa,[a(e(S),{class:"text-zinc-700"},{default:s(()=>[...t[71]||(t[71]=[i("Role",-1)])]),_:1}),a(e(H),null,{default:s(()=>[a(e(Q),{"as-child":""},{default:s(()=>[a(e(u),{variant:"outline",class:"w-full justify-between border-zinc-200"},{default:s(()=>[o("span",_a,r(e(x).role),1),t[72]||(t[72]=o("span",{class:"ml-2"},"▼",-1))]),_:1})]),_:1}),a(e(X),{class:"w-full"},{default:s(()=>[(d(),c(V,null,L(se,l=>a(e(G),{key:l,onClick:$=>e(x).role=l,class:"capitalize"},{default:s(()=>[i(r(l),1)]),_:2},1032,["onClick"])),64))]),_:1})]),_:1})])]),a(e(ve),null,{default:s(()=>[a(e(u),{variant:"outline",onClick:t[26]||(t[26]=l=>A.value=!1),disabled:e(x).processing},{default:s(()=>[...t[73]||(t[73]=[i(" Cancel ",-1)])]),_:1},8,["disabled"]),a(e(u),{onClick:ze,disabled:e(x).processing},{default:s(()=>[e(x).processing?(d(),c("span",ha)):f("",!0),t[74]||(t[74]=i(" Send Invitation ",-1))]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"]),a(e(de),{open:j.value,"onUpdate:open":t[29]||(t[29]=l=>j.value=l)},{default:s(()=>[a(e(ce),{class:"sm:max-w-md"},{default:s(()=>[a(e(ue),null,{default:s(()=>[a(e(me),{class:"text-zinc-900"},{default:s(()=>[...t[75]||(t[75]=[i("Change User Role",-1)])]),_:1}),a(e(fe),{class:"text-zinc-500"},{default:s(()=>[i(" Update the role for "+r(p.value?.name||p.value?.email),1)]),_:1})]),_:1}),o("div",wa,[o("div",za,[a(e(S),{class:"text-zinc-700"},{default:s(()=>[...t[76]||(t[76]=[i("Role",-1)])]),_:1}),a(e(H),null,{default:s(()=>[a(e(Q),{"as-child":""},{default:s(()=>[a(e(u),{variant:"outline",class:"w-full justify-between border-zinc-200"},{default:s(()=>[o("span",ka,r(e(k).role),1),t[77]||(t[77]=o("span",{class:"ml-2"},"▼",-1))]),_:1})]),_:1}),a(e(X),{class:"w-full"},{default:s(()=>[(d(),c(V,null,L(se,l=>a(e(G),{key:l,onClick:$=>e(k).role=l,class:"capitalize"},{default:s(()=>[i(r(l),1)]),_:2},1032,["onClick"])),64))]),_:1})]),_:1})])]),a(e(ve),null,{default:s(()=>[a(e(u),{variant:"outline",onClick:t[28]||(t[28]=l=>j.value=!1),disabled:e(k).processing},{default:s(()=>[...t[78]||(t[78]=[i(" Cancel ",-1)])]),_:1},8,["disabled"]),a(e(u),{onClick:$e,disabled:e(k).processing},{default:s(()=>[e(k).processing?(d(),c("span",$a)):f("",!0),t[79]||(t[79]=i(" Update Role ",-1))]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"]),a(Ve,{open:O.value,"onUpdate:open":t[30]||(t[30]=l=>O.value=l),variant:"destructive",title:"Remove User",description:`Are you sure you want to remove ${p.value?.name||p.value?.email} from ${n.company.name}? This action cannot be undone.`,"confirm-text":"Remove User",loading:e(ae).processing,onConfirm:Se},null,8,["open","description","loading"])]),_:1},8,["title","icon","breadcrumbs","badge"])]),_:1},8,["modelValue"])],64))}});export{$s as default};
