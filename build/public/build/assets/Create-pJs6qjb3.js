import{d as O,x as G,c as i,a,u as e,h as R,w as n,b as d,y as j,e as s,j as f,o as r,t as m,F as v,r as V,i as k,f as q}from"./app-B-wLZQl0.js";import{_ as E}from"./PageShell.vue_vue_type_script_setup_true_lang-CS74Goxj.js";import{_ as L}from"./index-D8JUok4n.js";import{_ as c}from"./Input.vue_vue_type_script_setup_true_lang-E2jwtM0f.js";import{_ as u}from"./Label.vue_vue_type_script_setup_true_lang-By03EcqK.js";import{_ as D}from"./Textarea.vue_vue_type_script_setup_true_lang-DrbQ2zws.js";import{_ as T}from"./Checkbox.vue_vue_type_script_setup_true_lang-yNvHsWJi.js";import{_ as x,a as A,b as $,c as S,d as b}from"./SelectValue.vue_vue_type_script_setup_true_lang-QDn6lJI8.js";import{_ as B,a as U}from"./CardContent.vue_vue_type_script_setup_true_lang-f-xi8uWj.js";import{_ as C}from"./CardDescription.vue_vue_type_script_setup_true_lang-D23jLuEj.js";import{_ as w}from"./CardHeader.vue_vue_type_script_setup_true_lang-Cn7HWfaF.js";import{_ as N}from"./CardTitle.vue_vue_type_script_setup_true_lang-DXA8XANX.js";import{X as H}from"./AppSidebarHeader.vue_vue_type_script_setup_true_lang-DKxjvTPB.js";import{S as J}from"./save-CBmuHaqJ.js";import{L as W}from"./plus-C63jdNg7.js";import"./AppLayout.vue_vue_type_script_setup_true_lang-CAfRB85X.js";import"./loader-circle-BSwxCoSE.js";import"./createLucideIcon-CbxkoCx6.js";import"./info-_qQ0Rbsf.js";import"./circle-check-YKnAkXoj.js";import"./useForwardExpose-Ca12vFmR.js";import"./index-a73qSWOM.js";import"./VisuallyHidden-BZkMfMV2.js";import"./nullish-CHIgUVhi.js";import"./ohash.D__AXeF1-C-E83dC9.js";import"./Collection-DN_gmv-a.js";import"./RovingFocusItem-PDr5bOed.js";import"./RovingFocusGroup-ChUfgJPy.js";import"./VisuallyHiddenInput-CgZzfdZ2.js";import"./check-DogY6QNG.js";import"./PopperContent-BDPRX1DE.js";import"./handleAndDispatchCustomEvent-ChOKVcqp.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./building-2-DLYGST8U.js";import"./index-Buy61MQA.js";import"./settings-B8OaYlkV.js";import"./file-text-CFHWSPvd.js";import"./users-CkYIFvpU.js";import"./calendar-B0yi2zLg.js";const X={class:"grid gap-4 md:grid-cols-2"},z={class:"space-y-2"},K={key:0,class:"text-sm text-destructive"},P={class:"space-y-2"},Q={key:0,class:"text-sm text-destructive"},Y={class:"space-y-2"},Z={key:0,class:"text-sm text-destructive"},h={class:"space-y-2"},ee={key:0,class:"text-muted-foreground"},te={key:0,class:"text-sm text-destructive"},ae={class:"space-y-2"},ne={class:"space-y-2"},le={class:"grid gap-4 md:grid-cols-2"},oe={class:"space-y-2"},se={key:0,class:"text-sm text-destructive"},de={class:"space-y-2"},ue={class:"space-y-2"},re={class:"space-y-2"},ie={class:"space-y-2"},me={class:"grid gap-4 md:grid-cols-2"},ce={class:"space-y-2"},_e={class:"space-y-2"},pe={class:"flex items-center gap-3"},fe={class:"flex items-center gap-3"},be={class:"space-y-2"},ye={class:"flex justify-end gap-3"},y="__none",nt=O({__name:"Create",props:{company:{},banks:{},currencies:{},glAccounts:{},accountTypes:{}},setup(g){const p=g,F=[{title:"Dashboard",href:`/${p.company.slug}`},{title:"Banking",href:`/${p.company.slug}/banking/accounts`},{title:"Add Account",href:`/${p.company.slug}/banking/accounts/create`}],o=G({account_name:"",account_number:"",account_type:"checking",currency:p.company.base_currency,bank_id:y,gl_account_id:y,iban:"",swift_code:"",routing_number:"",branch_name:"",branch_address:"",opening_balance:0,opening_balance_date:new Date().toISOString().split("T")[0],is_primary:!1,is_active:!0,notes:""}),I=()=>{o.transform(_=>({..._,bank_id:_.bank_id===y?null:_.bank_id,gl_account_id:_.gl_account_id===y?null:_.gl_account_id,opening_balance:_.opening_balance||0})).post(`/${p.company.slug}/banking/accounts`,{preserveScroll:!0})},M=()=>{q.get(`/${p.company.slug}/banking/accounts`)};return(_,t)=>(r(),i(v,null,[a(e(R),{title:"Add Bank Account"}),a(E,{title:"Add Bank Account",breadcrumbs:F,icon:e(W)},{default:n(()=>[d("form",{class:"space-y-6 max-w-3xl",onSubmit:j(I,["prevent"])},[a(e(B),null,{default:n(()=>[a(e(w),null,{default:n(()=>[a(e(N),null,{default:n(()=>[...t[16]||(t[16]=[s("Account Details",-1)])]),_:1}),a(e(C),null,{default:n(()=>[...t[17]||(t[17]=[s("Enter the basic information for this bank account",-1)])]),_:1})]),_:1}),a(e(U),{class:"space-y-4"},{default:n(()=>[d("div",X,[d("div",z,[a(e(u),{for:"account_name"},{default:n(()=>[...t[18]||(t[18]=[s("Account Name *",-1)])]),_:1}),a(e(c),{id:"account_name",modelValue:e(o).account_name,"onUpdate:modelValue":t[0]||(t[0]=l=>e(o).account_name=l),placeholder:"e.g., Main Business Checking",required:""},null,8,["modelValue"]),e(o).errors.account_name?(r(),i("p",K,m(e(o).errors.account_name),1)):f("",!0)]),d("div",P,[a(e(u),{for:"account_number"},{default:n(()=>[...t[19]||(t[19]=[s("Account Number *",-1)])]),_:1}),a(e(c),{id:"account_number",modelValue:e(o).account_number,"onUpdate:modelValue":t[1]||(t[1]=l=>e(o).account_number=l),placeholder:"e.g., 1234567890",required:""},null,8,["modelValue"]),e(o).errors.account_number?(r(),i("p",Q,m(e(o).errors.account_number),1)):f("",!0)]),d("div",Y,[a(e(u),{for:"account_type"},{default:n(()=>[...t[20]||(t[20]=[s("Account Type *",-1)])]),_:1}),a(e(x),{modelValue:e(o).account_type,"onUpdate:modelValue":t[2]||(t[2]=l=>e(o).account_type=l)},{default:n(()=>[a(e(A),{id:"account_type"},{default:n(()=>[a(e($),{placeholder:"Select type"})]),_:1}),a(e(S),null,{default:n(()=>[(r(!0),i(v,null,V(g.accountTypes,l=>(r(),k(e(b),{key:l.value,value:l.value},{default:n(()=>[s(m(l.label),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),e(o).errors.account_type?(r(),i("p",Z,m(e(o).errors.account_type),1)):f("",!0)]),d("div",h,[a(e(u),{for:"currency"},{default:n(()=>[...t[21]||(t[21]=[s("Currency *",-1)])]),_:1}),a(e(x),{modelValue:e(o).currency,"onUpdate:modelValue":t[3]||(t[3]=l=>e(o).currency=l)},{default:n(()=>[a(e(A),{id:"currency"},{default:n(()=>[a(e($),{placeholder:"Select currency"})]),_:1}),a(e(S),null,{default:n(()=>[(r(!0),i(v,null,V(g.currencies,l=>(r(),k(e(b),{key:l.currency_code,value:l.currency_code},{default:n(()=>[s(m(l.currency_code)+" ",1),l.is_base?(r(),i("span",ee," (Base)")):f("",!0)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),e(o).errors.currency?(r(),i("p",te,m(e(o).errors.currency),1)):f("",!0)]),d("div",ae,[a(e(u),{for:"bank_id"},{default:n(()=>[...t[22]||(t[22]=[s("Bank (optional)",-1)])]),_:1}),a(e(x),{modelValue:e(o).bank_id,"onUpdate:modelValue":t[4]||(t[4]=l=>e(o).bank_id=l)},{default:n(()=>[a(e(A),{id:"bank_id"},{default:n(()=>[a(e($),{placeholder:"Select bank"})]),_:1}),a(e(S),null,{default:n(()=>[a(e(b),{value:y},{default:n(()=>[...t[23]||(t[23]=[s("No bank selected",-1)])]),_:1}),(r(!0),i(v,null,V(g.banks,l=>(r(),k(e(b),{key:l.id,value:l.id},{default:n(()=>[s(m(l.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),d("div",ne,[a(e(u),{for:"gl_account_id"},{default:n(()=>[...t[24]||(t[24]=[s("GL Account (optional)",-1)])]),_:1}),a(e(x),{modelValue:e(o).gl_account_id,"onUpdate:modelValue":t[5]||(t[5]=l=>e(o).gl_account_id=l)},{default:n(()=>[a(e(A),{id:"gl_account_id"},{default:n(()=>[a(e($),{placeholder:"Link to GL account"})]),_:1}),a(e(S),null,{default:n(()=>[a(e(b),{value:y},{default:n(()=>[...t[25]||(t[25]=[s("No GL account",-1)])]),_:1}),(r(!0),i(v,null,V(g.glAccounts,l=>(r(),k(e(b),{key:l.id,value:l.id},{default:n(()=>[s(m(l.code)+" â€” "+m(l.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])])])]),_:1})]),_:1}),a(e(B),null,{default:n(()=>[a(e(w),null,{default:n(()=>[a(e(N),null,{default:n(()=>[...t[26]||(t[26]=[s("Banking Details",-1)])]),_:1}),a(e(C),null,{default:n(()=>[...t[27]||(t[27]=[s("Optional banking identifiers",-1)])]),_:1})]),_:1}),a(e(U),{class:"space-y-4"},{default:n(()=>[d("div",le,[d("div",oe,[a(e(u),{for:"iban"},{default:n(()=>[...t[28]||(t[28]=[s("IBAN",-1)])]),_:1}),a(e(c),{id:"iban",modelValue:e(o).iban,"onUpdate:modelValue":t[6]||(t[6]=l=>e(o).iban=l),placeholder:"e.g., SA0380000000608010167519",maxlength:"34"},null,8,["modelValue"]),e(o).errors.iban?(r(),i("p",se,m(e(o).errors.iban),1)):f("",!0)]),d("div",de,[a(e(u),{for:"swift_code"},{default:n(()=>[...t[29]||(t[29]=[s("SWIFT Code",-1)])]),_:1}),a(e(c),{id:"swift_code",modelValue:e(o).swift_code,"onUpdate:modelValue":t[7]||(t[7]=l=>e(o).swift_code=l),placeholder:"e.g., RJHISARI",maxlength:"11"},null,8,["modelValue"])]),d("div",ue,[a(e(u),{for:"routing_number"},{default:n(()=>[...t[30]||(t[30]=[s("Routing Number",-1)])]),_:1}),a(e(c),{id:"routing_number",modelValue:e(o).routing_number,"onUpdate:modelValue":t[8]||(t[8]=l=>e(o).routing_number=l),placeholder:"e.g., 021000021"},null,8,["modelValue"])]),d("div",re,[a(e(u),{for:"branch_name"},{default:n(()=>[...t[31]||(t[31]=[s("Branch Name",-1)])]),_:1}),a(e(c),{id:"branch_name",modelValue:e(o).branch_name,"onUpdate:modelValue":t[9]||(t[9]=l=>e(o).branch_name=l),placeholder:"e.g., Main Branch"},null,8,["modelValue"])])]),d("div",ie,[a(e(u),{for:"branch_address"},{default:n(()=>[...t[32]||(t[32]=[s("Branch Address",-1)])]),_:1}),a(e(D),{id:"branch_address",modelValue:e(o).branch_address,"onUpdate:modelValue":t[10]||(t[10]=l=>e(o).branch_address=l),placeholder:"Full branch address",rows:"2"},null,8,["modelValue"])])]),_:1})]),_:1}),a(e(B),null,{default:n(()=>[a(e(w),null,{default:n(()=>[a(e(N),null,{default:n(()=>[...t[33]||(t[33]=[s("Opening Balance",-1)])]),_:1}),a(e(C),null,{default:n(()=>[...t[34]||(t[34]=[s("Set the starting balance for this account",-1)])]),_:1})]),_:1}),a(e(U),{class:"space-y-4"},{default:n(()=>[d("div",me,[d("div",ce,[a(e(u),{for:"opening_balance"},{default:n(()=>[...t[35]||(t[35]=[s("Opening Balance",-1)])]),_:1}),a(e(c),{id:"opening_balance",modelValue:e(o).opening_balance,"onUpdate:modelValue":t[11]||(t[11]=l=>e(o).opening_balance=l),modelModifiers:{number:!0},type:"number",step:"0.01",placeholder:"0.00"},null,8,["modelValue"])]),d("div",_e,[a(e(u),{for:"opening_balance_date"},{default:n(()=>[...t[36]||(t[36]=[s("As of Date",-1)])]),_:1}),a(e(c),{id:"opening_balance_date",modelValue:e(o).opening_balance_date,"onUpdate:modelValue":t[12]||(t[12]=l=>e(o).opening_balance_date=l),type:"date"},null,8,["modelValue"])])])]),_:1})]),_:1}),a(e(B),null,{default:n(()=>[a(e(w),null,{default:n(()=>[a(e(N),null,{default:n(()=>[...t[37]||(t[37]=[s("Settings",-1)])]),_:1})]),_:1}),a(e(U),{class:"space-y-4"},{default:n(()=>[d("div",pe,[a(e(T),{id:"is_primary",checked:e(o).is_primary,"onUpdate:checked":t[13]||(t[13]=l=>e(o).is_primary=l)},null,8,["checked"]),a(e(u),{for:"is_primary",class:"cursor-pointer"},{default:n(()=>[...t[38]||(t[38]=[s(" Set as primary account ",-1)])]),_:1})]),d("div",fe,[a(e(T),{id:"is_active",checked:e(o).is_active,"onUpdate:checked":t[14]||(t[14]=l=>e(o).is_active=l)},null,8,["checked"]),a(e(u),{for:"is_active",class:"cursor-pointer"},{default:n(()=>[...t[39]||(t[39]=[s(" Account is active ",-1)])]),_:1})]),d("div",be,[a(e(u),{for:"notes"},{default:n(()=>[...t[40]||(t[40]=[s("Notes",-1)])]),_:1}),a(e(D),{id:"notes",modelValue:e(o).notes,"onUpdate:modelValue":t[15]||(t[15]=l=>e(o).notes=l),placeholder:"Any additional notes about this account",rows:"3"},null,8,["modelValue"])])]),_:1})]),_:1}),d("div",ye,[a(e(L),{type:"button",variant:"outline",onClick:M},{default:n(()=>[a(e(H),{class:"mr-2 h-4 w-4"}),t[41]||(t[41]=s(" Cancel ",-1))]),_:1}),a(e(L),{type:"submit",disabled:e(o).processing},{default:n(()=>[a(e(J),{class:"mr-2 h-4 w-4"}),t[42]||(t[42]=s(" Save Account ",-1))]),_:1},8,["disabled"])])],32)]),_:1},8,["icon"])],64))}});export{nt as default};
