import{d as B,q as _,s as D,c as d,a,u as t,h as x,w as m,b as N,e as u,o as s,F as b,r as S,i as U,t as g,f as c}from"./app-B-wLZQl0.js";import{_ as w}from"./PageShell.vue_vue_type_script_setup_true_lang-CS74Goxj.js";import{_ as R}from"./DataTable.vue_vue_type_script_setup_true_lang-BQW8AXQk.js";import{_ as A}from"./EmptyState.vue_vue_type_script_setup_true_lang-CrAvLLsO.js";import{_ as F}from"./index-a73qSWOM.js";import{_ as I}from"./index-D8JUok4n.js";import{_ as $}from"./Input.vue_vue_type_script_setup_true_lang-E2jwtM0f.js";import{_ as M,a as q,b as E,c as L,d as V}from"./SelectValue.vue_vue_type_script_setup_true_lang-QDn6lJI8.js";import{P as T}from"./plus-C63jdNg7.js";import{C as j}from"./credit-card-CZIyPTcw.js";import"./AppLayout.vue_vue_type_script_setup_true_lang-CAfRB85X.js";import"./AppSidebarHeader.vue_vue_type_script_setup_true_lang-DKxjvTPB.js";import"./useForwardExpose-Ca12vFmR.js";import"./VisuallyHidden-BZkMfMV2.js";import"./PopperContent-BDPRX1DE.js";import"./handleAndDispatchCustomEvent-ChOKVcqp.js";import"./Collection-DN_gmv-a.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./RovingFocusGroup-ChUfgJPy.js";import"./building-2-DLYGST8U.js";import"./createLucideIcon-CbxkoCx6.js";import"./check-DogY6QNG.js";import"./index-Buy61MQA.js";import"./settings-B8OaYlkV.js";import"./file-text-CFHWSPvd.js";import"./users-CkYIFvpU.js";import"./calendar-B0yi2zLg.js";import"./Label.vue_vue_type_script_setup_true_lang-By03EcqK.js";import"./VisuallyHiddenInput-CgZzfdZ2.js";import"./loader-circle-BSwxCoSE.js";import"./info-_qQ0Rbsf.js";import"./circle-check-YKnAkXoj.js";import"./ohash.D__AXeF1-C-E83dC9.js";import"./nullish-CHIgUVhi.js";const z={class:"mb-4 grid gap-3 md:grid-cols-4"},G={key:0},H={key:1},v="__all_vendors",Be=B({__name:"Index",props:{company:{},payments:{},vendors:{},filters:{}},setup(l){const r=l,i=_(r.filters.vendor_id??v),p=_(r.filters.from_date??""),f=_(r.filters.to_date??""),k=[{title:"Dashboard",href:`/${r.company.slug}`},{title:"Bill Payments",href:`/${r.company.slug}/bill-payments`}],C=[{key:"payment_number",label:"Payment #"},{key:"vendor",label:"Vendor"},{key:"payment_date",label:"Date"},{key:"amount",label:"Amount"},{key:"payment_method",label:"Method"},{key:"reference_number",label:"Reference"}],h=(n,e)=>new Intl.NumberFormat("en-US",{style:"currency",currency:e||"USD"}).format(n),P=D(()=>r.payments.data.map(n=>({id:n.id,payment_number:n.payment_number,vendor:n.vendor?.name??"—",payment_date:n.payment_date,amount:h(n.amount,n.currency),payment_method:n.payment_method,reference_number:n.reference_number??"—"}))),y=()=>{c.get(`/${r.company.slug}/bill-payments`,{vendor_id:i.value===v?"":i.value,from_date:p.value,to_date:f.value},{preserveState:!0})};return(n,e)=>(s(),d(b,null,[a(t(x),{title:"Bill Payments"}),a(w,{title:"Bill Payments",breadcrumbs:k,icon:t(j)},{actions:m(()=>[a(t(I),{onClick:e[0]||(e[0]=o=>t(c).get(`/${l.company.slug}/bill-payments/create`))},{default:m(()=>[a(t(T),{class:"mr-2 h-4 w-4"}),e[5]||(e[5]=u(" Record Payment ",-1))]),_:1})]),default:m(()=>[N("div",z,[a(t(M),{modelValue:i.value,"onUpdate:modelValue":[e[1]||(e[1]=o=>i.value=o),y]},{default:m(()=>[a(t(q),null,{default:m(()=>[a(t(E),{placeholder:"All vendors"})]),_:1}),a(t(L),null,{default:m(()=>[a(t(V),{value:v},{default:m(()=>[...e[6]||(e[6]=[u("All vendors",-1)])]),_:1}),(s(!0),d(b,null,S(l.vendors,o=>(s(),U(t(V),{key:o.id,value:o.id},{default:m(()=>[u(g(o.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),a(t($),{modelValue:p.value,"onUpdate:modelValue":e[2]||(e[2]=o=>p.value=o),type:"date",onChange:y},null,8,["modelValue"]),a(t($),{modelValue:f.value,"onUpdate:modelValue":e[3]||(e[3]=o=>f.value=o),type:"date",onChange:y},null,8,["modelValue"])]),l.payments.data.length?(s(),d("div",H,[a(R,{columns:C,data:P.value,pagination:l.payments},{payment_method:m(({value:o})=>[a(t(F),{variant:"outline"},{default:m(()=>[u(g(o),1)]),_:2},1024)]),_:1},8,["data","pagination"])])):(s(),d("div",G,[a(A,{title:"No bill payments yet",description:"Record your first bill payment.","cta-text":"Record Payment",onClick:e[4]||(e[4]=o=>t(c).get(`/${l.company.slug}/bill-payments/create`))})]))]),_:1},8,["icon"])],64))}});export{Be as default};
