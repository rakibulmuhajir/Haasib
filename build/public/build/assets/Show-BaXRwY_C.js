import{d as B,s as N,c as u,a,u as n,h as E,w as l,b as e,i as $,j as c,o as i,t as m,e as o,A as F,f as p,F as C,r as M}from"./app-B-wLZQl0.js";import{_ as T}from"./PageShell.vue_vue_type_script_setup_true_lang-CS74Goxj.js";import{_ as w}from"./index-D8JUok4n.js";import{_ as f,a as y}from"./CardContent.vue_vue_type_script_setup_true_lang-f-xi8uWj.js";import{_ as q}from"./CardDescription.vue_vue_type_script_setup_true_lang-D23jLuEj.js";import{_ as b}from"./CardHeader.vue_vue_type_script_setup_true_lang-Cn7HWfaF.js";import{_ as g}from"./CardTitle.vue_vue_type_script_setup_true_lang-DXA8XANX.js";import{_ as L}from"./index-a73qSWOM.js";import{_ as V}from"./Separator.vue_vue_type_script_setup_true_lang-8_dGzQCj.js";import{b as I,c as R,d as U,e as z,z as P}from"./AppSidebarHeader.vue_vue_type_script_setup_true_lang-DKxjvTPB.js";import{B as j}from"./building-YkSJqe0l.js";import{S as D}from"./square-pen-DZtT9kbx.js";import{A as H}from"./arrow-left-DSX0n2_N.js";import{E as O}from"./ellipsis-DRk1q4ie.js";import{F as G}from"./file-text-CFHWSPvd.js";import{C as J}from"./credit-card-CZIyPTcw.js";import"./AppLayout.vue_vue_type_script_setup_true_lang-CAfRB85X.js";import"./loader-circle-BSwxCoSE.js";import"./createLucideIcon-CbxkoCx6.js";import"./info-_qQ0Rbsf.js";import"./circle-check-YKnAkXoj.js";import"./useForwardExpose-Ca12vFmR.js";import"./VisuallyHidden-BZkMfMV2.js";import"./PopperContent-BDPRX1DE.js";import"./handleAndDispatchCustomEvent-ChOKVcqp.js";import"./Collection-DN_gmv-a.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./RovingFocusGroup-ChUfgJPy.js";import"./building-2-DLYGST8U.js";import"./plus-C63jdNg7.js";import"./check-DogY6QNG.js";import"./index-Buy61MQA.js";import"./settings-B8OaYlkV.js";import"./users-CkYIFvpU.js";import"./calendar-B0yi2zLg.js";import"./Label.vue_vue_type_script_setup_true_lang-By03EcqK.js";import"./VisuallyHiddenInput-CgZzfdZ2.js";const K={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},Q={class:"lg:col-span-2 space-y-6"},W={class:"mb-6 pb-6 border-b"},X={class:"flex items-center gap-4"},Y={key:0,class:"flex-shrink-0"},Z=["src","alt"],tt={key:1,class:"flex-shrink-0"},et={class:"h-16 w-16 rounded-lg bg-primary/10 flex items-center justify-center"},nt={class:"text-xl font-semibold"},st={class:"flex justify-between items-start mb-6"},at={class:"text-2xl font-bold"},lt={class:"text-muted-foreground"},mt={class:"text-right"},ot={class:"flex items-center justify-end gap-2"},it={class:"font-bold text-lg"},rt={class:"grid grid-cols-2 gap-6"},ut={key:0,class:"text-sm text-muted-foreground"},dt={class:"text-right"},ct={key:0,class:"mb-1"},ft={class:"mb-1"},yt={class:"space-y-3"},pt=["onClick"],bt={class:"text-right"},gt={class:"font-medium"},vt={class:"text-sm"},xt={class:"space-y-6"},_t={class:"flex justify-between"},ht={class:"font-bold"},$t={class:"flex justify-between text-sm"},wt={key:0,class:"flex justify-between text-sm"},kt={key:1,class:"space-y-2"},Ct={class:"text-right"},Pt={class:"flex justify-between text-sm"},jt={class:"flex justify-between text-sm"},de=B({__name:"Show",props:{company:{},payment:{}},setup(s){const v=s,S=N(()=>[{title:"Dashboard",href:"/dashboard"},{title:v.company.name,href:`/${v.company.slug}`},{title:"Payments",href:`/${v.company.slug}/payments`},{title:v.payment.payment_number}]),A=d=>{switch(d){case"cash":return P;case"bank_transfer":return j;case"card":return J;case"cheque":return G;default:return P}},_=d=>{switch(d){case"cash":return"Cash";case"bank_transfer":return"Bank Transfer";case"card":return"Card";case"cheque":return"Cheque";default:return"Other"}},x=(d,t)=>new Intl.NumberFormat("en-US",{style:"currency",currency:t||"USD"}).format(d),h=d=>new Date(d).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return(d,t)=>(i(),u(C,null,[a(n(E),{title:`Payment ${s.payment.payment_number}`},null,8,["title"]),a(T,{title:`Payment ${s.payment.payment_number}`,breadcrumbs:S.value},{actions:l(()=>[a(n(w),{variant:"outline",onClick:t[0]||(t[0]=r=>n(p).get(`/${s.company.slug}/payments`))},{default:l(()=>[a(n(H),{class:"mr-2 h-4 w-4"}),t[4]||(t[4]=o(" Back ",-1))]),_:1}),a(n(I),null,{default:l(()=>[a(n(R),{asChild:""},{default:l(()=>[a(n(w),{variant:"outline"},{default:l(()=>[a(n(O),{class:"mr-2 h-4 w-4"}),t[5]||(t[5]=o(" More ",-1))]),_:1})]),_:1}),a(n(U),{align:"end"},{default:l(()=>[a(n(z),{onClick:t[1]||(t[1]=r=>n(p).get(`/${s.company.slug}/payments/${s.payment.id}/edit`))},{default:l(()=>[a(n(D),{class:"mr-2 h-4 w-4"}),t[6]||(t[6]=o(" Edit ",-1))]),_:1})]),_:1})]),_:1})]),default:l(()=>[e("div",K,[e("div",Q,[a(n(f),null,{default:l(()=>[a(n(y),{class:"pt-6"},{default:l(()=>[e("div",W,[e("div",X,[s.company.logo_url?(i(),u("div",Y,[e("img",{src:s.company.logo_url,alt:`${s.company.name} logo`,class:"h-16 w-auto object-contain"},null,8,Z)])):(i(),u("div",tt,[e("div",et,[a(n(j),{class:"h-8 w-8 text-primary"})])])),e("div",null,[e("h2",nt,m(s.company.name),1),t[7]||(t[7]=e("p",{class:"text-sm text-muted-foreground"},"Payment Receipt",-1))])])]),e("div",st,[e("div",null,[e("h1",at,"Payment "+m(s.payment.payment_number),1),e("p",lt,"Date: "+m(h(s.payment.payment_date)),1)]),e("div",mt,[a(n(L),{variant:"secondary",class:"mb-2"},{default:l(()=>[o(m(_(s.payment.payment_method)),1)]),_:1}),e("div",ot,[(i(),$(F(A(s.payment.payment_method)),{class:"h-4 w-4"})),e("span",it,m(x(s.payment.amount,s.payment.currency)),1)])])]),e("div",rt,[e("div",null,[t[8]||(t[8]=e("h3",{class:"font-semibold mb-2"},"Customer:",-1)),e("div",null,[e("button",{onClick:t[2]||(t[2]=r=>n(p).get(`/${s.company.slug}/customers/${s.payment.customer.id}`)),class:"font-medium text-primary hover:underline focus:outline-none focus:underline text-left"},m(s.payment.customer.name),1),s.payment.customer.email?(i(),u("p",ut,m(s.payment.customer.email),1)):c("",!0)])]),e("div",dt,[s.payment.reference_number?(i(),u("p",ct,[t[9]||(t[9]=e("span",{class:"font-medium"},"Reference:",-1)),o(" "+m(s.payment.reference_number),1)])):c("",!0),e("p",ft,[t[10]||(t[10]=e("span",{class:"font-medium"},"Payment Method:",-1)),o(" "+m(_(s.payment.payment_method)),1)])])])]),_:1})]),_:1}),s.payment.payment_allocations.length>0?(i(),$(n(f),{key:0},{default:l(()=>[a(n(b),null,{default:l(()=>[a(n(g),null,{default:l(()=>[...t[11]||(t[11]=[o("Allocations",-1)])]),_:1}),a(n(q),null,{default:l(()=>[...t[12]||(t[12]=[o("How this payment was applied",-1)])]),_:1})]),_:1}),a(n(y),null,{default:l(()=>[e("div",yt,[(i(!0),u(C,null,M(s.payment.payment_allocations,r=>(i(),u("div",{key:r.id,class:"flex justify-between items-center p-3 border rounded-lg"},[e("div",null,[e("button",{onClick:k=>n(p).get(`/${s.company.slug}/invoices/${r.invoice_id}`),class:"font-medium text-primary hover:underline focus:outline-none focus:underline"},m(r.invoice?.invoice_number||`Invoice #${r.invoice_id}`),9,pt),t[13]||(t[13]=e("p",{class:"text-sm text-muted-foreground"},"Applied to invoice",-1))]),e("div",bt,[e("p",gt,m(x(r.amount_allocated,s.payment.currency)),1)])]))),128))])]),_:1})]),_:1})):c("",!0),s.payment.notes?(i(),$(n(f),{key:1},{default:l(()=>[a(n(b),null,{default:l(()=>[a(n(g),null,{default:l(()=>[...t[14]||(t[14]=[o("Notes",-1)])]),_:1})]),_:1}),a(n(y),null,{default:l(()=>[e("p",vt,m(s.payment.notes),1)]),_:1})]),_:1})):c("",!0)]),e("div",xt,[a(n(f),null,{default:l(()=>[a(n(b),null,{default:l(()=>[a(n(g),null,{default:l(()=>[...t[15]||(t[15]=[o("Payment Summary",-1)])]),_:1})]),_:1}),a(n(y),{class:"space-y-3"},{default:l(()=>[e("div",_t,[t[16]||(t[16]=e("span",null,"Payment Amount:",-1)),e("span",ht,m(x(s.payment.amount,s.payment.currency)),1)]),e("div",$t,[t[17]||(t[17]=e("span",null,"Payment Method:",-1)),e("span",null,m(_(s.payment.payment_method)),1)]),s.payment.reference_number?(i(),u("div",wt,[t[18]||(t[18]=e("span",null,"Reference:",-1)),e("span",null,m(s.payment.reference_number),1)])):c("",!0),a(n(V)),s.payment.payment_allocations.length>0?(i(),u("div",kt,[t[19]||(t[19]=e("p",{class:"font-medium text-sm"},"Total Allocated:",-1)),e("div",Ct,m(x(s.payment.payment_allocations.reduce((r,k)=>r+Number(k.amount_allocated),0),s.payment.currency)),1)])):c("",!0)]),_:1})]),_:1}),a(n(f),null,{default:l(()=>[a(n(b),null,{default:l(()=>[a(n(g),null,{default:l(()=>[...t[20]||(t[20]=[o("Timeline",-1)])]),_:1})]),_:1}),a(n(y),{class:"space-y-3"},{default:l(()=>[e("div",Pt,[t[21]||(t[21]=e("span",null,"Created:",-1)),e("span",null,m(h(s.payment.created_at)),1)]),e("div",jt,[t[22]||(t[22]=e("span",null,"Payment Date:",-1)),e("span",null,m(h(s.payment.payment_date)),1)])]),_:1})]),_:1}),a(n(f),null,{default:l(()=>[a(n(b),null,{default:l(()=>[a(n(g),null,{default:l(()=>[...t[23]||(t[23]=[o("Actions",-1)])]),_:1})]),_:1}),a(n(y),{class:"space-y-2"},{default:l(()=>[a(n(w),{class:"w-full",variant:"outline",onClick:t[3]||(t[3]=r=>n(p).get(`/${s.company.slug}/payments/${s.payment.id}/edit`))},{default:l(()=>[a(n(D),{class:"mr-2 h-4 w-4"}),t[24]||(t[24]=o(" Edit Payment ",-1))]),_:1})]),_:1})]),_:1})])])]),_:1},8,["title","breadcrumbs"])],64))}});export{de as default};
