import{d as Ue,s as R,q as g,c as v,a as s,u as t,h as Fe,w as l,e as o,b as n,t as u,B as se,j as f,o as m,f as U,i as K,A as je,y as ne,F as Be,C as h}from"./app-B-wLZQl0.js";import{_ as Ne}from"./PageShell.vue_vue_type_script_setup_true_lang-CS74Goxj.js";import{_ as oe}from"./DataTable.vue_vue_type_script_setup_true_lang-BQW8AXQk.js";import{u as de,_ as k}from"./useInlineEdit-B47U4nRp.js";import{_ as y,a as b}from"./CardContent.vue_vue_type_script_setup_true_lang-f-xi8uWj.js";import{_}from"./CardDescription.vue_vue_type_script_setup_true_lang-D23jLuEj.js";import{_ as x}from"./CardHeader.vue_vue_type_script_setup_true_lang-Cn7HWfaF.js";import{_ as z}from"./CardTitle.vue_vue_type_script_setup_true_lang-DXA8XANX.js";import{_ as ue}from"./index-a73qSWOM.js";import{_ as w}from"./index-D8JUok4n.js";import{_ as $}from"./Label.vue_vue_type_script_setup_true_lang-By03EcqK.js";import{_ as V}from"./Input.vue_vue_type_script_setup_true_lang-E2jwtM0f.js";import{c as Ae,a as Pe,b as le,_ as ie}from"./TabsTrigger.vue_vue_type_script_setup_true_lang-CTCCy_9A.js";import{a as Ie,R as Me,z as re,A as Te,B as De,E as Re}from"./AppSidebarHeader.vue_vue_type_script_setup_true_lang-DKxjvTPB.js";import{S as Oe}from"./settings-B8OaYlkV.js";import{M as Le}from"./map-pin-CXhoqZJ6.js";import{T as Ye}from"./AppLayout.vue_vue_type_script_setup_true_lang-CAfRB85X.js";import{C as me}from"./credit-card-CZIyPTcw.js";import{W as He}from"./wallet-DCTJfQEJ.js";import{F as ve}from"./file-text-CFHWSPvd.js";import{T as Ze}from"./trending-up-a1ZqhVfb.js";import{C as qe}from"./clock-9a58COAh.js";import{P as Ge}from"./percent-CJFopfja.js";import{P as ce}from"./plus-C63jdNg7.js";import{c as We}from"./createLucideIcon-CbxkoCx6.js";import{B as Qe}from"./building-2-DLYGST8U.js";import{H as Xe}from"./hash-DdEfOsv7.js";import{M as Je}from"./mail-Cs8h5Q9u.js";import{P as Ke}from"./phone-qNtetOBs.js";import{C as he}from"./calendar-B0yi2zLg.js";import{G as et}from"./globe-DudBlPOB.js";import{C as tt}from"./circle-check-YKnAkXoj.js";import{C as st}from"./circle-x-BCtaKtUS.js";import{C as lt}from"./copy-CrT76hP_.js";import{U as it}from"./users-CkYIFvpU.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-QDn6lJI8.js";import"./VisuallyHidden-BZkMfMV2.js";import"./useForwardExpose-Ca12vFmR.js";import"./Collection-DN_gmv-a.js";import"./PopperContent-BDPRX1DE.js";import"./handleAndDispatchCustomEvent-ChOKVcqp.js";import"./check-DogY6QNG.js";import"./ohash.D__AXeF1-C-E83dC9.js";import"./nullish-CHIgUVhi.js";import"./pencil-R0Fiz8Cs.js";import"./loader-circle-BSwxCoSE.js";import"./RovingFocusGroup-ChUfgJPy.js";import"./RovingFocusItem-PDr5bOed.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./index-Buy61MQA.js";import"./VisuallyHiddenInput-CgZzfdZ2.js";import"./info-_qQ0Rbsf.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=We("FilePenIcon",[["path",{d:"M12.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v9.5",key:"1couwa"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M13.378 15.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1y4qbx"}]]),nt={class:"flex items-center gap-3"},ot={class:"font-mono text-zinc-400"},dt={key:0,class:"text-zinc-300"},ut={key:1,class:"text-zinc-500"},rt={class:"grid gap-4 md:grid-cols-2 lg:grid-cols-4"},mt={class:"text-2xl font-semibold text-zinc-900"},vt={class:"text-xs text-zinc-500 mt-1"},ct={class:"text-2xl font-semibold text-zinc-900"},gt={class:"text-xs text-zinc-500 mt-1"},ft={class:"text-2xl font-semibold text-zinc-900"},pt={class:"grid gap-4 lg:grid-cols-2"},yt={class:"flex justify-between"},bt={class:"font-medium text-zinc-900"},xt={class:"flex justify-between"},zt={class:"font-medium text-zinc-900"},wt={class:"flex justify-between"},$t={class:"font-medium text-zinc-900"},Ct={class:"flex justify-between"},Vt={class:"font-medium text-zinc-900"},St={class:"flex justify-between"},kt={class:"flex justify-between"},_t={class:"flex items-center gap-2"},Et={class:"font-medium text-zinc-900"},Ut={class:"flex justify-between"},Ft={class:"flex items-center gap-2"},jt={class:"font-medium text-zinc-900"},Bt={class:"flex justify-between"},Nt={class:"flex items-center gap-2"},At={class:"font-medium text-zinc-900"},Pt={key:0,class:"flex justify-between"},It={class:"flex items-center gap-2"},Mt={class:"pt-2 flex flex-wrap gap-2"},Tt={class:"grid gap-4 lg:grid-cols-2"},Dt={class:"grid gap-6 md:grid-cols-2"},Rt={class:"space-y-1.5"},Ot={class:"flex items-center gap-2 font-mono text-base text-zinc-900"},Lt={class:"grid gap-6 md:grid-cols-2"},Yt={class:"grid gap-6 lg:grid-cols-2"},Ht={key:0,class:"space-y-2 text-sm text-zinc-700"},Zt={key:0},qt={key:0},Gt={key:1},Wt={key:2},Qt={key:1,class:"text-zinc-400"},Xt={class:"space-y-2"},Jt={class:"grid gap-2 md:grid-cols-2"},Kt={class:"space-y-2"},ht={class:"space-y-2"},es={class:"grid gap-2 md:grid-cols-2"},ts={class:"space-y-2"},ss={class:"space-y-2"},ls={class:"flex justify-end gap-2 pt-2"},is={key:0,class:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"},as={class:"flex gap-2"},ns={key:0,class:"space-y-2 text-sm text-zinc-700"},os={key:0},ds={key:0},us={key:1},rs={key:2},ms={key:1,class:"text-zinc-400"},vs={class:"space-y-2"},cs={class:"grid gap-2 md:grid-cols-2"},gs={class:"space-y-2"},fs={class:"space-y-2"},ps={class:"grid gap-2 md:grid-cols-2"},ys={class:"space-y-2"},bs={class:"space-y-2"},xs={class:"flex justify-end gap-2 pt-2"},zs={key:0,class:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"},xl=Ue({__name:"Show",props:{company:{},customer:{},summary:{},invoices:{},payments:{},currencies:{},canEdit:{type:Boolean}},setup(a){const d=a,ge=R(()=>[{title:"Dashboard",href:`/${d.company.slug}`},{title:"Customers",href:`/${d.company.slug}/customers`},{title:d.customer.name}]),ae=g("overview"),S=de({endpoint:`/${d.company.slug}/customers/${d.customer.id}`,successMessage:"Customer updated successfully",errorMessage:"Failed to update customer"}),F=S.registerField("name",d.customer.name),j=S.registerField("email",d.customer.email||""),B=S.registerField("phone",d.customer.phone||""),N=S.registerField("payment_terms",d.customer.payment_terms??30),E=S.registerField("credit_limit",d.customer.credit_limit??0),A=S.registerField("base_currency",d.customer.base_currency||d.company.base_currency),P=S.registerField("tax_id",d.customer.tax_id||""),C=S.registerField("is_active",d.customer.is_active),I=S.registerField("notes",d.customer.notes||"");de({endpoint:`/${d.company.slug}/customers/${d.customer.id}`,successMessage:"Address updated successfully",errorMessage:"Failed to update address"});const O=g(d.customer.billing_address?.street||""),L=g(d.customer.billing_address?.city||""),Y=g(d.customer.billing_address?.state||""),H=g(d.customer.billing_address?.zip||""),Z=g(d.customer.billing_address?.country||""),q=g(!1),M=g(!1),G=g(d.customer.shipping_address?.street||""),W=g(d.customer.shipping_address?.city||""),Q=g(d.customer.shipping_address?.state||""),X=g(d.customer.shipping_address?.zip||""),J=g(d.customer.shipping_address?.country||""),T=g(!1),D=g(!1),fe=R(()=>d.currencies.map(r=>({value:r.currency_code,label:r.is_base?`${r.currency_code} (Base)`:r.currency_code}))),pe=[{value:!0,label:"Active"},{value:!1,label:"Inactive"}],ye=[{value:0,label:"Due on Receipt"},{value:7,label:"Net 7"},{value:14,label:"Net 14"},{value:15,label:"Net 15"},{value:30,label:"Net 30"},{value:45,label:"Net 45"},{value:60,label:"Net 60"},{value:90,label:"Net 90"}],p=R(()=>d.canEdit!==!1),c=r=>new Intl.NumberFormat("en-US",{style:"currency",currency:d.customer.base_currency||d.company.base_currency}).format(r??0),ee=R(()=>{if(!d.customer.credit_limit||d.customer.credit_limit===0)return null;const r=d.summary.open_balance;return Math.min(100,Math.round(r/d.customer.credit_limit*100))}),be=r=>r.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2),te=r=>{if(!r)return null;const e=[r.street,r.city,r.state,r.zip,r.country].filter(Boolean);return e.length>0?e.join(", "):null},xe=[{key:"invoice_number",label:"Invoice #"},{key:"invoice_date",label:"Date"},{key:"due_date",label:"Due"},{key:"total_amount",label:"Total"},{key:"balance",label:"Balance"},{key:"status",label:"Status"}],ze=[{key:"payment_number",label:"Payment #"},{key:"payment_date",label:"Date"},{key:"amount",label:"Amount"},{key:"payment_method",label:"Method"},{key:"reference_number",label:"Reference"}],we=R(()=>d.invoices.map(r=>({...r,total_amount:c(r.total_amount),balance:c(r.balance)}))),$e=R(()=>d.payments.map(r=>({...r,amount:c(r.amount),reference_number:r.reference_number??"—"}))),Ce=r=>({paid:"default",sent:"secondary",draft:"outline",overdue:"destructive",void:"secondary",cancelled:"secondary"})[r.toLowerCase()]||"outline",Ve=async()=>{M.value=!0,U.patch(`/${d.company.slug}/customers/${d.customer.id}`,{billing_address:{street:O.value||"",city:L.value||"",state:Y.value||"",zip:H.value||"",country:Z.value||""}},{preserveScroll:!0,onSuccess:()=>{q.value=!1,M.value=!1,h.success("Billing address updated")},onError:()=>{M.value=!1,h.error("Failed to update billing address")}})},Se=async()=>{D.value=!0,U.patch(`/${d.company.slug}/customers/${d.customer.id}`,{shipping_address:{street:G.value||"",city:W.value||"",state:Q.value||"",zip:X.value||"",country:J.value||""}},{preserveScroll:!0,onSuccess:()=>{T.value=!1,D.value=!1,h.success("Shipping address updated")},onError:()=>{D.value=!1,h.error("Failed to update shipping address")}})},ke=()=>{G.value=O.value,W.value=L.value,Q.value=Y.value,X.value=H.value,J.value=Z.value,h.success("Billing address copied to shipping")},_e=()=>{O.value=d.customer.billing_address?.street||"",L.value=d.customer.billing_address?.city||"",Y.value=d.customer.billing_address?.state||"",H.value=d.customer.billing_address?.zip||"",Z.value=d.customer.billing_address?.country||"",q.value=!1},Ee=()=>{G.value=d.customer.shipping_address?.street||"",W.value=d.customer.shipping_address?.city||"",Q.value=d.customer.shipping_address?.state||"",X.value=d.customer.shipping_address?.zip||"",J.value=d.customer.shipping_address?.country||"",T.value=!1};return(r,e)=>(m(),v(Be,null,[s(t(Fe),{title:`Customer: ${a.customer.name}`},null,8,["title"]),s(Ne,{title:a.customer.name,icon:t(it),breadcrumbs:ge.value,badge:{text:a.customer.is_active?"Active":"Inactive",variant:a.customer.is_active?"default":"secondary"},compact:""},{description:l(()=>[n("div",nt,[s(t(Te),{class:"h-8 w-8"},{default:l(()=>[a.customer.logo_url?(m(),K(t(De),{key:0,src:a.customer.logo_url,alt:a.customer.name},null,8,["src","alt"])):f("",!0),s(t(Re),{class:"bg-zinc-100 text-zinc-600 text-xs"},{default:l(()=>[o(u(be(a.customer.name)),1)]),_:1})]),_:1}),n("span",ot,u(a.customer.customer_number),1),a.customer.email?(m(),v("span",dt,"•")):f("",!0),a.customer.email?(m(),v("span",ut,u(a.customer.email),1)):f("",!0)])]),actions:l(()=>[s(t(w),{size:"sm",onClick:e[0]||(e[0]=i=>t(U).visit(`/${a.company.slug}/invoices/create?customer=${a.customer.id}`))},{default:l(()=>[s(t(ce),{class:"mr-2 h-4 w-4"}),e[55]||(e[55]=o(" New Invoice ",-1))]),_:1})]),default:l(()=>[s(t(Ae),{modelValue:ae.value,"onUpdate:modelValue":e[54]||(e[54]=i=>ae.value=i),class:"w-full"},{default:l(()=>[s(t(Pe),{class:"mb-6 bg-zinc-100"},{default:l(()=>[s(t(le),{value:"overview",class:"gap-2"},{default:l(()=>[s(t(Ie),{class:"h-4 w-4"}),e[56]||(e[56]=o(" Overview ",-1))]),_:1}),s(t(le),{value:"settings",class:"gap-2"},{default:l(()=>[s(t(Oe),{class:"h-4 w-4"}),e[57]||(e[57]=o(" Settings ",-1))]),_:1}),s(t(le),{value:"addresses",class:"gap-2"},{default:l(()=>[s(t(Le),{class:"h-4 w-4"}),e[58]||(e[58]=o(" Addresses ",-1))]),_:1})]),_:1}),s(t(ie),{value:"overview",class:"space-y-6"},{default:l(()=>[n("div",rt,[s(t(y),{class:"border-zinc-200/80 bg-white"},{default:l(()=>[s(t(x),{class:"flex flex-row items-center justify-between pb-2"},{default:l(()=>[s(t(z),{class:"text-sm font-medium text-zinc-500"},{default:l(()=>[...e[59]||(e[59]=[o("Open Balance",-1)])]),_:1}),s(t(Me),{class:"h-4 w-4 text-zinc-500"})]),_:1}),s(t(b),null,{default:l(()=>[n("div",mt,u(c(a.summary.open_balance)),1),n("p",vt,u(a.summary.invoice_count)+" open invoice"+u(a.summary.invoice_count===1?"":"s"),1)]),_:1})]),_:1}),s(t(y),{class:"border-zinc-200/80 bg-white"},{default:l(()=>[s(t(x),{class:"flex flex-row items-center justify-between pb-2"},{default:l(()=>[s(t(z),{class:"text-sm font-medium text-zinc-500"},{default:l(()=>[...e[60]||(e[60]=[o("Overdue",-1)])]),_:1}),s(t(Ye),{class:"h-4 w-4 text-amber-500"})]),_:1}),s(t(b),null,{default:l(()=>[n("div",{class:se(["text-2xl font-semibold",a.summary.overdue_balance>0?"text-amber-600":"text-zinc-900"])},u(c(a.summary.overdue_balance)),3),e[61]||(e[61]=n("p",{class:"text-xs text-zinc-500 mt-1"},"Past due date",-1))]),_:1})]),_:1}),s(t(y),{class:"border-zinc-200/80 bg-white"},{default:l(()=>[s(t(x),{class:"flex flex-row items-center justify-between pb-2"},{default:l(()=>[s(t(z),{class:"text-sm font-medium text-zinc-500"},{default:l(()=>[...e[62]||(e[62]=[o("Available Credit",-1)])]),_:1}),s(t(me),{class:"h-4 w-4 text-emerald-500"})]),_:1}),s(t(b),null,{default:l(()=>[n("div",ct,u(c(a.summary.available_credit)),1),n("p",gt,u(a.summary.credit_note_count)+" credit note"+u(a.summary.credit_note_count===1?"":"s"),1)]),_:1})]),_:1}),s(t(y),{class:"border-zinc-200/80 bg-white"},{default:l(()=>[s(t(x),{class:"flex flex-row items-center justify-between pb-2"},{default:l(()=>[s(t(z),{class:"text-sm font-medium text-zinc-500"},{default:l(()=>[...e[63]||(e[63]=[o("Paid YTD",-1)])]),_:1}),s(t(He),{class:"h-4 w-4 text-emerald-500"})]),_:1}),s(t(b),null,{default:l(()=>[n("div",ft,u(c(a.summary.paid_ytd)),1),e[64]||(e[64]=n("p",{class:"text-xs text-zinc-500 mt-1"},"This year",-1))]),_:1})]),_:1})]),n("div",pt,[s(t(y),{class:"border-zinc-200/80 bg-white"},{default:l(()=>[s(t(x),null,{default:l(()=>[s(t(z),{class:"text-sm font-medium text-zinc-500"},{default:l(()=>[...e[65]||(e[65]=[o("AR Aging",-1)])]),_:1}),s(t(_),null,{default:l(()=>[...e[66]||(e[66]=[o("Outstanding balance by age",-1)])]),_:1})]),_:1}),s(t(b),{class:"space-y-2 text-sm text-zinc-700"},{default:l(()=>[n("div",yt,[e[67]||(e[67]=n("span",null,"Current",-1)),n("span",bt,u(c(a.summary.aging?.current??0)),1)]),n("div",xt,[e[68]||(e[68]=n("span",null,"1-30 days",-1)),n("span",zt,u(c(a.summary.aging?.bucket_1_30??0)),1)]),n("div",wt,[e[69]||(e[69]=n("span",null,"31-60 days",-1)),n("span",$t,u(c(a.summary.aging?.bucket_31_60??0)),1)]),n("div",Ct,[e[70]||(e[70]=n("span",null,"61-90 days",-1)),n("span",Vt,u(c(a.summary.aging?.bucket_61_90??0)),1)]),n("div",St,[e[71]||(e[71]=n("span",null,"90+ days",-1)),n("span",{class:se(["font-medium",(a.summary.aging?.bucket_90_plus??0)>0?"text-red-600":"text-zinc-900"])},u(c(a.summary.aging?.bucket_90_plus??0)),3)])]),_:1})]),_:1}),s(t(y),{class:"border-zinc-200/80 bg-white"},{default:l(()=>[s(t(x),null,{default:l(()=>[s(t(z),{class:"text-sm font-medium text-zinc-500"},{default:l(()=>[...e[72]||(e[72]=[o("Quick Stats",-1)])]),_:1}),s(t(_),null,{default:l(()=>[...e[73]||(e[73]=[o("Customer performance metrics",-1)])]),_:1})]),_:1}),s(t(b),{class:"space-y-3 text-sm text-zinc-700"},{default:l(()=>[n("div",kt,[n("span",_t,[s(t(ve),{class:"h-4 w-4 text-zinc-400"}),e[74]||(e[74]=o(" Total Billed ",-1))]),n("span",Et,u(c(a.summary.total_billed)),1)]),n("div",Ut,[n("span",Ft,[s(t(Ze),{class:"h-4 w-4 text-zinc-400"}),e[75]||(e[75]=o(" Invoiced YTD ",-1))]),n("span",jt,u(c(a.summary.invoiced_ytd)),1)]),n("div",Bt,[n("span",Nt,[s(t(qe),{class:"h-4 w-4 text-zinc-400"}),e[76]||(e[76]=o(" Avg Days to Pay ",-1))]),n("span",At,u(a.summary.avg_days_to_pay?`${a.summary.avg_days_to_pay} days`:"—"),1)]),ee.value!==null?(m(),v("div",Pt,[n("span",It,[s(t(Ge),{class:"h-4 w-4 text-zinc-400"}),e[77]||(e[77]=o(" Credit Used ",-1))]),n("span",{class:se(["font-medium",ee.value>80?"text-amber-600":"text-zinc-900"])},u(ee.value)+"% ",3)])):f("",!0),n("div",Mt,[s(t(w),{size:"sm",variant:"outline",onClick:e[1]||(e[1]=i=>t(U).visit(`/${a.company.slug}/invoices/create?customer=${a.customer.id}`))},{default:l(()=>[s(t(ce),{class:"mr-1 h-3 w-3"}),e[78]||(e[78]=o(" Invoice ",-1))]),_:1}),s(t(w),{size:"sm",variant:"outline",onClick:e[2]||(e[2]=i=>t(U).visit(`/${a.company.slug}/payments/create?customer=${a.customer.id}`))},{default:l(()=>[s(t(re),{class:"mr-1 h-3 w-3"}),e[79]||(e[79]=o(" Payment ",-1))]),_:1}),s(t(w),{size:"sm",variant:"outline",onClick:e[3]||(e[3]=i=>t(U).visit(`/${a.company.slug}/credit-notes/create?customer=${a.customer.id}`))},{default:l(()=>[s(t(at),{class:"mr-1 h-3 w-3"}),e[80]||(e[80]=o(" Credit Note ",-1))]),_:1})])]),_:1})]),_:1})]),n("div",Tt,[s(t(y),{class:"border-zinc-200/80 bg-white"},{default:l(()=>[s(t(x),{class:"flex flex-row items-center justify-between"},{default:l(()=>[n("div",null,[s(t(z),{class:"text-sm font-medium text-zinc-500"},{default:l(()=>[...e[81]||(e[81]=[o("Recent Invoices",-1)])]),_:1}),s(t(_),null,{default:l(()=>[...e[82]||(e[82]=[o("Last 25 invoices",-1)])]),_:1})]),s(t(w),{size:"sm",variant:"ghost",onClick:e[4]||(e[4]=i=>t(U).visit(`/${a.company.slug}/invoices?customer=${a.customer.id}`))},{default:l(()=>[...e[83]||(e[83]=[o(" View All ",-1)])]),_:1})]),_:1}),s(t(b),null,{default:l(()=>[s(oe,{columns:xe,data:we.value,"key-field":"id",compact:""},{"cell-status":l(({row:i})=>[s(t(ue),{variant:Ce(i.status),class:"capitalize"},{default:l(()=>[o(u(i.status),1)]),_:2},1032,["variant"])]),_:1},8,["data"])]),_:1})]),_:1}),s(t(y),{class:"border-zinc-200/80 bg-white"},{default:l(()=>[s(t(x),{class:"flex flex-row items-center justify-between"},{default:l(()=>[n("div",null,[s(t(z),{class:"text-sm font-medium text-zinc-500"},{default:l(()=>[...e[84]||(e[84]=[o("Recent Payments",-1)])]),_:1}),s(t(_),null,{default:l(()=>[...e[85]||(e[85]=[o("Last 25 payments",-1)])]),_:1})]),s(t(w),{size:"sm",variant:"ghost",onClick:e[5]||(e[5]=i=>t(U).visit(`/${a.company.slug}/payments?customer=${a.customer.id}`))},{default:l(()=>[...e[86]||(e[86]=[o(" View All ",-1)])]),_:1})]),_:1}),s(t(b),null,{default:l(()=>[s(oe,{columns:ze,data:$e.value,"key-field":"id",compact:""},null,8,["data"])]),_:1})]),_:1})])]),_:1}),s(t(ie),{value:"settings",class:"space-y-6"},{default:l(()=>[s(t(y),{class:"border-zinc-200/80 bg-white"},{default:l(()=>[s(t(x),null,{default:l(()=>[s(t(z),{class:"text-zinc-900"},{default:l(()=>[...e[87]||(e[87]=[o("Contact Information",-1)])]),_:1}),s(t(_),{class:"text-zinc-500"},{default:l(()=>[o(u(p.value?"Click the pencil icon to edit":"Contact an admin to make changes"),1)]),_:1})]),_:1}),s(t(b),{class:"space-y-4"},{default:l(()=>[n("div",Dt,[s(k,{modelValue:t(F).value.value,"onUpdate:modelValue":e[6]||(e[6]=i=>t(F).value.value=i),label:"Customer Name",editing:t(F).isEditing.value,saving:t(F).isSaving.value,"can-edit":p.value,type:"text",icon:t(Qe),onStartEdit:e[7]||(e[7]=i=>t(F).startEditing()),onSave:e[8]||(e[8]=i=>t(F).save()),onCancel:e[9]||(e[9]=i=>t(F).cancelEditing())},null,8,["modelValue","editing","saving","can-edit","icon"]),n("div",Rt,[s(t($),{class:"text-sm font-medium text-zinc-500"},{default:l(()=>[...e[88]||(e[88]=[o("Customer Number",-1)])]),_:1}),n("div",Ot,[s(t(Xe),{class:"h-4 w-4 text-zinc-400"}),o(" "+u(a.customer.customer_number),1)]),e[89]||(e[89]=n("p",{class:"text-xs text-zinc-400"},"Auto-generated, cannot be changed",-1))]),s(k,{modelValue:t(j).value.value,"onUpdate:modelValue":e[10]||(e[10]=i=>t(j).value.value=i),label:"Email",editing:t(j).isEditing.value,saving:t(j).isSaving.value,"can-edit":p.value,type:"email",icon:t(Je),placeholder:"billing@example.com",onStartEdit:e[11]||(e[11]=i=>t(j).startEditing()),onSave:e[12]||(e[12]=i=>t(j).save()),onCancel:e[13]||(e[13]=i=>t(j).cancelEditing())},null,8,["modelValue","editing","saving","can-edit","icon"]),s(k,{modelValue:t(B).value.value,"onUpdate:modelValue":e[14]||(e[14]=i=>t(B).value.value=i),label:"Phone",editing:t(B).isEditing.value,saving:t(B).isSaving.value,"can-edit":p.value,type:"text",icon:t(Ke),placeholder:"+1 (555) 123-4567",onStartEdit:e[15]||(e[15]=i=>t(B).startEditing()),onSave:e[16]||(e[16]=i=>t(B).save()),onCancel:e[17]||(e[17]=i=>t(B).cancelEditing())},null,8,["modelValue","editing","saving","can-edit","icon"])])]),_:1})]),_:1}),s(t(y),{class:"border-zinc-200/80 bg-white"},{default:l(()=>[s(t(x),null,{default:l(()=>[s(t(z),{class:"text-zinc-900 flex items-center gap-2"},{default:l(()=>[s(t(me),{class:"h-4 w-4"}),e[90]||(e[90]=o(" Billing Settings ",-1))]),_:1}),s(t(_),{class:"text-zinc-500"},{default:l(()=>[...e[91]||(e[91]=[o(" Payment terms, credit limits, and tax information ",-1)])]),_:1})]),_:1}),s(t(b),{class:"space-y-4"},{default:l(()=>[n("div",Lt,[s(k,{modelValue:t(N).value.value,"onUpdate:modelValue":e[18]||(e[18]=i=>t(N).value.value=i),label:"Payment Terms",editing:t(N).isEditing.value,saving:t(N).isSaving.value,"can-edit":p.value,type:"select",options:ye,icon:t(he),"helper-text":"Default terms for new invoices",onStartEdit:e[19]||(e[19]=i=>t(N).startEditing()),onSave:e[20]||(e[20]=i=>t(N).save()),onCancel:e[21]||(e[21]=i=>t(N).cancelEditing())},null,8,["modelValue","editing","saving","can-edit","icon"]),s(k,{modelValue:t(E).value.value,"onUpdate:modelValue":e[22]||(e[22]=i=>t(E).value.value=i),label:"Credit Limit",editing:t(E).isEditing.value,saving:t(E).isSaving.value,"can-edit":p.value,type:"number",icon:t(re),"display-value":c(t(E).value.value),"helper-text":"Maximum outstanding balance allowed",onStartEdit:e[23]||(e[23]=i=>t(E).startEditing()),onSave:e[24]||(e[24]=i=>t(E).save()),onCancel:e[25]||(e[25]=i=>t(E).cancelEditing())},null,8,["modelValue","editing","saving","can-edit","icon","display-value"]),s(k,{modelValue:t(A).value.value,"onUpdate:modelValue":e[26]||(e[26]=i=>t(A).value.value=i),label:"Currency",editing:t(A).isEditing.value,saving:t(A).isSaving.value,"can-edit":p.value,type:"select",options:fe.value,icon:t(et),"helper-text":"Default currency for invoices",onStartEdit:e[27]||(e[27]=i=>t(A).startEditing()),onSave:e[28]||(e[28]=i=>t(A).save()),onCancel:e[29]||(e[29]=i=>t(A).cancelEditing())},null,8,["modelValue","editing","saving","can-edit","options","icon"]),s(k,{modelValue:t(P).value.value,"onUpdate:modelValue":e[30]||(e[30]=i=>t(P).value.value=i),label:"Tax ID",editing:t(P).isEditing.value,saving:t(P).isSaving.value,"can-edit":p.value,type:"text",icon:t(ve),placeholder:"Enter tax ID","helper-text":"VAT, GST, or tax registration number",onStartEdit:e[31]||(e[31]=i=>t(P).startEditing()),onSave:e[32]||(e[32]=i=>t(P).save()),onCancel:e[33]||(e[33]=i=>t(P).cancelEditing())},null,8,["modelValue","editing","saving","can-edit","icon"]),s(k,{modelValue:t(C).value.value,"onUpdate:modelValue":e[34]||(e[34]=i=>t(C).value.value=i),label:"Status",editing:t(C).isEditing.value,saving:t(C).isSaving.value,"can-edit":p.value,type:"select",options:pe,"helper-text":"Inactive customers won't appear in dropdowns",onStartEdit:e[35]||(e[35]=i=>t(C).startEditing()),onSave:e[36]||(e[36]=i=>t(C).save()),onCancel:e[37]||(e[37]=i=>t(C).cancelEditing())},{display:l(()=>[s(t(ue),{variant:t(C).value.value?"default":"secondary"},{default:l(()=>[(m(),K(je(t(C).value.value?t(tt):t(st)),{class:"mr-1 h-3 w-3"})),o(" "+u(t(C).value.value?"Active":"Inactive"),1)]),_:1},8,["variant"])]),_:1},8,["modelValue","editing","saving","can-edit"])])]),_:1})]),_:1}),s(t(y),{class:"border-zinc-200/80 bg-white"},{default:l(()=>[s(t(x),null,{default:l(()=>[s(t(z),{class:"text-zinc-900"},{default:l(()=>[...e[92]||(e[92]=[o("Internal Notes",-1)])]),_:1}),s(t(_),{class:"text-zinc-500"},{default:l(()=>[...e[93]||(e[93]=[o(" Private notes about this customer (not visible on invoices) ",-1)])]),_:1})]),_:1}),s(t(b),null,{default:l(()=>[s(k,{modelValue:t(I).value.value,"onUpdate:modelValue":e[38]||(e[38]=i=>t(I).value.value=i),label:"Notes",editing:t(I).isEditing.value,saving:t(I).isSaving.value,"can-edit":p.value,type:"textarea",placeholder:"Add notes about this customer...",onStartEdit:e[39]||(e[39]=i=>t(I).startEditing()),onSave:e[40]||(e[40]=i=>t(I).save()),onCancel:e[41]||(e[41]=i=>t(I).cancelEditing())},null,8,["modelValue","editing","saving","can-edit"])]),_:1})]),_:1})]),_:1}),s(t(ie),{value:"addresses",class:"space-y-6"},{default:l(()=>[n("div",Yt,[s(t(y),{class:"border-zinc-200/80 bg-white"},{default:l(()=>[s(t(x),{class:"flex flex-row items-center justify-between"},{default:l(()=>[n("div",null,[s(t(z),{class:"text-zinc-900"},{default:l(()=>[...e[94]||(e[94]=[o("Billing Address",-1)])]),_:1}),s(t(_),{class:"text-zinc-500"},{default:l(()=>[...e[95]||(e[95]=[o("Used on invoices and statements",-1)])]),_:1})]),p.value&&!q.value?(m(),K(t(w),{key:0,variant:"ghost",size:"sm",onClick:e[42]||(e[42]=i=>q.value=!0)},{default:l(()=>[...e[96]||(e[96]=[o(" Edit ",-1)])]),_:1})):f("",!0)]),_:1}),s(t(b),null,{default:l(()=>[q.value?(m(),v("form",{key:1,class:"space-y-3",onSubmit:ne(Ve,["prevent"])},[n("div",Xt,[s(t($),{for:"billing_street"},{default:l(()=>[...e[97]||(e[97]=[o("Street",-1)])]),_:1}),s(t(V),{id:"billing_street",modelValue:O.value,"onUpdate:modelValue":e[43]||(e[43]=i=>O.value=i),placeholder:"123 Main St"},null,8,["modelValue"])]),n("div",Jt,[n("div",Kt,[s(t($),{for:"billing_city"},{default:l(()=>[...e[98]||(e[98]=[o("City",-1)])]),_:1}),s(t(V),{id:"billing_city",modelValue:L.value,"onUpdate:modelValue":e[44]||(e[44]=i=>L.value=i),placeholder:"New York"},null,8,["modelValue"])]),n("div",ht,[s(t($),{for:"billing_state"},{default:l(()=>[...e[99]||(e[99]=[o("State",-1)])]),_:1}),s(t(V),{id:"billing_state",modelValue:Y.value,"onUpdate:modelValue":e[45]||(e[45]=i=>Y.value=i),placeholder:"NY"},null,8,["modelValue"])])]),n("div",es,[n("div",ts,[s(t($),{for:"billing_zip"},{default:l(()=>[...e[100]||(e[100]=[o("ZIP Code",-1)])]),_:1}),s(t(V),{id:"billing_zip",modelValue:H.value,"onUpdate:modelValue":e[46]||(e[46]=i=>H.value=i),placeholder:"10001"},null,8,["modelValue"])]),n("div",ss,[s(t($),{for:"billing_country"},{default:l(()=>[...e[101]||(e[101]=[o("Country",-1)])]),_:1}),s(t(V),{id:"billing_country",modelValue:Z.value,"onUpdate:modelValue":e[47]||(e[47]=i=>Z.value=i),placeholder:"US",maxlength:"2"},null,8,["modelValue"])])]),n("div",ls,[s(t(w),{type:"button",variant:"outline",size:"sm",onClick:_e,disabled:M.value},{default:l(()=>[...e[102]||(e[102]=[o(" Cancel ",-1)])]),_:1},8,["disabled"]),s(t(w),{type:"submit",size:"sm",disabled:M.value},{default:l(()=>[M.value?(m(),v("span",is)):f("",!0),e[103]||(e[103]=o(" Save ",-1))]),_:1},8,["disabled"])])],32)):(m(),v("div",Ht,[te(a.customer.billing_address)?(m(),v("div",Zt,[a.customer.billing_address?.street?(m(),v("p",qt,u(a.customer.billing_address.street),1)):f("",!0),a.customer.billing_address?.city||a.customer.billing_address?.state||a.customer.billing_address?.zip?(m(),v("p",Gt,u([a.customer.billing_address?.city,a.customer.billing_address?.state,a.customer.billing_address?.zip].filter(Boolean).join(", ")),1)):f("",!0),a.customer.billing_address?.country?(m(),v("p",Wt,u(a.customer.billing_address.country),1)):f("",!0)])):(m(),v("p",Qt,"No billing address set"))]))]),_:1})]),_:1}),s(t(y),{class:"border-zinc-200/80 bg-white"},{default:l(()=>[s(t(x),{class:"flex flex-row items-center justify-between"},{default:l(()=>[n("div",null,[s(t(z),{class:"text-zinc-900"},{default:l(()=>[...e[104]||(e[104]=[o("Shipping Address",-1)])]),_:1}),s(t(_),{class:"text-zinc-500"},{default:l(()=>[...e[105]||(e[105]=[o("Delivery address for goods",-1)])]),_:1})]),n("div",as,[p.value&&!T.value&&te(a.customer.billing_address)?(m(),K(t(w),{key:0,variant:"ghost",size:"sm",onClick:ke},{default:l(()=>[s(t(lt),{class:"mr-1 h-3 w-3"}),e[106]||(e[106]=o(" Copy Billing ",-1))]),_:1})):f("",!0),p.value&&!T.value?(m(),K(t(w),{key:1,variant:"ghost",size:"sm",onClick:e[48]||(e[48]=i=>T.value=!0)},{default:l(()=>[...e[107]||(e[107]=[o(" Edit ",-1)])]),_:1})):f("",!0)])]),_:1}),s(t(b),null,{default:l(()=>[T.value?(m(),v("form",{key:1,class:"space-y-3",onSubmit:ne(Se,["prevent"])},[n("div",vs,[s(t($),{for:"shipping_street"},{default:l(()=>[...e[108]||(e[108]=[o("Street",-1)])]),_:1}),s(t(V),{id:"shipping_street",modelValue:G.value,"onUpdate:modelValue":e[49]||(e[49]=i=>G.value=i),placeholder:"123 Main St"},null,8,["modelValue"])]),n("div",cs,[n("div",gs,[s(t($),{for:"shipping_city"},{default:l(()=>[...e[109]||(e[109]=[o("City",-1)])]),_:1}),s(t(V),{id:"shipping_city",modelValue:W.value,"onUpdate:modelValue":e[50]||(e[50]=i=>W.value=i),placeholder:"New York"},null,8,["modelValue"])]),n("div",fs,[s(t($),{for:"shipping_state"},{default:l(()=>[...e[110]||(e[110]=[o("State",-1)])]),_:1}),s(t(V),{id:"shipping_state",modelValue:Q.value,"onUpdate:modelValue":e[51]||(e[51]=i=>Q.value=i),placeholder:"NY"},null,8,["modelValue"])])]),n("div",ps,[n("div",ys,[s(t($),{for:"shipping_zip"},{default:l(()=>[...e[111]||(e[111]=[o("ZIP Code",-1)])]),_:1}),s(t(V),{id:"shipping_zip",modelValue:X.value,"onUpdate:modelValue":e[52]||(e[52]=i=>X.value=i),placeholder:"10001"},null,8,["modelValue"])]),n("div",bs,[s(t($),{for:"shipping_country"},{default:l(()=>[...e[112]||(e[112]=[o("Country",-1)])]),_:1}),s(t(V),{id:"shipping_country",modelValue:J.value,"onUpdate:modelValue":e[53]||(e[53]=i=>J.value=i),placeholder:"US",maxlength:"2"},null,8,["modelValue"])])]),n("div",xs,[s(t(w),{type:"button",variant:"outline",size:"sm",onClick:Ee,disabled:D.value},{default:l(()=>[...e[113]||(e[113]=[o(" Cancel ",-1)])]),_:1},8,["disabled"]),s(t(w),{type:"submit",size:"sm",disabled:D.value},{default:l(()=>[D.value?(m(),v("span",zs)):f("",!0),e[114]||(e[114]=o(" Save ",-1))]),_:1},8,["disabled"])])],32)):(m(),v("div",ns,[te(a.customer.shipping_address)?(m(),v("div",os,[a.customer.shipping_address?.street?(m(),v("p",ds,u(a.customer.shipping_address.street),1)):f("",!0),a.customer.shipping_address?.city||a.customer.shipping_address?.state||a.customer.shipping_address?.zip?(m(),v("p",us,u([a.customer.shipping_address?.city,a.customer.shipping_address?.state,a.customer.shipping_address?.zip].filter(Boolean).join(", ")),1)):f("",!0),a.customer.shipping_address?.country?(m(),v("p",rs,u(a.customer.shipping_address.country),1)):f("",!0)])):(m(),v("p",ms,"No shipping address set"))]))]),_:1})]),_:1})])]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["title","icon","breadcrumbs","badge"])],64))}});export{xl as default};
