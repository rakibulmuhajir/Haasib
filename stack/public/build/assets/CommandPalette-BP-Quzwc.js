import{j as G,r as p,k as C,p as O,s as J,ar as Q,m as N,o as l,w as T,a as s,i as P,d as X,e as _,z as h,f as V,b as g,t as y,c,F as $,J as j,n as B,as as W}from"./app-DjFlEUH4.js";import{s as Y}from"./index-jrbmM0En.js";import{s as Z}from"./index-CXOcYUhh.js";import{s as ee}from"./index-di-bTznt.js";import{_ as te}from"./_plugin-vue_export-helper-DlAUqK2U.js";const se={class:"bg-white dark:bg-gray-800 rounded-lg"},ae={class:"p-4 border-b border-gray-200 dark:border-gray-700"},oe={class:"relative"},re={class:"max-h-96 overflow-y-auto"},ne={key:0,class:"p-8 text-center"},le={class:"text-gray-600 dark:text-gray-400"},ie={key:1},ce={class:"px-4 py-2 bg-gray-50 dark:bg-gray-700/50 text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wider"},de=["onClick","onMouseenter"],ue={class:"flex items-center flex-1"},fe={class:"ml-3 text-gray-900 dark:text-white font-medium"},pe={class:"flex items-center space-x-3"},ye={key:0,class:"text-xs text-gray-500 dark:text-gray-400"},me={class:"px-1 py-0.5 bg-gray-100 dark:bg-gray-700 rounded"},ge={class:"p-3 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700/50"},ve={class:"flex items-center justify-between"},he={class:"text-xs text-gray-500 dark:text-gray-400"},be={__name:"CommandPalette",emits:["close"],setup(xe,{expose:F,emit:R}){const{t:ke}=G(),A=R,d=p(!1),i=p(""),r=p(0);p(!1);const E=p(""),b=p([{label:"Navigation",icon:"fas fa-compass",items:[{id:"dashboard",label:"Dashboard",icon:"fas fa-chart-line",shortcut:"Ctrl+D",keywords:["home","overview","main"],action:()=>n("/dashboard")},{id:"invoices",label:"Invoices",icon:"fas fa-file-invoice",shortcut:"Ctrl+I",keywords:["billing","sales","revenue"],action:()=>n("/invoicing")},{id:"customers",label:"Customers",icon:"fas fa-users",shortcut:"Ctrl+C",keywords:["clients","contacts"],action:()=>n("/customers")},{id:"reports",label:"Reports",icon:"fas fa-chart-bar",shortcut:"Ctrl+R",keywords:["analytics","insights"],action:()=>n("/reports")}]},{label:"Actions",icon:"fas fa-bolt",items:[{id:"create-invoice",label:"Create Invoice",icon:"fas fa-plus",shortcut:"Ctrl+N",keywords:["new","add","invoice"],action:()=>n("/invoicing/create")},{id:"create-customer",label:"Create Customer",icon:"fas fa-user-plus",shortcut:"Ctrl+Shift+C",keywords:["new","add","customer","client"],action:()=>n("/customers/create")},{id:"record-payment",label:"Record Payment",icon:"fas fa-credit-card",shortcut:"Ctrl+P",keywords:["payment","receive","collect"],action:()=>n("/payments/record")},{id:"generate-report",label:"Generate Report",icon:"fas fa-file-export",shortcut:"Ctrl+G",keywords:["export","download","report"],action:()=>n("/reports/generate")}]},{label:"System",icon:"fas fa-cog",items:[{id:"settings",label:"Settings",icon:"fas fa-cog",shortcut:"Ctrl+,",keywords:["preferences","config"],action:()=>n("/settings")},{id:"help",label:"Help & Documentation",icon:"fas fa-question-circle",shortcut:"F1",keywords:["docs","support","guide"],action:()=>U()},{id:"logout",label:"Logout",icon:"fas fa-sign-out-alt",shortcut:"Ctrl+L",keywords:["signout","exit"],action:()=>q()}]}]),H=C(()=>{const e={};return b.value.forEach(t=>{t.items.forEach(a=>{a.shortcut&&(e[a.shortcut.toLowerCase()]=a)})}),e}),I=C(()=>{if(!i.value.trim())return b.value;const e=i.value.toLowerCase(),t=[];return b.value.forEach(a=>{const k=a.items.filter(o=>{const M=o.label.toLowerCase().includes(e),m=o.keywords?.some(w=>w.includes(e));return M||m});k.length>0&&t.push({...a,items:k})}),t}),u=C(()=>{const e=[];return I.value.forEach(t=>{t.items.forEach(a=>{e.push({...a,category:t.label})})}),e}),D=()=>{d.value=!0,i.value="",r.value=0,W(()=>{document.getElementById("command-palette-input")?.focus()})},f=()=>{d.value=!1,i.value="",r.value=0,A("close")},n=e=>{O.visit(e),f()},U=()=>{window.open("/help","_blank"),f()},q=async()=>{try{await fetch("/logout",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")}}),window.location.href="/"}catch(e){e.value="Failed to logout"}f()},x=e=>{e.action&&e.action()},L=()=>{const e=u.value;e[r.value]&&x(e[r.value])},v=e=>{const t=u.value;e==="down"?r.value=Math.min(r.value+1,t.length-1):r.value=Math.max(r.value-1,0)},S=e=>{if(d.value)switch(e.key){case"Escape":e.preventDefault(),f();break;case"ArrowDown":e.preventDefault(),v("down");break;case"ArrowUp":e.preventDefault(),v("up");break;case"Enter":e.preventDefault(),L();break}},K=e=>{if(e.ctrlKey&&e.key==="k"&&(e.preventDefault(),D()),!d.value){const t=z(e),a=H.value[t];a&&(e.preventDefault(),x(a))}},z=e=>{const t=[];return e.ctrlKey&&t.push("ctrl"),e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),t.push(e.key.toLowerCase()),t.join("+")};return J(()=>{document.addEventListener("keydown",K),document.addEventListener("keydown",S)}),Q(()=>{document.removeEventListener("keydown",K),document.removeEventListener("keydown",S)}),F({open:D}),(e,t)=>(l(),N(_(Y),{visible:d.value,"onUpdate:visible":t[3]||(t[3]=a=>d.value=a),modal:"",header:null,style:{width:"640px"},closable:!1,contentStyle:"padding: 0",onHide:f},{default:T(()=>[s("div",se,[s("div",ae,[s("div",oe,[t[4]||(t[4]=s("i",{class:"fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"},null,-1)),X(_(Z),{id:"command-palette-input",modelValue:i.value,"onUpdate:modelValue":t[0]||(t[0]=a=>i.value=a),placeholder:"Type a command or search...",class:"w-full pl-10",size:"large",onKeydown:[h(L,["enter"]),t[1]||(t[1]=h(V(a=>v("down"),["prevent"]),["arrow-down"])),t[2]||(t[2]=h(V(a=>v("up"),["prevent"]),["arrow-up"])),h(f,["escape"])]},null,8,["modelValue"])]),t[5]||(t[5]=s("div",{class:"mt-2 flex items-center justify-between"},[s("span",{class:"text-xs text-gray-500 dark:text-gray-400"}," Type to search, use ↑↓ to navigate, Enter to select "),s("span",{class:"text-xs text-gray-500 dark:text-gray-400"},[g(" Press "),s("kbd",{class:"px-1 py-0.5 bg-gray-100 dark:bg-gray-700 rounded text-xs"},"Esc"),g(" to close ")])],-1))]),E.value?(l(),N(_(ee),{key:0,severity:"error",closable:!1,class:"m-4"},{default:T(()=>[g(y(E.value),1)]),_:1})):P("",!0),s("div",re,[u.value.length===0?(l(),c("div",ne,[t[6]||(t[6]=s("i",{class:"fas fa-search text-3xl text-gray-400 mb-4"},null,-1)),s("p",le,' No commands found for "'+y(i.value)+'" ',1)])):(l(),c("div",ie,[(l(!0),c($,null,j(I.value,(a,k)=>(l(),c("div",{key:a.label},[s("div",ce,y(a.label),1),(l(!0),c($,null,j(a.items,(o,M)=>(l(),c("div",{key:o.id,class:"group"},[s("div",{class:B(["flex items-center px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer transition-colors",{"bg-blue-50 dark:bg-blue-900/20 border-l-4 border-blue-500":u.value.findIndex(m=>m.id===o.id)===r.value}]),onClick:m=>x(o),onMouseenter:m=>r.value=u.value.findIndex(w=>w.id===o.id)},[s("div",ue,[s("i",{class:B([o.icon,"text-gray-600 dark:text-gray-400 w-5"])},null,2),s("span",fe,y(o.label),1)]),s("div",pe,[o.shortcut?(l(),c("span",ye,[s("kbd",me,y(o.shortcut),1)])):P("",!0)])],42,de)]))),128))]))),128))]))]),s("div",ge,[s("div",ve,[t[7]||(t[7]=s("div",{class:"flex items-center space-x-4"},[s("span",{class:"text-xs text-gray-500 dark:text-gray-400"},[g(" Press "),s("kbd",{class:"px-1 py-0.5 bg-gray-100 dark:bg-gray-700 rounded text-xs"},"Ctrl+K"),g(" to open ")])],-1)),s("div",he,y(u.value.length)+" commands available ",1)])])])]),_:1},8,["visible"]))}},De=te(be,[["__scopeId","data-v-d7c132df"]]);export{De as C};
