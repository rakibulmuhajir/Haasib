import{d as ee,s as U,z as se,q as x,x as z,c,a,u as e,h as te,w as o,i as m,j as p,o as l,e as i,b as n,F as w,r as k,t as d}from"./app-B-wLZQl0.js";import{_ as ae}from"./PageShell.vue_vue_type_script_setup_true_lang-CS74Goxj.js";import{_ as oe}from"./EmptyState.vue_vue_type_script_setup_true_lang-CrAvLLsO.js";import{_ as re}from"./ConfirmDialog.vue_vue_type_script_setup_true_lang-Bw68vWWF.js";import{_ as A,a as B}from"./CardContent.vue_vue_type_script_setup_true_lang-f-xi8uWj.js";import{_ as ne}from"./CardDescription.vue_vue_type_script_setup_true_lang-D23jLuEj.js";import{_ as R}from"./CardHeader.vue_vue_type_script_setup_true_lang-Cn7HWfaF.js";import{_ as V}from"./CardTitle.vue_vue_type_script_setup_true_lang-DXA8XANX.js";import{_ as I}from"./index-a73qSWOM.js";import{_ as y}from"./index-D8JUok4n.js";import{_ as K}from"./Input.vue_vue_type_script_setup_true_lang-E2jwtM0f.js";import{_ as h}from"./Label.vue_vue_type_script_setup_true_lang-By03EcqK.js";import{_ as L,a as F,b as G,c as T,d as H}from"./SelectValue.vue_vue_type_script_setup_true_lang-QDn6lJI8.js";import{_ as ie}from"./Separator.vue_vue_type_script_setup_true_lang-8_dGzQCj.js";import{L as le}from"./loader-circle-BSwxCoSE.js";import{B as E}from"./building-2-DLYGST8U.js";import{P as M}from"./plus-C63jdNg7.js";import{G as de}from"./globe-DudBlPOB.js";import{U as ce}from"./users-CkYIFvpU.js";import{C as ue}from"./calendar-B0yi2zLg.js";import{C as me}from"./circle-check-YKnAkXoj.js";import{A as pe}from"./arrow-right-left-CFtESBWp.js";import{T as fe}from"./trash-2-BxVbfljz.js";import"./AppLayout.vue_vue_type_script_setup_true_lang-CAfRB85X.js";import"./AppSidebarHeader.vue_vue_type_script_setup_true_lang-DKxjvTPB.js";import"./useForwardExpose-Ca12vFmR.js";import"./VisuallyHidden-BZkMfMV2.js";import"./PopperContent-BDPRX1DE.js";import"./handleAndDispatchCustomEvent-ChOKVcqp.js";import"./Collection-DN_gmv-a.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./RovingFocusGroup-ChUfgJPy.js";import"./createLucideIcon-CbxkoCx6.js";import"./check-DogY6QNG.js";import"./index-Buy61MQA.js";import"./settings-B8OaYlkV.js";import"./file-text-CFHWSPvd.js";import"./VisuallyHiddenInput-CgZzfdZ2.js";import"./info-_qQ0Rbsf.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-DUuIDTHQ.js";import"./DialogFooter.vue_vue_type_script_setup_true_lang-CLZwVYr3.js";import"./circle-check-big-lFRxU29B.js";import"./ohash.D__AXeF1-C-E83dC9.js";import"./nullish-CHIgUVhi.js";const _e={class:"grid gap-4 sm:grid-cols-2"},ye={class:"space-y-2"},ve={key:0,class:"text-xs text-red-600"},ge={class:"space-y-2"},Ce={key:0,class:"text-xs text-red-600"},be={class:"space-y-2"},xe={key:0,class:"text-xs text-red-600"},we={class:"space-y-2"},he={key:0,class:"text-xs text-red-600"},Se={class:"flex justify-end gap-2"},Ue={key:2,class:"grid gap-4 sm:grid-cols-2 xl:grid-cols-3"},ze={class:"flex items-start justify-between"},ke={class:"truncate"},Ee={class:"text-sm text-zinc-500"},De={class:"space-y-3 text-sm"},Ne={class:"flex items-center justify-between"},$e={class:"flex items-center justify-between"},Ae={class:"flex items-center gap-1.5 text-zinc-500"},Be={class:"font-mono font-medium text-zinc-900"},Re={class:"flex items-center justify-between"},Ve={class:"flex items-center gap-1.5 text-zinc-500"},Ie={class:"font-medium text-zinc-900"},Ke={class:"flex items-center justify-between"},Le={class:"flex items-center gap-1.5 text-zinc-700"},Fe={class:"flex items-center gap-2"},Ns=ee({__name:"Index",props:{companies:{}},setup(j){const D=j,P=U(()=>[{title:"Home",href:"/dashboard"},{title:"Companies"}]),J=se(),g=U(()=>J.props.auth?.currentCompany?.slug||null),f=x(""),_=x(!1),C=x(!1),v=x(null),r=z({name:"",industry:"",country:"",base_currency:"USD"}),O={US:"USD",CA:"CAD",GB:"GBP",UK:"GBP",AU:"AUD",NZ:"NZD",EU:"EUR",FR:"EUR",DE:"EUR",ES:"EUR",IT:"EUR",NL:"EUR",BE:"EUR",CH:"CHF",JP:"JPY",CN:"CNY",SG:"SGD",HK:"HKD",AE:"AED",SA:"SAR",IN:"INR",BR:"BRL",MX:"MXN",SE:"SEK",NO:"NOK",DK:"DKK"},Z=[{code:"US",name:"United States"},{code:"AE",name:"United Arab Emirates"},{code:"AU",name:"Australia"},{code:"BE",name:"Belgium"},{code:"BR",name:"Brazil"},{code:"CA",name:"Canada"},{code:"CH",name:"Switzerland"},{code:"CN",name:"China"},{code:"DE",name:"Germany"},{code:"DK",name:"Denmark"},{code:"ES",name:"Spain"},{code:"EU",name:"European Union"},{code:"FR",name:"France"},{code:"GB",name:"United Kingdom"},{code:"HK",name:"Hong Kong"},{code:"IN",name:"India"},{code:"IT",name:"Italy"},{code:"JP",name:"Japan"},{code:"MX",name:"Mexico"},{code:"NL",name:"Netherlands"},{code:"NO",name:"Norway"},{code:"NZ",name:"New Zealand"},{code:"SA",name:"Saudi Arabia"},{code:"SE",name:"Sweden"},{code:"SG",name:"Singapore"}],X=["AI","Education","Energy","Healthcare","Manufacturing","Media","Medical","Research","Retail","Technology","Transportation"],S=z({slug:""}),N=z({}),$=U(()=>{if(!f.value)return D.companies;const u=f.value.toLowerCase();return D.companies.filter(s=>s.name.toLowerCase().includes(u)||s.slug.toLowerCase().includes(u)||s.role.toLowerCase().includes(u))});function q(){r.base_currency=r.base_currency?.toUpperCase?.()??"",r.post("/companies",{onSuccess:()=>{r.reset(),_.value=!1}})}function Y(u){S.slug=u,S.post("/companies/switch",{preserveScroll:!0})}function Q(u){v.value=u,C.value=!0}function W(){v.value&&N.delete(`/companies/${v.value.id}`,{onSuccess:()=>{C.value=!1,v.value=null}})}return(u,s)=>(l(),c(w,null,[a(e(te),{title:"Companies"}),a(ae,{title:"Companies",description:"Manage organizations you have access to",icon:e(E),breadcrumbs:P.value,searchable:"",search:f.value,"onUpdate:search":s[10]||(s[10]=t=>f.value=t),"search-placeholder":"Search companies by name, slug, or role..."},{actions:o(()=>[a(e(y),{onClick:s[0]||(s[0]=t=>_.value=!_.value),size:"sm"},{default:o(()=>[a(e(M),{class:"mr-2 h-4 w-4"}),s[11]||(s[11]=i(" Create Company ",-1))]),_:1})]),default:o(()=>[_.value?(l(),m(e(A),{key:0,class:"mb-6 border-zinc-200 bg-white"},{default:o(()=>[a(e(R),null,{default:o(()=>[a(e(V),null,{default:o(()=>[...s[12]||(s[12]=[i("Create New Company",-1)])]),_:1}),a(e(ne),{class:"text-zinc-500"},{default:o(()=>[...s[13]||(s[13]=[i(" Add a new organization to your account ",-1)])]),_:1})]),_:1}),a(e(B),{class:"space-y-4"},{default:o(()=>[n("div",_e,[n("div",ye,[a(e(h),{for:"country"},{default:o(()=>[...s[14]||(s[14]=[i("Country",-1)])]),_:1}),a(e(L),{modelValue:e(r).country,"onUpdate:modelValue":[s[1]||(s[1]=t=>e(r).country=t),s[2]||(s[2]=t=>{e(r).country=t;const b=O[t];b&&(e(r).base_currency=b)})]},{default:o(()=>[a(e(F),{id:"country",class:"border-zinc-300"},{default:o(()=>[a(e(G),{placeholder:"Select country"})]),_:1}),a(e(T),null,{default:o(()=>[(l(),c(w,null,k(Z,t=>a(e(H),{key:t.code,value:t.code},{default:o(()=>[i(d(t.name)+" ("+d(t.code)+") ",1)]),_:2},1032,["value"])),64))]),_:1})]),_:1},8,["modelValue"]),e(r).errors.country?(l(),c("p",ve,d(e(r).errors.country),1)):p("",!0)]),n("div",ge,[a(e(h),{for:"name"},{default:o(()=>[...s[15]||(s[15]=[i("Company Name",-1)])]),_:1}),a(e(K),{id:"name",modelValue:e(r).name,"onUpdate:modelValue":s[3]||(s[3]=t=>e(r).name=t),placeholder:"Acme Inc",class:"border-zinc-300"},null,8,["modelValue"]),e(r).errors.name?(l(),c("p",Ce,d(e(r).errors.name),1)):p("",!0)]),n("div",be,[a(e(h),{for:"industry"},{default:o(()=>[...s[16]||(s[16]=[i("Industry",-1)])]),_:1}),a(e(L),{modelValue:e(r).industry,"onUpdate:modelValue":s[4]||(s[4]=t=>e(r).industry=t)},{default:o(()=>[a(e(F),{id:"industry",class:"border-zinc-300"},{default:o(()=>[a(e(G),{placeholder:"Select industry"})]),_:1}),a(e(T),null,{default:o(()=>[(l(),c(w,null,k(X,t=>a(e(H),{key:t,value:t},{default:o(()=>[i(d(t),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1},8,["modelValue"]),e(r).errors.industry?(l(),c("p",xe,d(e(r).errors.industry),1)):p("",!0)]),n("div",we,[a(e(h),{for:"base_currency"},{default:o(()=>[...s[17]||(s[17]=[i("Base Currency",-1)])]),_:1}),a(e(K),{id:"base_currency",modelValue:e(r).base_currency,"onUpdate:modelValue":[s[5]||(s[5]=t=>e(r).base_currency=t),s[6]||(s[6]=t=>e(r).base_currency=String(t??"").toUpperCase())],placeholder:"USD",maxlength:"3",class:"border-zinc-300 uppercase"},null,8,["modelValue"]),e(r).errors.base_currency?(l(),c("p",he,d(e(r).errors.base_currency),1)):p("",!0)])]),n("div",Se,[a(e(y),{variant:"ghost",onClick:s[7]||(s[7]=t=>_.value=!1),disabled:e(r).processing},{default:o(()=>[...s[18]||(s[18]=[i(" Cancel ",-1)])]),_:1},8,["disabled"]),a(e(y),{onClick:q,disabled:e(r).processing},{default:o(()=>[e(r).processing?(l(),m(e(le),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):p("",!0),s[19]||(s[19]=i(" Create Company ",-1))]),_:1},8,["disabled"])])]),_:1})]),_:1})):p("",!0),$.value.length===0?(l(),m(oe,{key:1,icon:e(E),title:"No companies found",description:f.value?"Try adjusting your search terms":"Get started by creating your first company"},{actions:o(()=>[f.value?p("",!0):(l(),m(e(y),{key:0,onClick:s[8]||(s[8]=t=>_.value=!0),size:"sm"},{default:o(()=>[a(e(M),{class:"mr-2 h-4 w-4"}),s[20]||(s[20]=i(" Create Company ",-1))]),_:1}))]),_:1},8,["icon","description"])):(l(),c("div",Ue,[(l(!0),c(w,null,k($.value,t=>(l(),m(e(A),{key:t.id,class:"border-zinc-200 bg-white transition-all hover:border-zinc-300 hover:shadow-md"},{default:o(()=>[a(e(R),{class:"space-y-2 pb-3"},{default:o(()=>[n("div",ze,[a(e(V),{class:"flex items-center gap-2 text-zinc-900"},{default:o(()=>[a(e(E),{class:"h-4 w-4 text-zinc-500"}),n("span",ke,d(t.name),1)]),_:2},1024),a(e(I),{variant:t.is_active?"default":"secondary",class:"shrink-0"},{default:o(()=>[i(d(t.is_active?"Active":"Inactive"),1)]),_:2},1032,["variant"])]),n("p",Ee,d(t.slug),1)]),_:2},1024),a(e(B),{class:"space-y-4"},{default:o(()=>[n("div",De,[n("div",Ne,[s[21]||(s[21]=n("span",{class:"text-zinc-500"},"Role",-1)),a(e(I),{variant:"outline",class:"capitalize"},{default:o(()=>[i(d(t.role),1)]),_:2},1024)]),n("div",$e,[n("span",Ae,[a(e(de),{class:"h-3.5 w-3.5"}),s[22]||(s[22]=i(" Currency ",-1))]),n("span",Be,d(t.base_currency),1)]),n("div",Re,[n("span",Ve,[a(e(ce),{class:"h-3.5 w-3.5"}),s[23]||(s[23]=i(" Users ",-1))]),n("span",Ie,d(t.user_count||0),1)]),n("div",Ke,[s[24]||(s[24]=n("span",{class:"text-zinc-500"},"Created",-1)),n("div",Le,[a(e(ue),{class:"h-3.5 w-3.5"}),n("span",null,d(new Date(t.created_at).toLocaleDateString()),1)])])]),a(e(ie),{class:"bg-zinc-100"}),n("div",Fe,[a(e(y),{size:"sm",variant:g.value===t.slug?"default":"secondary",disabled:e(S).processing||g.value===t.slug,onClick:b=>Y(t.slug),class:"flex-1"},{default:o(()=>[g.value===t.slug?(l(),m(e(me),{key:0,class:"mr-2 h-3.5 w-3.5"})):(l(),m(e(pe),{key:1,class:"mr-2 h-3.5 w-3.5"})),i(" "+d(g.value===t.slug?"Active":"Switch"),1)]),_:2},1032,["variant","disabled","onClick"]),a(e(y),{size:"sm",variant:"ghost",onClick:b=>Q(t),disabled:t.role!=="owner",class:"text-red-600 hover:text-red-700 hover:bg-red-50","aria-label":"Delete company"},{default:o(()=>[a(e(fe),{class:"h-3.5 w-3.5"})]),_:1},8,["onClick","disabled"])])]),_:2},1024)]),_:2},1024))),128))])),a(re,{open:C.value,"onUpdate:open":s[9]||(s[9]=t=>C.value=t),title:"Delete Company",description:`Are you sure you want to delete ${v.value?.name}? This action cannot be undone and will permanently delete all associated data.`,"confirm-text":"Delete Company",variant:"destructive",loading:e(N).processing,onConfirm:W},null,8,["open","description","loading"])]),_:1},8,["icon","breadcrumbs","search"])],64))}});export{Ns as default};
