import{d as E,q as S,s as P,c as V,a as t,u as e,h as D,w as o,b as y,i as g,N,o as c,f as n,e as i,t as A,F as B}from"./app-B-wLZQl0.js";import{S as U,_ as T}from"./PageShell.vue_vue_type_script_setup_true_lang-CS74Goxj.js";import{_ as F}from"./EmptyState.vue_vue_type_script_setup_true_lang-CrAvLLsO.js";import{_ as I}from"./DataTable.vue_vue_type_script_setup_true_lang-BQW8AXQk.js";import{_ as K}from"./index-a73qSWOM.js";import{_ as u}from"./index-D8JUok4n.js";import{_ as R}from"./Input.vue_vue_type_script_setup_true_lang-E2jwtM0f.js";import{b as q,c as z,d as j,e as d}from"./AppSidebarHeader.vue_vue_type_script_setup_true_lang-DKxjvTPB.js";import{U as G}from"./users-CkYIFvpU.js";import{P as _}from"./plus-C63jdNg7.js";import{E as H}from"./ellipsis-DRk1q4ie.js";import{E as J}from"./eye-pMepw5BK.js";import{P as L}from"./pencil-R0Fiz8Cs.js";import{T as M}from"./trash-2-BxVbfljz.js";import"./AppLayout.vue_vue_type_script_setup_true_lang-CAfRB85X.js";import"./loader-circle-BSwxCoSE.js";import"./createLucideIcon-CbxkoCx6.js";import"./info-_qQ0Rbsf.js";import"./circle-check-YKnAkXoj.js";import"./useForwardExpose-Ca12vFmR.js";import"./VisuallyHidden-BZkMfMV2.js";import"./PopperContent-BDPRX1DE.js";import"./handleAndDispatchCustomEvent-ChOKVcqp.js";import"./Collection-DN_gmv-a.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./RovingFocusGroup-ChUfgJPy.js";import"./building-2-DLYGST8U.js";import"./check-DogY6QNG.js";import"./index-Buy61MQA.js";import"./settings-B8OaYlkV.js";import"./file-text-CFHWSPvd.js";import"./calendar-B0yi2zLg.js";import"./Label.vue_vue_type_script_setup_true_lang-By03EcqK.js";import"./VisuallyHiddenInput-CgZzfdZ2.js";const O={class:"mb-6 flex flex-wrap items-center gap-4"},Q={class:"relative flex-1 min-w-[200px] max-w-sm"},De=E({__name:"Index",props:{company:{},employees:{},filters:{}},setup(l){const m=l,p=S(m.filters.search),$=[{title:"Dashboard",href:`/${m.company.slug}`},{title:"Employees",href:`/${m.company.slug}/employees`}],k=()=>{n.get(`/${m.company.slug}/employees`,{search:p.value},{preserveState:!0})},v=[{key:"employee_number",label:"ID"},{key:"name",label:"Name"},{key:"department",label:"Department"},{key:"position",label:"Position"},{key:"status",label:"Status"},{key:"_actions",label:"",sortable:!1}],b=P(()=>m.employees.data.map(s=>({id:s.id,employee_number:s.employee_number,name:`${s.first_name} ${s.last_name}`,department:s.department??"-",position:s.position??"-",status:s.employment_status,_raw:s}))),w=s=>{n.get(`/${m.company.slug}/employees/${s.id}`)},h=s=>{confirm("Are you sure you want to delete this employee?")&&n.delete(`/${m.company.slug}/employees/${s}`)},C=s=>({active:"success",on_leave:"outline",suspended:"destructive",terminated:"secondary"})[s]||"secondary",x=s=>s.replace("_"," ").replace(/\b\w/g,a=>a.toUpperCase());return(s,a)=>(c(),V(B,null,[t(e(D),{title:"Employees"}),t(T,{title:"Employees",breadcrumbs:$},{actions:o(()=>[t(e(u),{onClick:a[0]||(a[0]=r=>e(n).get(`/${l.company.slug}/employees/create`))},{default:o(()=>[t(e(_),{class:"mr-2 h-4 w-4"}),a[3]||(a[3]=i(" Add Employee ",-1))]),_:1})]),default:o(()=>[y("div",O,[y("div",Q,[t(e(U),{class:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),t(e(R),{modelValue:p.value,"onUpdate:modelValue":a[1]||(a[1]=r=>p.value=r),placeholder:"Search employees...",class:"pl-9",onKeyup:N(k,["enter"])},null,8,["modelValue"])])]),l.employees.data.length===0?(c(),g(F,{key:0,title:"No employees yet",description:"Add employees to manage your workforce and process payroll.",icon:e(G)},{default:o(()=>[t(e(u),{onClick:a[2]||(a[2]=r=>e(n).get(`/${l.company.slug}/employees/create`))},{default:o(()=>[t(e(_),{class:"mr-2 h-4 w-4"}),a[4]||(a[4]=i(" Add Employee ",-1))]),_:1})]),_:1},8,["icon"])):(c(),g(I,{key:1,columns:v,data:b.value,pagination:{currentPage:l.employees.current_page,lastPage:l.employees.last_page,perPage:l.employees.per_page,total:l.employees.total},onRowClick:w},{"cell-status":o(({row:r})=>[t(e(K),{variant:C(r._raw.employment_status)},{default:o(()=>[i(A(x(r.status)),1)]),_:2},1032,["variant"])]),"cell-_actions":o(({row:r})=>[t(e(q),null,{default:o(()=>[t(e(z),{"as-child":""},{default:o(()=>[t(e(u),{variant:"ghost",size:"icon",class:"h-8 w-8"},{default:o(()=>[t(e(H),{class:"h-4 w-4"})]),_:1})]),_:1}),t(e(j),{align:"end"},{default:o(()=>[t(e(d),{onClick:f=>e(n).get(`/${l.company.slug}/employees/${r.id}`)},{default:o(()=>[t(e(J),{class:"mr-2 h-4 w-4"}),a[5]||(a[5]=i(" View ",-1))]),_:1},8,["onClick"]),t(e(d),{onClick:f=>e(n).get(`/${l.company.slug}/employees/${r.id}/edit`)},{default:o(()=>[t(e(L),{class:"mr-2 h-4 w-4"}),a[6]||(a[6]=i(" Edit ",-1))]),_:1},8,["onClick"]),t(e(d),{class:"text-destructive",onClick:f=>h(r.id)},{default:o(()=>[t(e(M),{class:"mr-2 h-4 w-4"}),a[7]||(a[7]=i(" Delete ",-1))]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:1},8,["data","pagination"]))]),_:1})],64))}});export{De as default};
