import{a as k,_ as S}from"./CardContent.vue_vue_type_script_setup_true_lang-f-xi8uWj.js";import{_ as C}from"./CardHeader.vue_vue_type_script_setup_true_lang-Cn7HWfaF.js";import{_ as V}from"./index-a73qSWOM.js";import{c as A,a as N,b as d,_ as f}from"./TabsTrigger.vue_vue_type_script_setup_true_lang-CTCCy_9A.js";import{_ as T}from"./ModeMatch.vue_vue_type_script_setup_true_lang-BI2eXPcM.js";import{_ as D}from"./ModeCreate.vue_vue_type_script_setup_true_lang-xx6PjqY8.js";import{_ as U}from"./ModeTransfer.vue_vue_type_script_setup_true_lang-CsEBVvsF.js";import{_ as B}from"./ModePark.vue_vue_type_script_setup_true_lang-Cfvj0ZD2.js";import{d as F,s as v,q as M,i as b,w as s,a,u as e,b as o,t as c,j,B as $,o as p,e as u}from"./app-B-wLZQl0.js";const I={class:"flex justify-between items-start"},P={class:"space-y-1"},q={class:"flex items-center gap-2 text-sm text-muted-foreground"},z={class:"font-medium text-foreground"},E={class:"font-semibold text-lg leading-tight"},G={class:"text-right"},H={class:"bg-muted/30 p-4 rounded-lg border"},tt=F({__name:"TransactionCard",props:{transaction:{},expenseAccounts:{},incomeAccounts:{},bankAccounts:{}},emits:["resolve"],setup(n,{emit:J}){const r=n,g=v(()=>Number(r.transaction.amount)),m=v(()=>g.value<0),x=v(()=>r.transaction.bank_account?.currency||"USD"),y=v(()=>r.transaction.suggestions?.match?.length?"match":"create"),_=M(y.value),w=i=>new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(new Date(i)),h=i=>new Intl.NumberFormat("en-US",{style:"currency",currency:x.value}).format(Math.abs(i));return(i,t)=>(p(),b(e(S),{class:$(["mb-4 shadow-sm hover:shadow-md transition-shadow duration-200 border-l-4",[m.value?"border-l-red-500":"border-l-green-500"]])},{default:s(()=>[a(e(C),{class:"pb-2"},{default:s(()=>[o("div",I,[o("div",P,[o("div",q,[o("span",null,c(w(r.transaction.transaction_date)),1),t[5]||(t[5]=o("span",null,"â€¢",-1)),o("span",z,c(r.transaction.payee_name||"Unknown Payee"),1)]),o("h3",E,c(r.transaction.description),1)]),o("div",G,[o("div",{class:$(["text-lg font-bold",[m.value?"text-red-600":"text-green-600"]])},c(m.value?"-":"+")+c(h(g.value)),3),r.transaction.suggestions?.match?.length?(p(),b(e(V),{key:0,variant:"outline",class:"mt-1 text-xs"},{default:s(()=>[...t[6]||(t[6]=[u(" Match Found ",-1)])]),_:1})):j("",!0)])])]),_:1}),a(e(k),null,{default:s(()=>[a(e(A),{modelValue:_.value,"onUpdate:modelValue":t[4]||(t[4]=l=>_.value=l),class:"w-full"},{default:s(()=>[a(e(N),{class:"grid w-full grid-cols-4 mb-4"},{default:s(()=>[a(e(d),{value:"match",disabled:!r.transaction.suggestions?.match?.length},{default:s(()=>[...t[7]||(t[7]=[u("Match",-1)])]),_:1},8,["disabled"]),a(e(d),{value:"create"},{default:s(()=>[...t[8]||(t[8]=[u("Create",-1)])]),_:1}),a(e(d),{value:"transfer"},{default:s(()=>[...t[9]||(t[9]=[u("Transfer",-1)])]),_:1}),a(e(d),{value:"park"},{default:s(()=>[...t[10]||(t[10]=[u("Park",-1)])]),_:1})]),_:1}),o("div",H,[a(e(f),{value:"match",class:"mt-0"},{default:s(()=>[a(T,{transaction:n.transaction,matches:n.transaction.suggestions?.match,onSuccess:t[0]||(t[0]=l=>i.$emit("resolve"))},null,8,["transaction","matches"])]),_:1}),a(e(f),{value:"create",class:"mt-0"},{default:s(()=>[a(D,{transaction:n.transaction,accounts:m.value?n.expenseAccounts:n.incomeAccounts,suggestion:n.transaction.suggestions?.create,onSuccess:t[1]||(t[1]=l=>i.$emit("resolve"))},null,8,["transaction","accounts","suggestion"])]),_:1}),a(e(f),{value:"transfer",class:"mt-0"},{default:s(()=>[a(U,{transaction:n.transaction,accounts:n.bankAccounts,onSuccess:t[2]||(t[2]=l=>i.$emit("resolve"))},null,8,["transaction","accounts"])]),_:1}),a(e(f),{value:"park",class:"mt-0"},{default:s(()=>[a(B,{transaction:n.transaction,onSuccess:t[3]||(t[3]=l=>i.$emit("resolve"))},null,8,["transaction"])]),_:1})])]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["class"]))}});export{tt as _};
