import{d as P,s as b,q as D,K as S,c as u,a as e,u as t,h as U,w as s,b as o,e as d,t as a,o as i,F as k,r as R,f as w}from"./app-B-wLZQl0.js";import{_ as F}from"./PageShell.vue_vue_type_script_setup_true_lang-CS74Goxj.js";import{_ as m,a as _}from"./CardContent.vue_vue_type_script_setup_true_lang-f-xi8uWj.js";import{_ as p}from"./CardHeader.vue_vue_type_script_setup_true_lang-Cn7HWfaF.js";import{_ as f}from"./CardTitle.vue_vue_type_script_setup_true_lang-DXA8XANX.js";import{_ as I}from"./index-D8JUok4n.js";import{_ as A}from"./Input.vue_vue_type_script_setup_true_lang-E2jwtM0f.js";import{_ as B}from"./Label.vue_vue_type_script_setup_true_lang-By03EcqK.js";import{_ as C}from"./Separator.vue_vue_type_script_setup_true_lang-8_dGzQCj.js";import{u as O}from"./AppSidebarHeader.vue_vue_type_script_setup_true_lang-DKxjvTPB.js";import{_ as v}from"./MoneyText.vue_vue_type_script_setup_true_lang-FCkTQzTI.js";import"./AppLayout.vue_vue_type_script_setup_true_lang-CAfRB85X.js";import"./loader-circle-BSwxCoSE.js";import"./createLucideIcon-CbxkoCx6.js";import"./info-_qQ0Rbsf.js";import"./circle-check-YKnAkXoj.js";import"./useForwardExpose-Ca12vFmR.js";import"./index-a73qSWOM.js";import"./VisuallyHidden-BZkMfMV2.js";import"./PopperContent-BDPRX1DE.js";import"./handleAndDispatchCustomEvent-ChOKVcqp.js";import"./Collection-DN_gmv-a.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./RovingFocusGroup-ChUfgJPy.js";import"./building-2-DLYGST8U.js";import"./plus-C63jdNg7.js";import"./check-DogY6QNG.js";import"./index-Buy61MQA.js";import"./settings-B8OaYlkV.js";import"./file-text-CFHWSPvd.js";import"./users-CkYIFvpU.js";import"./calendar-B0yi2zLg.js";import"./VisuallyHiddenInput-CgZzfdZ2.js";const q={class:"mx-auto w-full max-w-5xl space-y-6"},E={class:"space-y-2 md:col-span-2"},T={class:"space-y-2 md:col-span-2"},j={class:"flex items-end"},z={class:"grid gap-4 md:grid-cols-3"},G={class:"grid grid-cols-12 gap-3 text-sm font-medium text-muted-foreground"},H={class:"col-span-3"},J={class:"col-span-7"},M={class:"col-span-2 text-right"},Q={key:0,class:"py-6 text-sm text-muted-foreground"},W={key:1,class:"space-y-2"},X={class:"col-span-3 font-mono text-muted-foreground"},Y={class:"col-span-7"},Z={class:"col-span-2 text-right tabular-nums"},tt={class:"grid grid-cols-12 gap-3 text-sm font-medium text-muted-foreground"},et={class:"col-span-3"},st={class:"col-span-7"},at={class:"col-span-2 text-right"},lt={key:0,class:"py-6 text-sm text-muted-foreground"},ot={key:1,class:"space-y-2"},nt={class:"col-span-3 font-mono text-muted-foreground"},ct={class:"col-span-7"},rt={class:"col-span-2 text-right tabular-nums"},Tt=P({__name:"ProfitLoss",props:{company:{},filters:{},report:{}},setup(c){const r=c,{t:l}=O(),K=b(()=>[{title:"Dashboard",href:"/dashboard"},{title:r.company.name,href:`/${r.company.slug}`},{title:l("profitAndLoss")}]),g=D(r.filters.start),h=D(r.filters.end);S(()=>r.filters,$=>{g.value=$.start,h.value=$.end});const y=b(()=>r.company.base_currency==="PKR"?"en-PK":"en-US").value,N=()=>{w.get(`/${r.company.slug}/reports/profit-loss`,{start:g.value,end:h.value},{preserveScroll:!0})},V=b(()=>r.report.income),L=b(()=>r.report.expenses);return($,x)=>(i(),u(k,null,[e(t(U),{title:t(l)("profitAndLoss")},null,8,["title"]),e(F,{title:t(l)("profitAndLoss"),breadcrumbs:K.value},{default:s(()=>[o("div",q,[e(t(m),null,{default:s(()=>[e(t(p),null,{default:s(()=>[e(t(f),null,{default:s(()=>[d(a(t(l)("dateRange")),1)]),_:1})]),_:1}),e(t(_),{class:"grid gap-4 md:grid-cols-5"},{default:s(()=>[o("div",E,[e(t(B),null,{default:s(()=>[d(a(t(l)("startDate")),1)]),_:1}),e(t(A),{modelValue:g.value,"onUpdate:modelValue":x[0]||(x[0]=n=>g.value=n),type:"date"},null,8,["modelValue"])]),o("div",T,[e(t(B),null,{default:s(()=>[d(a(t(l)("endDate")),1)]),_:1}),e(t(A),{modelValue:h.value,"onUpdate:modelValue":x[1]||(x[1]=n=>h.value=n),type:"date"},null,8,["modelValue"])]),o("div",j,[e(t(I),{class:"w-full",onClick:N},{default:s(()=>[d(a(t(l)("apply")),1)]),_:1})])]),_:1})]),_:1}),o("div",z,[e(t(m),null,{default:s(()=>[e(t(p),null,{default:s(()=>[e(t(f),null,{default:s(()=>[d(a(t(l)("moneyIn")),1)]),_:1})]),_:1}),e(t(_),{class:"text-2xl font-semibold tabular-nums"},{default:s(()=>[e(v,{amount:c.report.totals.income,currency:c.company.base_currency,locale:t(y)},null,8,["amount","currency","locale"])]),_:1})]),_:1}),e(t(m),null,{default:s(()=>[e(t(p),null,{default:s(()=>[e(t(f),null,{default:s(()=>[d(a(t(l)("moneyOut")),1)]),_:1})]),_:1}),e(t(_),{class:"text-2xl font-semibold tabular-nums"},{default:s(()=>[e(v,{amount:c.report.totals.expenses,currency:c.company.base_currency,locale:t(y)},null,8,["amount","currency","locale"])]),_:1})]),_:1}),e(t(m),null,{default:s(()=>[e(t(p),null,{default:s(()=>[e(t(f),null,{default:s(()=>[d(a(t(l)("profit")),1)]),_:1})]),_:1}),e(t(_),{class:"text-2xl font-semibold tabular-nums"},{default:s(()=>[e(v,{amount:c.report.totals.profit,currency:c.company.base_currency,locale:t(y)},null,8,["amount","currency","locale"])]),_:1})]),_:1})]),e(t(m),null,{default:s(()=>[e(t(p),null,{default:s(()=>[e(t(f),null,{default:s(()=>[d(a(t(l)("moneyIn")),1)]),_:1})]),_:1}),e(t(_),null,{default:s(()=>[o("div",G,[o("div",H,a(t(l)("category")),1),o("div",J,a(t(l)("description")),1),o("div",M,a(t(l)("amount")),1)]),e(t(C),{class:"my-3"}),V.value.length===0?(i(),u("div",Q,a(t(l)("noReportData")),1)):(i(),u("div",W,[(i(!0),u(k,null,R(V.value,n=>(i(),u("div",{key:n.id,class:"grid grid-cols-12 gap-3 text-sm"},[o("div",X,a(n.code),1),o("div",Y,a(n.name),1),o("div",Z,[e(v,{amount:n.net,currency:c.company.base_currency,locale:t(y)},null,8,["amount","currency","locale"])])]))),128))]))]),_:1})]),_:1}),e(t(m),null,{default:s(()=>[e(t(p),null,{default:s(()=>[e(t(f),null,{default:s(()=>[d(a(t(l)("moneyOut")),1)]),_:1})]),_:1}),e(t(_),null,{default:s(()=>[o("div",tt,[o("div",et,a(t(l)("category")),1),o("div",st,a(t(l)("description")),1),o("div",at,a(t(l)("amount")),1)]),e(t(C),{class:"my-3"}),L.value.length===0?(i(),u("div",lt,a(t(l)("noReportData")),1)):(i(),u("div",ot,[(i(!0),u(k,null,R(L.value,n=>(i(),u("div",{key:n.id,class:"grid grid-cols-12 gap-3 text-sm"},[o("div",nt,a(n.code),1),o("div",ct,a(n.name),1),o("div",rt,[e(v,{amount:n.net,currency:c.company.base_currency,locale:t(y)},null,8,["amount","currency","locale"])])]))),128))]))]),_:1})]),_:1})])]),_:1},8,["title","breadcrumbs"])],64))}});export{Tt as default};
