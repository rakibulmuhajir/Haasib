import{d as q,q as g,s as K,c as w,a,u as e,h as R,w as l,b,i as _,N as z,e as i,o as d,F as C,r as H,t as x,f as m}from"./app-B-wLZQl0.js";import{S as L,_ as O}from"./PageShell.vue_vue_type_script_setup_true_lang-CS74Goxj.js";import{_ as Q}from"./EmptyState.vue_vue_type_script_setup_true_lang-CrAvLLsO.js";import{_ as j}from"./DataTable.vue_vue_type_script_setup_true_lang-BQW8AXQk.js";import{_ as G}from"./index-a73qSWOM.js";import{_ as v}from"./index-D8JUok4n.js";import{_ as J}from"./Input.vue_vue_type_script_setup_true_lang-E2jwtM0f.js";import{_ as V,a as P,b as S,c as I,d as u}from"./SelectValue.vue_vue_type_script_setup_true_lang-QDn6lJI8.js";import{P as M,b as W,c as X,d as Y,e as $}from"./AppSidebarHeader.vue_vue_type_script_setup_true_lang-DKxjvTPB.js";import{P as N}from"./plus-C63jdNg7.js";import{E as Z}from"./ellipsis-DRk1q4ie.js";import{E as ee}from"./eye-pMepw5BK.js";import{P as te}from"./pencil-R0Fiz8Cs.js";import{T as ae}from"./trash-2-BxVbfljz.js";import"./AppLayout.vue_vue_type_script_setup_true_lang-CAfRB85X.js";import"./loader-circle-BSwxCoSE.js";import"./createLucideIcon-CbxkoCx6.js";import"./info-_qQ0Rbsf.js";import"./circle-check-YKnAkXoj.js";import"./useForwardExpose-Ca12vFmR.js";import"./VisuallyHidden-BZkMfMV2.js";import"./Collection-DN_gmv-a.js";import"./PopperContent-BDPRX1DE.js";import"./handleAndDispatchCustomEvent-ChOKVcqp.js";import"./check-DogY6QNG.js";import"./ohash.D__AXeF1-C-E83dC9.js";import"./nullish-CHIgUVhi.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./RovingFocusGroup-ChUfgJPy.js";import"./building-2-DLYGST8U.js";import"./index-Buy61MQA.js";import"./settings-B8OaYlkV.js";import"./file-text-CFHWSPvd.js";import"./users-CkYIFvpU.js";import"./calendar-B0yi2zLg.js";import"./Label.vue_vue_type_script_setup_true_lang-By03EcqK.js";import"./VisuallyHiddenInput-CgZzfdZ2.js";const le={class:"mb-6 flex flex-wrap items-center gap-4"},se={class:"relative flex-1 min-w-[200px] max-w-sm"},He=q({__name:"Index",props:{company:{},items:{},categories:{},filters:{}},setup(o){const n=o,p=g(n.filters.search),f=g(n.filters.category_id||"all"),c=g(n.filters.item_type||"all"),D=[{title:"Dashboard",href:`/${n.company.slug}`},{title:"Items",href:`/${n.company.slug}/items`}],y=()=>{m.get(`/${n.company.slug}/items`,{search:p.value,category_id:f.value==="all"?"":f.value,item_type:c.value==="all"?"":c.value},{preserveState:!0})},T=s=>{switch(s){case"product":return"default";case"service":return"secondary";case"non_inventory":return"outline";case"bundle":return"default";default:return"secondary"}},A=(s,t)=>new Intl.NumberFormat("en-US",{style:"currency",currency:t||"USD"}).format(s),U=s=>new Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:3}).format(s),B=[{key:"sku",label:"SKU"},{key:"name",label:"Name"},{key:"item_type",label:"Type"},{key:"category",label:"Category"},{key:"selling_price",label:"Price"},{key:"total_quantity",label:"On Hand"},{key:"_actions",label:"",sortable:!1}],E=K(()=>n.items.data.map(s=>({id:s.id,sku:s.sku,name:s.name,item_type:s.item_type,category:s.category?.name??"-",selling_price:A(s.selling_price,s.currency),total_quantity:U(s.total_quantity),_actions:s.id,_raw:s}))),F=s=>{m.get(`/${n.company.slug}/items/${s.id}`)},h=s=>{confirm("Are you sure you want to delete this item?")&&m.delete(`/${n.company.slug}/items/${s}`)};return(s,t)=>(d(),w(C,null,[a(e(R),{title:"Items"}),a(O,{title:"Items",breadcrumbs:D},{actions:l(()=>[a(e(v),{onClick:t[0]||(t[0]=r=>e(m).get(`/${o.company.slug}/items/create`))},{default:l(()=>[a(e(N),{class:"mr-2 h-4 w-4"}),t[5]||(t[5]=i(" Add Item ",-1))]),_:1})]),default:l(()=>[b("div",le,[b("div",se,[a(e(L),{class:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a(e(J),{modelValue:p.value,"onUpdate:modelValue":t[1]||(t[1]=r=>p.value=r),placeholder:"Search items...",class:"pl-9",onKeyup:z(y,["enter"])},null,8,["modelValue"])]),a(e(V),{modelValue:f.value,"onUpdate:modelValue":[t[2]||(t[2]=r=>f.value=r),y]},{default:l(()=>[a(e(P),{class:"w-[180px]"},{default:l(()=>[a(e(S),{placeholder:"All Categories"})]),_:1}),a(e(I),null,{default:l(()=>[a(e(u),{value:"all"},{default:l(()=>[...t[6]||(t[6]=[i("All Categories",-1)])]),_:1}),(d(!0),w(C,null,H(o.categories,r=>(d(),_(e(u),{key:r.id,value:r.id},{default:l(()=>[i(x(r.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),a(e(V),{modelValue:c.value,"onUpdate:modelValue":[t[3]||(t[3]=r=>c.value=r),y]},{default:l(()=>[a(e(P),{class:"w-[150px]"},{default:l(()=>[a(e(S),{placeholder:"All Types"})]),_:1}),a(e(I),null,{default:l(()=>[a(e(u),{value:"all"},{default:l(()=>[...t[7]||(t[7]=[i("All Types",-1)])]),_:1}),a(e(u),{value:"product"},{default:l(()=>[...t[8]||(t[8]=[i("Product",-1)])]),_:1}),a(e(u),{value:"service"},{default:l(()=>[...t[9]||(t[9]=[i("Service",-1)])]),_:1}),a(e(u),{value:"non_inventory"},{default:l(()=>[...t[10]||(t[10]=[i("Non-Inventory",-1)])]),_:1}),a(e(u),{value:"bundle"},{default:l(()=>[...t[11]||(t[11]=[i("Bundle",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),o.items.data.length===0?(d(),_(Q,{key:0,title:"No items yet",description:"Create your first item to start tracking inventory.",icon:e(M)},{default:l(()=>[a(e(v),{onClick:t[4]||(t[4]=r=>e(m).get(`/${o.company.slug}/items/create`))},{default:l(()=>[a(e(N),{class:"mr-2 h-4 w-4"}),t[12]||(t[12]=i(" Add Item ",-1))]),_:1})]),_:1},8,["icon"])):(d(),_(j,{key:1,columns:B,data:E.value,pagination:{currentPage:o.items.current_page,lastPage:o.items.last_page,perPage:o.items.per_page,total:o.items.total},onRowClick:F},{"cell-item_type":l(({row:r})=>[a(e(G),{variant:T(r._raw.item_type)},{default:l(()=>[i(x(r._raw.item_type),1)]),_:2},1032,["variant"])]),"cell-_actions":l(({row:r})=>[a(e(W),null,{default:l(()=>[a(e(X),{"as-child":""},{default:l(()=>[a(e(v),{variant:"ghost",size:"icon",class:"h-8 w-8"},{default:l(()=>[a(e(Z),{class:"h-4 w-4"})]),_:1})]),_:1}),a(e(Y),{align:"end"},{default:l(()=>[a(e($),{onClick:k=>e(m).get(`/${o.company.slug}/items/${r.id}`)},{default:l(()=>[a(e(ee),{class:"mr-2 h-4 w-4"}),t[13]||(t[13]=i(" View ",-1))]),_:1},8,["onClick"]),a(e($),{onClick:k=>e(m).get(`/${o.company.slug}/items/${r.id}/edit`)},{default:l(()=>[a(e(te),{class:"mr-2 h-4 w-4"}),t[14]||(t[14]=i(" Edit ",-1))]),_:1},8,["onClick"]),a(e($),{class:"text-destructive",onClick:k=>h(r.id)},{default:l(()=>[a(e(ae),{class:"mr-2 h-4 w-4"}),t[15]||(t[15]=i(" Delete ",-1))]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:1},8,["data","pagination"]))]),_:1})],64))}});export{He as default};
