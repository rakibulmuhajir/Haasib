import{d as R,x as D,c,a as l,u as e,h as T,w as i,b as d,y as F,i as y,j as v,e as r,B as q,o as u,t as f,F as g,r as A}from"./app-B-wLZQl0.js";import{_ as j}from"./PageShell.vue_vue_type_script_setup_true_lang-CS74Goxj.js";import{_ as I}from"./index-D8JUok4n.js";import{_}from"./Input.vue_vue_type_script_setup_true_lang-E2jwtM0f.js";import{_ as n}from"./Label.vue_vue_type_script_setup_true_lang-By03EcqK.js";import{_ as L}from"./Textarea.vue_vue_type_script_setup_true_lang-DrbQ2zws.js";import{_ as k,a as b,b as V,c as x,d as p}from"./SelectValue.vue_vue_type_script_setup_true_lang-QDn6lJI8.js";import{_ as $}from"./AppSidebarHeader.vue_vue_type_script_setup_true_lang-DKxjvTPB.js";import{_ as U,a as S}from"./CardContent.vue_vue_type_script_setup_true_lang-f-xi8uWj.js";import{_ as w}from"./CardDescription.vue_vue_type_script_setup_true_lang-D23jLuEj.js";import{_ as C}from"./CardHeader.vue_vue_type_script_setup_true_lang-Cn7HWfaF.js";import{_ as B}from"./CardTitle.vue_vue_type_script_setup_true_lang-DXA8XANX.js";import{S as M}from"./save-CBmuHaqJ.js";import{A as z}from"./arrow-left-DSX0n2_N.js";import"./AppLayout.vue_vue_type_script_setup_true_lang-CAfRB85X.js";import"./loader-circle-BSwxCoSE.js";import"./createLucideIcon-CbxkoCx6.js";import"./info-_qQ0Rbsf.js";import"./circle-check-YKnAkXoj.js";import"./useForwardExpose-Ca12vFmR.js";import"./index-a73qSWOM.js";import"./VisuallyHidden-BZkMfMV2.js";import"./Collection-DN_gmv-a.js";import"./PopperContent-BDPRX1DE.js";import"./handleAndDispatchCustomEvent-ChOKVcqp.js";import"./check-DogY6QNG.js";import"./ohash.D__AXeF1-C-E83dC9.js";import"./nullish-CHIgUVhi.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./RovingFocusGroup-ChUfgJPy.js";import"./building-2-DLYGST8U.js";import"./plus-C63jdNg7.js";import"./index-Buy61MQA.js";import"./settings-B8OaYlkV.js";import"./file-text-CFHWSPvd.js";import"./users-CkYIFvpU.js";import"./calendar-B0yi2zLg.js";import"./VisuallyHiddenInput-CgZzfdZ2.js";const K={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},O={class:"space-y-2"},Q={key:0,class:"text-sm text-destructive"},G={class:"space-y-2"},H={key:0,class:"text-sm text-destructive"},J={class:"space-y-2"},W={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},X={class:"space-y-2"},Y={class:"space-y-2"},Z={class:"space-y-2"},h={class:"space-y-2"},ee={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},te={class:"space-y-2"},le={class:"space-y-2"},ie={class:"space-y-2"},se={class:"space-y-2"},oe={class:"flex items-center space-x-2"},re={key:0,class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ae={class:"space-y-2"},de={class:"space-y-2"},ne={class:"flex items-center space-x-2"},ue={class:"flex items-center space-x-2"},me={class:"flex items-center space-x-2"},pe={class:"flex justify-end gap-4"},Ye=R({__name:"Edit",props:{company:{},item:{},categories:{},currencies:{},taxRates:{},incomeAccounts:{},expenseAccounts:{},assetAccounts:{}},setup(m){const a=m,P=[{title:"Dashboard",href:`/${a.company.slug}`},{title:"Items",href:`/${a.company.slug}/items`},{title:a.item.name,href:`/${a.company.slug}/items/${a.item.id}`},{title:"Edit",href:`/${a.company.slug}/items/${a.item.id}/edit`}],o=D({sku:a.item.sku,name:a.item.name,description:a.item.description??"",item_type:a.item.item_type,category_id:a.item.category_id??"",unit_of_measure:a.item.unit_of_measure,track_inventory:a.item.track_inventory,is_purchasable:a.item.is_purchasable,is_sellable:a.item.is_sellable,cost_price:a.item.cost_price,selling_price:a.item.selling_price,currency:a.item.currency,tax_rate_id:a.item.tax_rate_id??"",income_account_id:a.item.income_account_id??"",expense_account_id:a.item.expense_account_id??"",asset_account_id:a.item.asset_account_id??"",reorder_point:a.item.reorder_point,reorder_quantity:a.item.reorder_quantity,barcode:a.item.barcode??"",is_active:a.item.is_active}),E=()=>{o.put(`/${a.company.slug}/items/${a.item.id}`)};return(N,t)=>(u(),c(g,null,[l(e(T),{title:`Edit ${m.item.name}`},null,8,["title"]),l(j,{title:`Edit ${m.item.name}`,breadcrumbs:P},{actions:i(()=>[l(e(I),{variant:"outline",onClick:t[0]||(t[0]=s=>N.$inertia.get(`/${m.company.slug}/items/${m.item.id}`))},{default:i(()=>[l(e(z),{class:"mr-2 h-4 w-4"}),t[19]||(t[19]=r(" Back ",-1))]),_:1})]),default:i(()=>[d("form",{onSubmit:F(E,["prevent"]),class:"space-y-6 max-w-4xl"},[l(e(U),null,{default:i(()=>[l(e(C),null,{default:i(()=>[l(e(B),null,{default:i(()=>[...t[20]||(t[20]=[r("Basic Information",-1)])]),_:1}),l(e(w),null,{default:i(()=>[...t[21]||(t[21]=[r("Item details and identification",-1)])]),_:1})]),_:1}),l(e(S),{class:"space-y-4"},{default:i(()=>[d("div",K,[d("div",O,[l(e(n),{for:"sku"},{default:i(()=>[...t[22]||(t[22]=[r("SKU *",-1)])]),_:1}),l(e(_),{id:"sku",modelValue:e(o).sku,"onUpdate:modelValue":t[1]||(t[1]=s=>e(o).sku=s),placeholder:"e.g., PROD-001",class:q({"border-destructive":e(o).errors.sku})},null,8,["modelValue","class"]),e(o).errors.sku?(u(),c("p",Q,f(e(o).errors.sku),1)):v("",!0)]),d("div",G,[l(e(n),{for:"name"},{default:i(()=>[...t[23]||(t[23]=[r("Name *",-1)])]),_:1}),l(e(_),{id:"name",modelValue:e(o).name,"onUpdate:modelValue":t[2]||(t[2]=s=>e(o).name=s),placeholder:"Item name",class:q({"border-destructive":e(o).errors.name})},null,8,["modelValue","class"]),e(o).errors.name?(u(),c("p",H,f(e(o).errors.name),1)):v("",!0)])]),d("div",J,[l(e(n),{for:"description"},{default:i(()=>[...t[24]||(t[24]=[r("Description",-1)])]),_:1}),l(e(L),{id:"description",modelValue:e(o).description,"onUpdate:modelValue":t[3]||(t[3]=s=>e(o).description=s),placeholder:"Item description",rows:"3"},null,8,["modelValue"])]),d("div",W,[d("div",X,[l(e(n),{for:"item_type"},{default:i(()=>[...t[25]||(t[25]=[r("Type *",-1)])]),_:1}),l(e(k),{modelValue:e(o).item_type,"onUpdate:modelValue":t[4]||(t[4]=s=>e(o).item_type=s)},{default:i(()=>[l(e(b),null,{default:i(()=>[l(e(V),{placeholder:"Select type"})]),_:1}),l(e(x),null,{default:i(()=>[l(e(p),{value:"product"},{default:i(()=>[...t[26]||(t[26]=[r("Product",-1)])]),_:1}),l(e(p),{value:"service"},{default:i(()=>[...t[27]||(t[27]=[r("Service",-1)])]),_:1}),l(e(p),{value:"non_inventory"},{default:i(()=>[...t[28]||(t[28]=[r("Non-Inventory",-1)])]),_:1}),l(e(p),{value:"bundle"},{default:i(()=>[...t[29]||(t[29]=[r("Bundle",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),d("div",Y,[l(e(n),{for:"category"},{default:i(()=>[...t[30]||(t[30]=[r("Category",-1)])]),_:1}),l(e(k),{modelValue:e(o).category_id,"onUpdate:modelValue":t[5]||(t[5]=s=>e(o).category_id=s)},{default:i(()=>[l(e(b),null,{default:i(()=>[l(e(V),{placeholder:"Select category"})]),_:1}),l(e(x),null,{default:i(()=>[l(e(p),{value:""},{default:i(()=>[...t[31]||(t[31]=[r("None",-1)])]),_:1}),(u(!0),c(g,null,A(m.categories,s=>(u(),y(e(p),{key:s.id,value:s.id},{default:i(()=>[r(f(s.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),d("div",Z,[l(e(n),{for:"unit"},{default:i(()=>[...t[32]||(t[32]=[r("Unit of Measure",-1)])]),_:1}),l(e(_),{id:"unit",modelValue:e(o).unit_of_measure,"onUpdate:modelValue":t[6]||(t[6]=s=>e(o).unit_of_measure=s),placeholder:"e.g., unit, kg, hour"},null,8,["modelValue"])])]),d("div",h,[l(e(n),{for:"barcode"},{default:i(()=>[...t[33]||(t[33]=[r("Barcode",-1)])]),_:1}),l(e(_),{id:"barcode",modelValue:e(o).barcode,"onUpdate:modelValue":t[7]||(t[7]=s=>e(o).barcode=s),placeholder:"Barcode / UPC / EAN"},null,8,["modelValue"])])]),_:1})]),_:1}),l(e(U),null,{default:i(()=>[l(e(C),null,{default:i(()=>[l(e(B),null,{default:i(()=>[...t[34]||(t[34]=[r("Pricing",-1)])]),_:1}),l(e(w),null,{default:i(()=>[...t[35]||(t[35]=[r("Cost and selling prices",-1)])]),_:1})]),_:1}),l(e(S),{class:"space-y-4"},{default:i(()=>[d("div",ee,[d("div",te,[l(e(n),{for:"cost_price"},{default:i(()=>[...t[36]||(t[36]=[r("Cost Price",-1)])]),_:1}),l(e(_),{id:"cost_price",modelValue:e(o).cost_price,"onUpdate:modelValue":t[8]||(t[8]=s=>e(o).cost_price=s),type:"number",step:"0.01",min:"0"},null,8,["modelValue"])]),d("div",le,[l(e(n),{for:"selling_price"},{default:i(()=>[...t[37]||(t[37]=[r("Selling Price",-1)])]),_:1}),l(e(_),{id:"selling_price",modelValue:e(o).selling_price,"onUpdate:modelValue":t[9]||(t[9]=s=>e(o).selling_price=s),type:"number",step:"0.01",min:"0"},null,8,["modelValue"])]),d("div",ie,[l(e(n),{for:"currency"},{default:i(()=>[...t[38]||(t[38]=[r("Currency",-1)])]),_:1}),l(e(k),{modelValue:e(o).currency,"onUpdate:modelValue":t[10]||(t[10]=s=>e(o).currency=s)},{default:i(()=>[l(e(b),null,{default:i(()=>[l(e(V),{placeholder:"Select currency"})]),_:1}),l(e(x),null,{default:i(()=>[(u(!0),c(g,null,A(m.currencies,s=>(u(),y(e(p),{key:s.currency_code,value:s.currency_code},{default:i(()=>[r(f(s.currency_code)+" "+f(s.is_base?"(Base)":""),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])])]),d("div",se,[l(e(n),{for:"tax_rate"},{default:i(()=>[...t[39]||(t[39]=[r("Tax Rate",-1)])]),_:1}),l(e(k),{modelValue:e(o).tax_rate_id,"onUpdate:modelValue":t[11]||(t[11]=s=>e(o).tax_rate_id=s)},{default:i(()=>[l(e(b),{class:"w-full md:w-1/3"},{default:i(()=>[l(e(V),{placeholder:"Select tax rate"})]),_:1}),l(e(x),null,{default:i(()=>[l(e(p),{value:""},{default:i(()=>[...t[40]||(t[40]=[r("None",-1)])]),_:1}),(u(!0),c(g,null,A(m.taxRates,s=>(u(),y(e(p),{key:s.id,value:s.id},{default:i(()=>[r(f(s.name)+" ("+f(s.rate)+"%) ",1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])])]),_:1})]),_:1}),e(o).item_type==="product"?(u(),y(e(U),{key:0},{default:i(()=>[l(e(C),null,{default:i(()=>[l(e(B),null,{default:i(()=>[...t[41]||(t[41]=[r("Inventory",-1)])]),_:1}),l(e(w),null,{default:i(()=>[...t[42]||(t[42]=[r("Stock tracking settings",-1)])]),_:1})]),_:1}),l(e(S),{class:"space-y-4"},{default:i(()=>[d("div",oe,[l(e($),{id:"track_inventory",checked:e(o).track_inventory,"onUpdate:checked":t[12]||(t[12]=s=>e(o).track_inventory=s)},null,8,["checked"]),l(e(n),{for:"track_inventory"},{default:i(()=>[...t[43]||(t[43]=[r("Track inventory for this item",-1)])]),_:1})]),e(o).track_inventory?(u(),c("div",re,[d("div",ae,[l(e(n),{for:"reorder_point"},{default:i(()=>[...t[44]||(t[44]=[r("Reorder Point",-1)])]),_:1}),l(e(_),{id:"reorder_point",modelValue:e(o).reorder_point,"onUpdate:modelValue":t[13]||(t[13]=s=>e(o).reorder_point=s),type:"number",step:"0.001",min:"0"},null,8,["modelValue"]),t[45]||(t[45]=d("p",{class:"text-sm text-muted-foreground"},"Alert when stock falls below this level",-1))]),d("div",de,[l(e(n),{for:"reorder_quantity"},{default:i(()=>[...t[46]||(t[46]=[r("Reorder Quantity",-1)])]),_:1}),l(e(_),{id:"reorder_quantity",modelValue:e(o).reorder_quantity,"onUpdate:modelValue":t[14]||(t[14]=s=>e(o).reorder_quantity=s),type:"number",step:"0.001",min:"0"},null,8,["modelValue"]),t[47]||(t[47]=d("p",{class:"text-sm text-muted-foreground"},"Suggested order quantity when reordering",-1))])])):v("",!0)]),_:1})]),_:1})):v("",!0),l(e(U),null,{default:i(()=>[l(e(C),null,{default:i(()=>[l(e(B),null,{default:i(()=>[...t[48]||(t[48]=[r("Settings",-1)])]),_:1}),l(e(w),null,{default:i(()=>[...t[49]||(t[49]=[r("Item availability options",-1)])]),_:1})]),_:1}),l(e(S),{class:"space-y-4"},{default:i(()=>[d("div",ne,[l(e($),{id:"is_sellable",checked:e(o).is_sellable,"onUpdate:checked":t[15]||(t[15]=s=>e(o).is_sellable=s)},null,8,["checked"]),l(e(n),{for:"is_sellable"},{default:i(()=>[...t[50]||(t[50]=[r("Available for sale (appears on invoices)",-1)])]),_:1})]),d("div",ue,[l(e($),{id:"is_purchasable",checked:e(o).is_purchasable,"onUpdate:checked":t[16]||(t[16]=s=>e(o).is_purchasable=s)},null,8,["checked"]),l(e(n),{for:"is_purchasable"},{default:i(()=>[...t[51]||(t[51]=[r("Available for purchase (appears on bills)",-1)])]),_:1})]),d("div",me,[l(e($),{id:"is_active",checked:e(o).is_active,"onUpdate:checked":t[17]||(t[17]=s=>e(o).is_active=s)},null,8,["checked"]),l(e(n),{for:"is_active"},{default:i(()=>[...t[52]||(t[52]=[r("Active",-1)])]),_:1})])]),_:1})]),_:1}),d("div",pe,[l(e(I),{variant:"outline",type:"button",onClick:t[18]||(t[18]=s=>N.$inertia.get(`/${m.company.slug}/items/${m.item.id}`))},{default:i(()=>[...t[53]||(t[53]=[r(" Cancel ",-1)])]),_:1}),l(e(I),{type:"submit",disabled:e(o).processing},{default:i(()=>[l(e(M),{class:"mr-2 h-4 w-4"}),r(" "+f(e(o).processing?"Saving...":"Update Item"),1)]),_:1},8,["disabled"])])],32)]),_:1},8,["title"])],64))}});export{Ye as default};
