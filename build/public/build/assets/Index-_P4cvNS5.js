import{d as F,q as $,s as U,c as A,a as t,u as e,h as K,w as a,b as c,i as L,j as T,N as q,e as o,t as r,f as d,o as w,F as G}from"./app-B-wLZQl0.js";import{S as H,_ as J}from"./PageShell.vue_vue_type_script_setup_true_lang-CS74Goxj.js";import{_ as M}from"./EmptyState.vue_vue_type_script_setup_true_lang-CrAvLLsO.js";import{_ as Q}from"./DataTable.vue_vue_type_script_setup_true_lang-BQW8AXQk.js";import{_ as x}from"./index-a73qSWOM.js";import{_ as y}from"./index-D8JUok4n.js";import{_ as R}from"./Input.vue_vue_type_script_setup_true_lang-E2jwtM0f.js";import{_ as W,a as X,b as Y,c as Z,d as m}from"./SelectValue.vue_vue_type_script_setup_true_lang-QDn6lJI8.js";import{u as ee,b as C,c as S,d as V,e as _}from"./AppSidebarHeader.vue_vue_type_script_setup_true_lang-DKxjvTPB.js";import{E as j}from"./ellipsis-DRk1q4ie.js";import{E as D}from"./eye-pMepw5BK.js";import{P as I}from"./pencil-R0Fiz8Cs.js";import{S as E}from"./send-C-rqTrkv.js";import{P as te}from"./plus-C63jdNg7.js";import"./AppLayout.vue_vue_type_script_setup_true_lang-CAfRB85X.js";import"./loader-circle-BSwxCoSE.js";import"./createLucideIcon-CbxkoCx6.js";import"./info-_qQ0Rbsf.js";import"./circle-check-YKnAkXoj.js";import"./useForwardExpose-Ca12vFmR.js";import"./VisuallyHidden-BZkMfMV2.js";import"./Collection-DN_gmv-a.js";import"./PopperContent-BDPRX1DE.js";import"./handleAndDispatchCustomEvent-ChOKVcqp.js";import"./check-DogY6QNG.js";import"./ohash.D__AXeF1-C-E83dC9.js";import"./nullish-CHIgUVhi.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./RovingFocusGroup-ChUfgJPy.js";import"./building-2-DLYGST8U.js";import"./index-Buy61MQA.js";import"./settings-B8OaYlkV.js";import"./file-text-CFHWSPvd.js";import"./users-CkYIFvpU.js";import"./calendar-B0yi2zLg.js";import"./Label.vue_vue_type_script_setup_true_lang-By03EcqK.js";import"./VisuallyHiddenInput-CgZzfdZ2.js";const ae={class:"flex flex-col gap-4 md:flex-row mb-6"},se={class:"relative flex-1"},le={class:"rounded-xl border border-zinc-200 bg-white p-4 shadow-sm"},ie={class:"space-y-3"},ne={class:"flex items-center justify-between"},oe={class:"font-semibold text-zinc-900"},ce={class:"text-sm text-zinc-500"},re={class:"flex items-center justify-between"},ue={class:"font-medium"},de={class:"flex items-center justify-between"},me={class:"font-medium"},fe={class:"pt-2 border-t border-zinc-100"},Xe=F({__name:"Index",props:{company:{},invoices:{},filters:{}},setup(u){const f=u,b=$(f.filters.search),p=$(f.filters.status||"all"),N=$(f.filters.customer_id),{t:l,has:O}=ee(),z=[{title:l("dashboard"),href:`/${f.company.slug}`},{title:l("invoices"),href:`/${f.company.slug}/invoices`}],g=()=>{d.get(`/${f.company.slug}/invoices`,{search:b.value,status:p.value==="all"?"":p.value,customer_id:N.value},{preserveState:!0})},h=n=>{switch(n){case"draft":return"secondary";case"sent":case"viewed":return"default";case"paid":return"success";case"overdue":return"destructive";case"cancelled":case"void":return"outline";default:return"secondary"}},k=(n,s)=>new Intl.NumberFormat("en-US",{style:"currency",currency:s||"USD"}).format(n),B=[{key:"invoice_number",label:l("invoiceNumber")},{key:"customer",label:l("customer")},{key:"status",label:l("status")},{key:"total_amount",label:l("total")},{key:"balance",label:l("balance")},{key:"due_date",label:l("dueDate")},{key:"_actions",label:"",sortable:!1}],P=U(()=>f.invoices.data.map(n=>({id:n.id,invoice_number:n.invoice_number,customer:n.customer.name,status:O(n.status)?l(n.status):n.status,total_amount:k(n.total_amount,n.currency),balance:k(n.balance,n.currency),due_date:new Date(n.due_date).toLocaleDateString(),_actions:n.id,_invoiceObject:n})));return(n,s)=>(w(),A(G,null,[t(e(K),{title:e(l)("invoices")},null,8,["title"]),t(J,{title:e(l)("invoices"),breadcrumbs:z},{actions:a(()=>[t(e(y),{onClick:s[0]||(s[0]=i=>e(d).get(`/${u.company.slug}/invoices/create`))},{default:a(()=>[t(e(te),{class:"mr-2 h-4 w-4"}),o(" "+r(e(l)("newInvoice")),1)]),_:1})]),default:a(()=>[c("div",ae,[c("div",se,[t(e(H),{class:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),t(e(R),{modelValue:b.value,"onUpdate:modelValue":s[1]||(s[1]=i=>b.value=i),placeholder:e(l)("searchInvoicePlaceholder"),class:"pl-10",onKeyup:q(g,["enter"])},null,8,["modelValue","placeholder"])]),t(e(W),{modelValue:p.value,"onUpdate:modelValue":[s[2]||(s[2]=i=>p.value=i),g]},{default:a(()=>[t(e(X),{class:"w-[180px]"},{default:a(()=>[t(e(Y),{placeholder:e(l)("allStatus")},null,8,["placeholder"])]),_:1}),t(e(Z),null,{default:a(()=>[t(e(m),{value:"all"},{default:a(()=>[o(r(e(l)("allStatus")),1)]),_:1}),t(e(m),{value:"draft"},{default:a(()=>[o(r(e(l)("draft")),1)]),_:1}),t(e(m),{value:"sent"},{default:a(()=>[o(r(e(l)("sent")),1)]),_:1}),t(e(m),{value:"viewed"},{default:a(()=>[o(r(e(l)("viewed")),1)]),_:1}),t(e(m),{value:"paid"},{default:a(()=>[o(r(e(l)("paid")),1)]),_:1}),t(e(m),{value:"overdue"},{default:a(()=>[o(r(e(l)("overdue")),1)]),_:1}),t(e(m),{value:"cancelled"},{default:a(()=>[o(r(e(l)("cancelled")),1)]),_:1}),t(e(m),{value:"void"},{default:a(()=>[o(r(e(l)("void")),1)]),_:1})]),_:1})]),_:1},8,["modelValue"])]),t(Q,{columns:B,data:P.value,pagination:u.invoices},{status:a(({value:i})=>[t(e(x),{variant:h(i)},{default:a(()=>[o(r(i),1)]),_:2},1032,["variant"])]),"cell-_actions":a(({row:i})=>[t(e(C),null,{default:a(()=>[t(e(S),{asChild:""},{default:a(()=>[t(e(y),{variant:"ghost",class:"h-8 w-8 p-0"},{default:a(()=>[t(e(j),{class:"h-4 w-4"})]),_:1})]),_:1}),t(e(V),{align:"end"},{default:a(()=>[t(e(_),{onClick:v=>e(d).get(`/${u.company.slug}/invoices/${i._invoiceObject.id}`)},{default:a(()=>[t(e(D),{class:"mr-2 h-4 w-4"}),s[4]||(s[4]=o(" View ",-1))]),_:1},8,["onClick"]),t(e(_),{onClick:v=>e(d).get(`/${u.company.slug}/invoices/${i._invoiceObject.id}/edit`)},{default:a(()=>[t(e(I),{class:"mr-2 h-4 w-4"}),s[5]||(s[5]=o(" Edit ",-1))]),_:1},8,["onClick"]),t(e(_),{onClick:v=>e(d).post(`/${u.company.slug}/invoices/${i._invoiceObject.id}/send`)},{default:a(()=>[t(e(E),{class:"mr-2 h-4 w-4"}),s[6]||(s[6]=o(" Send ",-1))]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024)]),"mobile-card":a(({row:i})=>[c("div",le,[c("div",ie,[c("div",ne,[c("div",null,[c("h3",oe,r(i.invoice_number),1),c("p",ce,r(i.customer),1)]),t(e(x),{variant:h(i.status)},{default:a(()=>[o(r(i.status),1)]),_:2},1032,["variant"])]),c("div",re,[s[7]||(s[7]=c("span",{class:"text-sm text-zinc-500"},"Amount",-1)),c("span",ue,r(i.total_amount),1)]),c("div",de,[s[8]||(s[8]=c("span",{class:"text-sm text-zinc-500"},"Due Date",-1)),c("span",me,r(i.due_date),1)]),c("div",fe,[t(e(C),null,{default:a(()=>[t(e(S),{asChild:""},{default:a(()=>[t(e(y),{variant:"ghost",class:"w-full justify-between"},{default:a(()=>[s[9]||(s[9]=o(" Actions ",-1)),t(e(j),{class:"h-4 w-4"})]),_:1})]),_:1}),t(e(V),{align:"end",class:"w-48"},{default:a(()=>[t(e(_),{onClick:v=>e(d).get(`/${u.company.slug}/invoices/${i._invoiceObject.id}`)},{default:a(()=>[t(e(D),{class:"mr-2 h-4 w-4"}),s[10]||(s[10]=o(" View ",-1))]),_:1},8,["onClick"]),t(e(_),{onClick:v=>e(d).get(`/${u.company.slug}/invoices/${i._invoiceObject.id}/edit`)},{default:a(()=>[t(e(I),{class:"mr-2 h-4 w-4"}),s[11]||(s[11]=o(" Edit ",-1))]),_:1},8,["onClick"]),t(e(_),{onClick:v=>e(d).post(`/${u.company.slug}/invoices/${i._invoiceObject.id}/send`)},{default:a(()=>[t(e(E),{class:"mr-2 h-4 w-4"}),s[12]||(s[12]=o(" Send ",-1))]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024)])])])]),_:1},8,["data","pagination"]),u.invoices.data.length===0?(w(),L(M,{key:0,icon:"FileText",title:e(l)("noInvoices"),description:e(l)("noInvoicesDesc"),"action-label":e(l)("newInvoice"),onAction:s[3]||(s[3]=i=>e(d).get(`/${u.company.slug}/invoices/create`))},null,8,["title","description","action-label"])):T("",!0)]),_:1},8,["title"])],64))}});export{Xe as default};
